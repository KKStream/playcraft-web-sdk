{"version":3,"file":"playcraft.js","sources":["../src/config/index.js","../src/util/index.js","../src/playerCore/drm.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/index.js","../src/config/lang/index.js","../src/Enum.js","../src/Types.js","../src/playerCore/events.js","../src/playerCore/getErrorInfo.js","../src/player/store/action/index.js","../src/player/store/action/UI.js","../src/Hooks.js","../src/util/events.js","../src/playerCore/playlog.js","../src/player/createSession.js","../src/player/playerContext.js","../src/player/store/index.jsx","../src/util/loadScript.js","../src/cast/framework.js","../src/cast/context.js","../src/util/mediaSource.js","../src/player/store/action/Player.js","../src/player/store/middleware/localStorage.js","../src/player/store/action/API.js","../src/player/store/operator.js","../src/player/store/adapter/Cast.jsx","../node_modules/uuid/lib/rng.js","../node_modules/uuid/lib/bytesToUuid.js","../node_modules/uuid/v1.js","../node_modules/uuid/v4.js","../node_modules/uuid/index.js","../src/player/store/adapter/LimitOnePlayback.jsx","../src/player/store/adapter/LocalStorage.jsx","../src/util/parseThumbnails.js","../src/player/store/adapter/API/Service/Resource.js","../src/player/store/adapter/API/Service/Session.js","../src/player/store/adapter/API/Service/index.jsx","../src/player/store/adapter/Event.jsx","../src/player/store/adapter/Agent.jsx","../src/util/environment.js","../src/player/store/adapter/EnvironmentValidator.jsx","../src/player/store/adapter/MobileSafariPlugin.jsx","../src/player/store/adapter/OTP_1878.jsx","../src/context/I18n/Provider.jsx","../src/context/I18n/Message.jsx","../src/context/I18n/index.js","../src/component/DeviceDetecter/index.jsx","../src/playerCore/blurPause.js","../src/style/index.js","../src/playerCore/adaptation.js","../src/player/safari.js","../src/player/BitmovinPlayer.jsx","../src/player/PlayerVideo.js","../src/player/store/useStore.js","../src/util/formattedTime.js","../src/player/store/getPlaybackInfo.js","../src/player/store/useUiActions.js","../src/player/container/CoverImageWrap.js","../src/player/store/getPlaybackState.js","../src/style/icon.js","../src/component/Tooltip.jsx","../src/player/container/ControlsTooltip.js","../src/player/store/action/playAction.js","../src/component/Button/SquareButton.jsx","../src/component/Icon.jsx","../src/player/container/Button/IconButton.jsx","../src/player/container/Button/PlayButton.jsx","../src/component/SimpleSlider.jsx","../src/component/VideoThumbnail.jsx","../src/player/store/useThumbnail.js","../src/player/container/Seekbar.js","../src/player/container/LiveSeekbar.jsx","../src/player/container/Button/RewindButton.jsx","../src/player/container/Button/ForwardButton.jsx","../src/component/VolumeControl.js","../src/player/store/usePlayerVolume.js","../src/player/container/VolumeControl.js","../src/player/store/middleware/logger.js","../src/player/store/middleware/thunk.js","../src/player/store/middleware/createGate.js","../src/player/store/reducer/API.js","../src/player/store/reducer/Player.js","../src/player/store/reducer/UI.js","../src/player/store/reducer/LocalStorage.js","../src/player/store/reducer/index.js","../src/player/store/createStore.js","../src/player/Hooks.js","../src/player/settings.js","../src/player/container/Button/SettingButton.jsx","../src/component/Button/CastButton.jsx","../src/player/container/Button/CastButton.jsx","../src/player/container/FunctionButtons.js","../src/player/container/Button/FullScreenButton.jsx","../src/player/container/Button/PreEpisodeButton.jsx","../src/player/container/Button/NextEpisodeButton.jsx","../src/player/container/Button/BackButton.jsx","../src/component/ErrorMessage.jsx","../src/component/Button/TextButton.jsx","../src/component/Mask/Error.jsx","../src/component/Mask/Loading.jsx","../src/component/Panel/PlayPanel.jsx","../src/component/Button/Link.jsx","../src/component/Mask/LinearEnd.jsx","../src/component/Mask/Cast.jsx","../src/component/Button/SkipButton.js","../src/player/getComponents.js","../src/playerUi/DefaultLayout.js","../src/component/Panel/RecommendationPanel.jsx","../src/playerUi/BottomPanels.js","../src/playerUi/Subtitles.js","../src/playerUi/index.js","../src/component/PlayDialog.jsx","../src/player/container/AutoplayDialog.jsx","../src/player/container/PlayerSettings.js","../src/player/container/PlayerUi.js","../src/player/linear.js","../src/player/vod.js","../src/player/index.jsx","../src/enterprise.js","../src/playerCore/fetchManifests.js","../src/ad/impression.js","../src/ad/vast.js","../src/ad/seekingHandler.js","../src/plugins/MediaTailor.js","../src/component/Panel/FunctionBar.jsx","../src/component/FormattedTime.jsx","../src/cast/container/Seekbar.jsx","../src/cast/container/IconButton.jsx","../src/cast/container/PlayButton.jsx","../src/cast/container/RewindButton.jsx","../src/cast/container/ForwardButton.jsx","../src/cast/container/PreEpisodeButton.jsx","../src/cast/container/NextVideoButton.jsx","../src/cast/container/MiniControl.jsx","../src/cast/index.js","../src/player/handleIOSHeadphonesDisconnection.js","../src/index.js"],"sourcesContent":["import BitmovinConfig from './BitmovinConfig.json'\nimport desktop from './env/desktop.json'\nimport mobile from './env/mobile.json'\n\nexport default {\n  BitmovinConfig,\n  SupportEnvironment: {\n    desktop,\n    mobile,\n  },\n}\n","import _get from 'dlv'\n\nexport const combineReducer = structure => {\n  const props = Object.keys(structure)\n  return (state, action) => {\n    const newState = props.reduce((res, name) => {\n      res[name] = structure[name](state[name], action)\n      return res\n    }, {})\n    const isChange = props.some(name => state[name] !== newState[name])\n    return isChange ? newState : state\n  }\n}\n\nconst queryString = object =>\n  object &&\n  typeof object === 'object' &&\n  Object.getOwnPropertyNames(object)\n    .map(name => `${name}=${encodeURIComponent(object[name])}`)\n    .join('&')\n\nexport const convertToSearch = query =>\n  Object.entries(query)\n    .map(([key, value]) => {\n      const jsonString = JSON.stringify(value)\n      const encodedValue = ['string'].includes(typeof value)\n        ? encodeURIComponent(jsonString)\n        : jsonString\n      return [encodeURIComponent(key), encodedValue]\n    })\n    .reduce((res, [key, value]) => `${res}${key}=${value}&`, '?')\n    .slice(0, -1)\n\nconst toKeyValuePair = (object = {}) =>\n  Object.entries(object)\n    .map(([key, value]) => `${key}: ${value}`)\n    .join('\\n')\n\nexport const mapPlayerOptions = values => ({\n  ...values,\n  contentOther: toKeyValuePair(values.contentOther),\n  langCustomCode: toKeyValuePair(values.langCustomCode),\n  customHeader: toKeyValuePair(values.customHeader),\n  ampProps: toKeyValuePair(values.ampProps),\n  supportEnvironmentList: JSON.stringify(values.supportEnvironmentList),\n})\n\nexport const catchBy = error => func => (...args) => {\n  try {\n    return func.apply(this, args)\n  } catch (e) {\n    return error(e)\n  }\n}\n\nexport function scope(min, value, max) {\n  if (min > value) return min\n  if (max < value) return max\n  return value\n}\n\nexport const getLiveTime = detail => {\n  const startTime = _get(detail, 'start_time') || _get(detail, 'startTime') || 0\n  const endTime = _get(detail, 'end_time') || _get(detail, 'endTime') || 0\n  const duration = endTime - startTime\n  const nowSecond = Math.floor(Date.now() / 1000)\n\n  return {\n    currentTime: scope(0, nowSecond - startTime, duration),\n    duration,\n  }\n}\n\nexport function convertToTimeString(date, fmt) {\n  return fmt\n    .replace(/YYYY/g, `0000${date.getFullYear()}`.slice(-4))\n    .replace(/MM/g, `00${date.getMonth() + 1}`.slice(-2))\n    .replace(/DD/g, `00${date.getDate()}`.slice(-2))\n    .replace(/HH/g, `00${date.getHours()}`.slice(-2))\n    .replace(/mm/g, `00${date.getMinutes()}`.slice(-2))\n    .replace(/SS/g, `00${date.getSeconds()}`.slice(-2))\n}\n\nexport function convertToSeconds(timeString) {\n  const [hours, minutes, seconds] = timeString.split(':').map(parseFloat)\n  return hours * 3600 + minutes * 60 + seconds\n}\n\nexport function isInScope(min, value, max) {\n  return min <= value && value <= max\n}\n\nexport function getVersion() {\n  try {\n    // eslint-disable-next-line no-undef\n    return process.env.VERSION\n  } catch (e) {\n    return undefined\n  }\n}\n\nexport function getPopoverPosition(rect, target, boundary) {\n  const rectX = rect.x || rect.left\n  const boundaryX = boundary.x || boundary.left\n  const maxLeft = boundary.width - rect.width\n  const targetCenter = (target.left + target.right) / 2 - boundaryX\n  const center = rectX + rect.width / 2 - boundaryX\n  const alignLeft = rectX + (targetCenter - center) - boundaryX\n  return {\n    left: Math.max(0, Math.min(alignLeft, maxLeft)),\n    top: target.top - rect.height,\n  }\n}\n\n// eslint-disable-next-line consistent-return\nexport const safeExec = (func, args = []) => {\n  try {\n    return func && func(...args)\n  } catch (e) {\n    console.warn(e)\n  }\n}\n\nexport const debounce = (callback, ms) => {\n  let lastTouchEnd = 0\n  return event => {\n    const now = new Date().getTime()\n    if (now - lastTouchEnd <= ms) {\n      event.preventDefault()\n    } else {\n      callback(event)\n      lastTouchEnd = now\n    }\n  }\n}\n\nexport {queryString, queryString as convertObjectToQueryString}\n","/* eslint-disable indent */\nimport {queryString} from 'util/index'\n\nconst FairplayKeySystem = {\n  prepareContentId: contentUri => {\n    const uriParts = contentUri.split('://')\n    const contentId = uriParts[1] || ''\n    return uriParts[0].slice(-3).toLowerCase() === 'skd' ? contentId : ''\n  },\n  prepareCertificate: cert => new Uint8Array(cert),\n  prepareMessage: (keyMessageEvent, keySession) => {\n    const spc = encodeURIComponent(keyMessageEvent.messageBase64Encoded)\n    const assetId = encodeURIComponent(keySession.contentId)\n\n    return `spc=${spc}&asset_id=${assetId}`\n  },\n  prepareLicense: license => {\n    if (license.substr(0, 5) === '<ckc>' && license.substr(-6) === '</ckc>') {\n      return license.slice(5, -6)\n    }\n\n    return license\n  },\n}\n\n/**\n * @typedef {'HW_SECURE_ALL'|'HW_SECURE_DECODE'|'HW_SECURE_CRYPTO'|'SW_SECURE_DECODE'|'SW_SECURE_CRYPTO'|''} WidevineLevels\n * @description Check if device supports hardware widevine (Level 1)\n * @param {object}\n * @returns {Promise<WidevineLevels>}\n */\nconst getWidevineLevel = async () => {\n  const levels = [\n    'HW_SECURE_ALL',\n    'HW_SECURE_DECODE',\n    'HW_SECURE_CRYPTO',\n    'SW_SECURE_DECODE',\n    'SW_SECURE_CRYPTO',\n  ]\n\n  try {\n    const keySystem = await navigator.requestMediaKeySystemAccess(\n      'com.widevine.alpha',\n      levels.map(robustness => ({\n        videoCapabilities: [\n          {\n            contentType: 'video/mp4;codecs=\"avc1.4d401e\"',\n            robustness,\n          },\n        ],\n      }))\n    )\n    return keySystem.getConfiguration()?.videoCapabilities[0].robustness || ''\n  } catch (e) {\n    return ''\n  }\n}\n\nconst getDeviceLevel = level => (level?.startsWith?.('HW') ? 1 : 3)\n\nconst getRobustness = widevine => {\n  const deviceLevel = getDeviceLevel(widevine.level)\n  const policy = widevine.policy || 'device'\n  const blocked = (widevine.blockedDevices || []).some(name =>\n    navigator.userAgent.includes(name)\n  )\n  return policy === 'force-l3'\n    ? 'SW_SECURE_DECODE'\n    : policy === 'auto'\n    ? undefined\n    : policy === 'force-l1'\n    ? deviceLevel === 1\n      ? widevine.level\n      : 'HW_SECURE_DECODE'\n    : blocked\n    ? 'SW_SECURE_DECODE'\n    : widevine.level\n}\n\nconst getDrmConfig = (config, {host, widevine = {}, fairplay = {}}) => {\n  const videoRobustness = getRobustness(widevine)\n  const widevineHeaders = {\n    ...config.headers,\n    ...widevine?.headers,\n  }\n  const fairplayHeaders = {\n    ...config.headers,\n    ...fairplay?.headers,\n  }\n\n  return {\n    widevine: {\n      LA_URL: host.widevine,\n      ...config,\n      headers: widevineHeaders,\n      ...(videoRobustness && {videoRobustness}),\n    },\n    fairplay: {\n      LA_URL: host.fairplay,\n      ...config,\n      headers: fairplayHeaders,\n      certificateURL: `${host.fairplay.replace(/\\/$/, '')}/fairplay_cert`,\n      certificateHeaders: fairplay.certificateHeaders,\n      ...FairplayKeySystem,\n    },\n    playready: {\n      LA_URL: host.playready,\n      ...config,\n    },\n  }\n}\n\n/**\n * @param {object}\n * @param {object} .host\n * @param {string} .host.widevine\n * @param {string} .host.fairplay\n * @param {string} .host.playready\n * @param {string} .token\n * @param {object} .headers\n * @param {object} .widevine\n * @param {WidevineLevels} .widevine.level\n * @param {string[]} .widevine.blockedDevices Some devices doesn't play well\n * with hardware based Widevine, so don't enforce it\n */\nconst getEnterpriseDrmConfig = ({host, token, headers = {}, widevine = {}}) => {\n  const config = {\n    withCredentials: false,\n    headers: {\n      'X-Custom-Data': `token_type=playback&token_value=${token}`,\n      'X-Custom-Header': queryString(headers),\n    },\n  }\n  const deviceLevel = getDeviceLevel(widevine?.level)\n\n  return getDrmConfig(config, {\n    host,\n    widevine: {\n      ...widevine,\n      headers: {\n        'X-Custom-Header': queryString({\n          ...headers,\n          widevine_security_level: `L${deviceLevel}`,\n        }),\n      },\n    },\n  })\n}\n\nconst getDefaultDrmConfig = ({host, token, widevine = {}}) => {\n  const config = {\n    withCredentials: false,\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  }\n  const fairplay = {\n    headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n    certificateHeaders: {Authorization: `Bearer ${token}`},\n  }\n\n  return getDrmConfig(config, {host, widevine, fairplay})\n}\n\nexport {getEnterpriseDrmConfig, getDefaultDrmConfig, getWidevineLevel}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import en from './en.json'\nimport ja from './ja.json'\nimport zhTW from './zh-TW.json'\n\nexport default {\n  en,\n  ja,\n  'zh-tw': zhTW,\n}\n","export const LanguageCode = {\n  EN: 'en',\n  JA: 'ja',\n  ZHTW: 'zh-TW',\n}\nexport const ModuleState = {\n  UNINITIALIZATION: 0,\n  INITIALIZING: 1,\n  INITIALIZED: 2,\n  LOADING_CONTENT: 3,\n  LOADING: 3.1,\n  READY: 4,\n  ERROR: Infinity,\n}\nexport const StorageKey = {\n  VOLUME: 'KKSPlayback-volume',\n  LIMIT_ONE_PLAYBACK: 'KKSPlayback-limitOnePlayback',\n}\nexport const PlayerState = {\n  UNMOUNTED: 0,\n  MOUNTING: 1,\n  MOUNTED: 2,\n  LOADING: 3,\n  LOADED: 4,\n  READY: 5,\n  STALLING: 5.1,\n  PLAYING: 6,\n  PAUSED: 7,\n  ENDED: 8,\n}\nexport const PlayerViewMode = {\n  FULLSCREEN: 'fullscreen',\n  INLINE: 'inline',\n  PICTURE_IN_PICTURE: 'pictureinpicture',\n}\nexport const APIState = {\n  DISABLE: 0,\n  ENABLE: 1,\n  LOADING: 2,\n  READY: 3,\n}\n\nexport const AgentCommand = {\n  AUTO: 'AUTO',\n  PLAY: 'PLAY',\n  PAUSE: 'PAUSE',\n  UNMOUNT: 'UNMOUNT',\n}\nexport const EnvironmentErrorName = {\n  NOT_SUPPORT_DEVICE: 'KKS.ERROR.DEVICE_IS_NOT_SUPPORTED',\n  NOT_SUPPORT_OS: 'KKS.ERROR.OS_IS_NOT_SUPPORTED',\n  NOT_SUPPORT_OS_VERSION: 'KKS.ERROR.PLEASE_UPGRADE_OS',\n  NOT_SUPPORT_BROWSER: 'KKS.ERROR.BROWSER_IS_NOT_SUPPORTED',\n  NOT_SUPPORT_BROWSER_VERSION: 'KKS.ERROR.PLEASE_UPGRADE_BROWSER',\n}\nexport const SeekOrigin = {\n  START: 'START',\n  CURRENT: 'CURRENT',\n}\nexport const CastState = {\n  NO_DEVICES_AVAILABLE: 'NO_DEVICES_AVAILABLE',\n  CONNECTED: 'CONNECTED',\n  CONNECTING: 'CONNECTING',\n  NOT_CONNECTED: 'NOT_CONNECTED',\n}\nexport const ItemType = {\n  VIDEOS: 'videos',\n  LIVES: 'lives',\n}\n","import PropTypes from 'prop-types'\nimport lang from 'config/lang'\nimport {\n  LanguageCode as LanguageCodeEnum,\n  PlayerState as PlayerStateEnum,\n  AgentCommand as AgentCommandEnum,\n  ItemType as ItemTypeEnum,\n} from './Enum'\n\nconst ID = PropTypes.oneOfType([PropTypes.number, PropTypes.string])\nconst LanguageCode = PropTypes.oneOf(Object.values(LanguageCodeEnum))\nconst SupportEnvironmentItem = PropTypes.shape({\n  device: PropTypes.shape({type: PropTypes.string}),\n  os: PropTypes.shape({name: PropTypes.string, version: PropTypes.string}),\n  browser: PropTypes.shape({name: PropTypes.string, version: PropTypes.string}),\n})\nconst ItemType = PropTypes.oneOf(Object.values(ItemTypeEnum))\nconst VideoInfo = PropTypes.shape({\n  contentId: ID,\n  contentType: ItemType,\n  licenseId: ID,\n})\nconst PlayerState = PropTypes.oneOf(Object.values(PlayerStateEnum))\nconst TextCode = PropTypes.oneOf(\n  Array.from(\n    new Set(\n      Object.entries(lang).reduce(\n        (res, langItem) => res.concat(Object.keys(langItem[1])),\n        []\n      )\n    )\n  )\n)\nconst AgentCommand = PropTypes.oneOf(Object.values(AgentCommandEnum))\n\nexport default {\n  ID,\n  LanguageCode,\n  SupportEnvironmentItem,\n  VideoInfo,\n  PlayerState,\n  TextCode,\n  AgentCommand,\n  ItemType,\n}\n","const pipeEvents = (source, target, types) => {\n  const registered = types.map(name => {\n    const pipe = event => target.emit(name, event)\n    source.addEventListener(name, pipe)\n    return () => source.removeEventListener(name, pipe)\n  })\n\n  return () =>\n    [].concat(...registered).forEach(removeListener => removeListener())\n}\n\nconst linkPluginEvents = (plugins, handlers) => {\n  const registered = plugins.map(plugin =>\n    Object.entries(handlers).map(([eventName, handler]) =>\n      plugin.on?.(eventName, event => handler(event, plugin))\n    )\n  )\n\n  return () =>\n    [].concat(...registered).forEach(removeListener => removeListener?.())\n}\n\nexport {linkPluginEvents, pipeEvents}\n","const getPlaycraftErrorMessage = code => {\n  switch (+code) {\n    // HTTP errors\n    case 401: // please login\n      return 'KKS.ERROR.PLAYCRAFT.401'\n\n    case 404: // not found\n      return 'KKS.ERROR.PLAYCRAFT.404'\n\n    case 429: // too many requests in a given amount of time\n      return 'KKS.ERROR.PLAYCRAFT.429'\n\n    case 503: // system is in maintenance\n      return 'KKS.ERROR.PLAYCRAFT.429'\n\n    // 403 Forbidden sub types\n    case 1000: // permission required to play\n      return 'KKS.ERROR.PLAYCRAFT.1000'\n\n    case 1003: // can't play in current location\n      return 'KKS.ERROR.PLAYCRAFT.1003'\n\n    case 1002: // playing on other devices, concurrent streaming device limit exceeded\n    case 10021: // playing on other browser tab\n      return 'KKS.ERROR.PLAYCRAFT.1002'\n\n    case 1004: // delete downloaded video in another device to play\n      return 'KKS.ERROR.PLAYCRAFT.1004'\n\n    // web player doesn't have download feature. TODO: confirm is this safe to remove\n    case 1001: // permission required to download\n      return 'KKS.ERROR.PLAYCRAFT.1001'\n\n    // bugs\n    case 400: // check API request data\n    case 403: // below are server bugs\n    case 500:\n    case 501:\n    default:\n      return 'KKS.ERROR'\n  }\n}\n\nconst getErrorInfo = (error = {}) => {\n  if (\n    /network/i.test(error.name + error.message) ||\n    /ECONN/.test(error.name + error.code)\n  ) {\n    const code = [2, error.code].filter(Boolean).join('/')\n    return {code, message: 'KKS.ERROR.NETWORK_ERROR'}\n  }\n  if (error.code) {\n    return {...error, message: getPlaycraftErrorMessage(error.code)}\n  }\n  const data = error.response?.data?.error\n  if (data?.code) {\n    return {...data, message: getPlaycraftErrorMessage(data.code)}\n  }\n  const httpStatus = error.response?.status\n  if (httpStatus) {\n    return {code: httpStatus, message: `KKS.ERROR.PLAYCRAFT.${httpStatus}`}\n  }\n\n  return {code: '1', message: 'KKS.ERROR'}\n}\n\nexport default getErrorInfo\n","import getErrorInfo from 'playerCore/getErrorInfo'\n\nexport const type = {\n  INITIALIZE: 'INITIALIZE',\n  INITIALIZED: 'INITIALIZED',\n  LOAD_CONTENT: 'LOAD_CONTENT',\n  READY_TO_PLAY: 'READY_TO_PLAY',\n  BACK: 'BACK',\n  CAST_STATE_CHAGNE: 'CAST_STATE_CHAGNE',\n  REPLAY: 'REPLAY',\n\n  ERROR: 'ERROR',\n}\nexport default {\n  initialize: () => ({type: type.INITIALIZE}),\n  initialized: () => ({type: type.INITIALIZED}),\n  loadContent: () => ({type: type.LOAD_CONTENT}),\n  readyToPlay: () => ({type: type.READY_TO_PLAY}),\n  back: () => ({type: type.BACK}),\n  castStateChange: castState => ({type: type.CAST_STATE_CHAGNE, castState}),\n  replay: () => ({type: type.REPLAY}),\n\n  error: (from, error) => {\n    console.error(error)\n    return {type: type.ERROR, from, error: getErrorInfo(error || undefined)}\n  },\n}\n","import Action from './index'\n\nexport const type = {\n  CHANGE_NEXT_EPISODE: 'UI_CHANGE_NEXT_EPISODE',\n  CHANGE_PREVIOUS_EPISODE: 'UI_CHANGE_PREVIOUS_EPISODE',\n  SELECT_QUALITY: 'UI_SELECT_QUALITY',\n  SET_QUALITY_ITEMS: 'UI_SET_QUALITY_ITEMS',\n  SELECT_MEDIA_SOURCE: 'UI_SELECT_MEDIA_SOURCE',\n  SET_MEDIA_SOURCES: 'UI_SET_MEDIA_SOURCES',\n  CHANGE_THUMBNAIL_SEEKING: 'CHANGE_THUMBNAIL_SEEKING',\n  CHANGE_RECOMMENDATION_PANEL: 'CHANGE_RECOMMENDATION_PANEL',\n  TOGGLE_RECOMMENDATION_PANEL: 'TOGGLE_RECOMMENDATION_PANEL',\n  OPEN_PANEL: 'OPEN_PANEL',\n  HIDE_PANEL: 'HIDE_PANEL',\n  OFFER_AUTOPLAY: 'OFFER_AUTOPLAY',\n  DISMISS_AUTOPLAY: 'DISMISS_AUTOPLAY',\n  SHOW_MENU: 'UI_SHOW_MENU',\n  HIDE_MENU: 'UI_HIDE_MENU',\n  CHANGE_SETTINGS: 'UI_CHANGE_SETTINGS',\n  ERROR: 'UI_ERROR',\n  DRAG: 'UI_DRAG',\n  DROP: 'UI_DROP',\n  FOCUS_SEEK_BAR: 'UI_FOCUS_SEEK_BAR',\n  DRAG_SEEK_BAR: 'UI_DRAG_SEEK_BAR',\n  DROP_SEEK_BAR: 'UI_DROP_SEEK_BAR',\n  LEAVE_SEEK_BAR: 'UI_LEAVE_SEEK_BAR',\n  SET_AUTO_PLAY: 'UI_SET_AUTO_PLAY',\n  RESET_END_ROLL: 'RESET_END_ROLL',\n  STREAM_EVENTS_CHANGED: 'STREAM_EVENTS_CHANGED',\n  AD_BREAK_STARTED: 'AD_BREAK_STARTED',\n  AD_BREAK_ENDED: 'AD_BREAK_ENDED',\n  VISIBILITY_CHANGE: 'VISIBILITY_CHANGE',\n  UPDATE_SUBTITLES_CONTENT: 'UPDATE_SUBTITLES_CONTENT',\n}\nexport default {\n  changeNextEpisode: videoId => ({type: type.CHANGE_NEXT_EPISODE, videoId}),\n  changePreviousEpisode: videoId => ({\n    type: type.CHANGE_PREVIOUS_EPISODE,\n    videoId,\n  }),\n  selectQuality: (to, from) => ({type: type.SELECT_QUALITY, to, from}),\n  setQualityItems: items => ({type: type.SET_QUALITY_ITEMS, items}),\n  selectMediaSource: mediaSource => ({\n    type: type.SELECT_MEDIA_SOURCE,\n    mediaSource,\n  }),\n  setMediaSources: (items = []) => ({type: type.SET_MEDIA_SOURCES, items}),\n  enableRecommendationPanel: () => ({\n    type: type.CHANGE_RECOMMENDATION_PANEL,\n    enabled: true,\n  }),\n  disableRecommendationPanel: () => ({\n    type: type.CHANGE_RECOMMENDATION_PANEL,\n    enabled: false,\n  }),\n  toggleRecommendationPanel: () => ({type: type.TOGGLE_RECOMMENDATION_PANEL}),\n  openPanel: panel => ({type: type.OPEN_PANEL, panel}),\n  hidePanel: () => ({type: type.HIDE_PANEL}),\n  enableThumbnailSeeking: () => ({\n    type: type.CHANGE_THUMBNAIL_SEEKING,\n    enabled: true,\n  }),\n  disableThumbnailSeeking: () => ({\n    type: type.CHANGE_THUMBNAIL_SEEKING,\n    enabled: false,\n  }),\n  offerAutoplay: () => ({type: type.OFFER_AUTOPLAY}),\n  dismissAutoplay: () => ({type: type.DISMISS_AUTOPLAY}),\n  showTooltip: (id, border, message) => ({\n    type: type.SHOW_TOOLTIP,\n    message,\n    border,\n    id,\n  }),\n  updateTooltip: (id, message) => ({type: type.UPDATE_TOOLTIP, message, id}),\n  showMenu: () => ({type: type.SHOW_MENU}),\n  hideMenu: id => ({type: type.HIDE_MENU, id}),\n  changeSettings: ({id, section, value}) => ({\n    type: type.CHANGE_SETTINGS,\n    section,\n    value,\n    id,\n  }),\n  showThumbnail: (id, border, thumbnailTime) => ({\n    type: type.SHOW_THUMBNAIL,\n    thumbnailTime,\n    border,\n    id,\n  }),\n  focusSeekBar: seekTime => ({type: type.FOCUS_SEEK_BAR, seekTime}),\n  dragSeekBar: () => ({type: type.DRAG_SEEK_BAR}),\n  dropSeekBar: () => ({type: type.DROP_SEEK_BAR}),\n  leaveSeekBar: () => ({type: type.LEAVE_SEEK_BAR}),\n  drag: () => ({type: type.DRAG}),\n  drop: () => ({type: type.DROP}),\n  setAutoPlay: value => ({type: type.SET_AUTO_PLAY, autoPlay: value}),\n  resetEndRoll: value => ({type: type.RESET_END_ROLL, autoPlay: value}),\n  streamEventsChanged: (streamEvents, playbackStatus) => ({\n    type: type.STREAM_EVENTS_CHANGED,\n    streamEvents,\n    playbackStatus,\n  }),\n  adBreakStarted: (adProgressData, skipTimeOffset) => ({\n    type: type.AD_BREAK_STARTED,\n    adProgressData,\n    skipTimeOffset,\n  }),\n  adBreakEnded: () => ({type: type.AD_BREAK_ENDED}),\n  visibilityChange: () => ({type: type.VISIBILITY_CHANGE}),\n  updateSubtitlesContent: value => ({\n    type: type.UPDATE_SUBTITLES_CONTENT,\n    content: value,\n  }),\n  error: error => Action.error('UI', error),\n}\n","import {useState, useEffect, useRef, useMemo} from 'react'\nimport shallowCompare from 'zustand/shallow'\n\nexport const useTimeout = () => {\n  const timer = useRef({})\n  useEffect(() => () => clearTimeout(timer.current.id), [])\n  return [\n    (callback, ms) => {\n      clearTimeout(timer.current.id)\n      timer.current.id = setTimeout(callback, ms)\n    },\n    () => clearTimeout(timer.current.id),\n  ]\n}\n\nexport const useInterval = () => {\n  const timer = useRef({})\n  useEffect(() => () => clearInterval(timer.current.id), [])\n  return [\n    (callback, ms) => {\n      clearInterval(timer.current.id)\n      timer.current.id = setInterval(callback, ms)\n    },\n    () => clearInterval(timer.current.id),\n  ]\n}\n\nexport const useCache = newState => {\n  const [state, setState] = useState()\n  useEffect(() => {\n    if (!shallowCompare(state, newState)) setState(newState)\n  })\n  return shallowCompare(state, newState) ? state : newState\n}\n\nexport const useMemoizedRef = init => {\n  const value = useMemo(init, [])\n  return useRef(value)\n}\n\nconst useDebounce = ({value, delay}) => {\n  const [state, dispatch] = useState(value)\n  const waiting = useRef()\n\n  useEffect(() => {\n    if (waiting.current) {\n      waiting.current.value = value\n    } else {\n      waiting.current = {}\n      setTimeout(() => {\n        if ('value' in waiting.current) {\n          dispatch(waiting.current.value)\n        }\n        waiting.current = undefined\n      }, delay)\n      dispatch(value)\n    }\n  }, [value])\n\n  return state\n}\n\nconst useAutoHide = ({hideTimeMs = 3000, pinned, tapToHide, onHide} = {}) => {\n  const timer = useRef()\n  const [mode, setMode] = useState('hidden')\n\n  const interact = () => {\n    if (mode !== 'shown') {\n      setMode('shown')\n    }\n    clearTimeout(timer.current)\n    timer.current = setTimeout(() => setMode('hidden'), hideTimeMs)\n  }\n  const hide = () => {\n    clearTimeout(timer.current)\n    setMode('hidden')\n    onHide?.()\n  }\n\n  useEffect(() => {\n    if (mode === 'shown') {\n      interact()\n    }\n  }, [hideTimeMs])\n\n  useEffect(() => {\n    if (pinned) {\n      clearTimeout(timer.current)\n    } else {\n      interact()\n    }\n  }, [pinned])\n\n  useEffect(() => () => clearTimeout(timer.current), [])\n\n  return {\n    mode: pinned ? 'shown' : mode,\n    show: interact,\n    hide,\n    onClick: event => {\n      if (mode === 'hidden') {\n        interact()\n      } else if (tapToHide && event.target.tagName !== 'BUTTON') {\n        // hide if tapping on elsewhere\n        hide()\n      }\n    },\n    onMouseMove: () => {\n      // In mobile web, emulated clicks generate extra mouse move events\n      if (!('ontouchstart' in window)) {\n        interact()\n      }\n    },\n  }\n}\n\nexport {useAutoHide, useDebounce}\n","const on = (target, name, handler) => {\n  target.addEventListener(name, handler)\n  return () => target.removeEventListener(name, handler)\n}\n\nconst once = (target, name, handler) => {\n  const oneTime = (...args) => {\n    handler(...args)\n    target.removeEventListener(name, oneTime)\n  }\n  target.addEventListener(name, oneTime)\n  return () => target.removeEventListener(name, oneTime)\n}\n\nexport {on, once}\n","/* eslint-disable no-bitwise */\nimport mitt from 'mitt'\nimport {on, once} from 'util/events'\n\nconst uuidv4 = () => {\n  const crypto = window.crypto || window.msCrypto\n  return '10000000-1000-4000-8000-100000000000'.replace(/[018]/g, c =>\n    (\n      c ^\n      (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))\n    ).toString(16)\n  )\n}\n\nconst modes = {videos: 'video', lives: 'live'}\n\nconst mapLogEvents = ({\n  session,\n  video,\n  version,\n  playerName,\n  getPlaybackStatus = () => video,\n}) => {\n  const emitter = mitt()\n  const state = {\n    status: 'init',\n    seeking: false,\n    playerStartTime: Date.now(),\n    moduleStartTime: Date.now(),\n    content: session.getContent(),\n  }\n  const commonPropties = () => ({\n    player_name: playerName,\n    playback_module_version: version,\n    playback_mode: modes[state.content.type],\n    playback_session_id: state.sessionId,\n    id: state.content.id,\n    name: state.content.title,\n    ...(state.content.type === 'videos' && {\n      current_position: state.currentTime,\n      video_total_duration: state.duration,\n    }),\n    ...(state.content.type === 'lives' && {\n      section_id: state.content.section_id,\n      name_2: state.content.channelName,\n    }),\n    SSAI: state.ssaiProvider || 'None',\n  })\n  const dispatchStart = () => {\n    if (state.status === 'started') {\n      return\n    }\n    state.status = 'started'\n    state.lastStartTime = Date.now()\n    const eventName = state.isPlayingAd\n      ? 'adPlaybackStarted'\n      : 'playbackStarted'\n    emitter.emit(eventName, commonPropties())\n  }\n  const dispatchStop = () => {\n    if (state.status !== 'started') {\n      return\n    }\n    state.status = 'stopped'\n    const played = (Date.now() - state.lastStartTime) / 1000\n    if (state.isPlayingAd) {\n      state.adPlayedDuration += played\n    } else {\n      state.playedDuration += played\n    }\n    const eventName = state.isPlayingAd\n      ? 'adPlaybackStopped'\n      : 'playbackStopped'\n    emitter.emit(eventName, {\n      ...commonPropties(),\n      ...(state.isPlayingAd && {ad_played_duration: played}),\n    })\n  }\n  const registered = [\n    on(session, 'error', error => {\n      emitter.emit('playbackError', {\n        module_error_code: error.code,\n        ...commonPropties(),\n      })\n    }),\n    once(session, 'playerStarted', () => {\n      state.playerStartTime = Date.now()\n    }),\n    once(session, 'playbackBegan', event => {\n      state.sessionId = uuidv4()\n      state.playedDuration = 0\n      state.content = session.getContent()\n      state.ssaiProvider = event.data?.ssaiProvider\n      state.adPlayedDuration = 0\n    }),\n    on(video, 'durationchange', () => {\n      // duration may change when playing an ad stitched stream, take only initial value\n      if (!state.duration) {\n        state.duration = getPlaybackStatus().duration\n      }\n    }),\n    once(video, 'canplay', () => {\n      state.status = 'began'\n      emitter.emit('playbackBegan', {\n        player_startup_time:\n          (state.playerStartTime - state.moduleStartTime) / 1000,\n        video_startup_time: (Date.now() - state.moduleStartTime) / 1000,\n        ...commonPropties(),\n      })\n    }),\n    on(video, 'playing', dispatchStart),\n    on(video, 'timeupdate', () => {\n      state.currentTime = getPlaybackStatus().currentTime\n    }),\n    on(video, 'pause', dispatchStop),\n    on(video, 'seeking', () => {\n      state.seekingFrom = state.currentTime\n    }),\n    on(session, 'userSeeking', () => {\n      state.seeking = true\n    }),\n    on(video, 'seeked', () => {\n      if (state.seeking) {\n        emitter.emit('seeked', {\n          seeking_from: state.seekingFrom,\n          seeking_to: video.currentTime,\n          ...commonPropties(),\n        })\n      }\n      state.seeking = false\n    }),\n    on(session, 'sectionChange', () => {\n      dispatchStop()\n      state.content = session.getContent()\n      dispatchStart()\n    }),\n    once(session, 'playbackEnded', () => {\n      if (state.status === 'started') {\n        dispatchStop()\n      }\n      state.status = 'init'\n      emitter.emit('playbackEnded', {\n        video_playback_ended_at_percentage: state.currentTime / state.duration,\n        video_total_played_duration: state.playedDuration,\n        ...(state.ssaiProvider && {\n          ad_total_played_duration: state.adPlayedDuration,\n        }),\n        ...commonPropties(),\n      })\n    }),\n    on(session, 'adBreakStarted', () => {\n      dispatchStop()\n      state.isPlayingAd = true\n      if (!state.seeking) {\n        dispatchStart()\n      }\n    }),\n    on(session, 'adBreakEnded', () => {\n      dispatchStop()\n      state.isPlayingAd = false\n      if (!state.seeking) {\n        dispatchStart()\n      }\n    }),\n  ]\n\n  return {\n    addEventListener: (name, handler) => emitter.on(name, handler),\n    all: handler => emitter.on('*', handler),\n    reset: () => registered.forEach(off => off()),\n  }\n}\n\nexport {mapLogEvents}\n","import mitt from 'mitt'\n\n// mocking new playback session interface from original store\nconst createSession = () => {\n  const state = {content: {}}\n  const emitter = mitt()\n\n  return {\n    addEventListener: (name, handler) => emitter.on(name, handler),\n    removeEventListener: (name, handler) => emitter.off(name, handler),\n    dispatchEvent: event => {\n      if (event.data?.content) {\n        state.content = {\n          type: event.data.content.contentType,\n          id: event.data.content.id,\n          title: event.data.content.title,\n        }\n      }\n      emitter.emit(event.type, event)\n    },\n    getContent: () => state.content,\n    end: () => {\n      emitter.emit('playbackEnded')\n    },\n  }\n}\n\nexport default createSession\n","import {createContext, useContext, useEffect, useRef} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {mapLogEvents} from 'playerCore/playlog'\nimport createSession from './createSession'\n\nconst playerContext = createContext({})\n\nconst getPlaybackStatus = (video, plugins) =>\n  Object.assign(\n    {\n      currentTime: video.currentTime,\n      duration: video.duration,\n    },\n    ...plugins.map(plugin => plugin.getPlaybackStatus?.())\n  )\n\nconst logEventNames = {\n  playbackBegan: 'video_playback_began',\n  playbackStarted: 'video_playback_started',\n  playbackStopped: 'video_playback_stopped',\n  playbackEnded: 'video_playback_ended',\n  seeked: 'video_seeking_ended',\n  error: 'video_playback_error_occurred',\n  adPlaybackStarted: 'ad_playback_started',\n  adPlaybackStopped: 'ad_playback_stopped',\n}\n\nconst PlayerProvider = ({\n  options,\n  content,\n  videoRef,\n  uiRef,\n  children,\n  sendLog,\n}) => {\n  const instance = useRef({})\n  instance.current.videoRef = videoRef\n  instance.current.uiRef = uiRef\n  instance.current.options = options\n\n  useEffect(() => {\n    instance.current.session = createSession()\n    const logTarget = mapLogEvents({\n      session: instance.current.session,\n      playerName: 'bitmovin',\n      version: process.env.VERSION,\n      video: videoRef.current,\n      getPlaybackStatus: () =>\n        getPlaybackStatus(videoRef.current, options.plugins),\n    })\n    if (typeof sendLog === 'function') {\n      logTarget.all((type, data) => sendLog(logEventNames[type], data))\n    }\n\n    return () => {\n      instance.current.session.end()\n      logTarget.reset()\n    }\n  }, [content.contentType, content.contentId])\n\n  return (\n    <playerContext.Provider value={instance.current}>\n      {children}\n    </playerContext.Provider>\n  )\n}\n\nPlayerProvider.propTypes = {\n  options: PropTypes.object,\n  content: PropTypes.object,\n  videoRef: PropTypes.object,\n  uiRef: PropTypes.object,\n  sendLog: PropTypes.func,\n  children: PropTypes.node,\n}\n\nconst useSetPlayer = () => {\n  const ref = useContext(playerContext)\n  return player => {\n    ref.player = player\n  }\n}\n\nconst usePlayer = () => {\n  const ref = useContext(playerContext)\n  return ref.player\n}\n\nconst useUiContainer = () => {\n  const ref = useContext(playerContext)\n  return ref.uiRef?.current\n}\n\nconst useUiRef = () => {\n  const ref = useContext(playerContext)\n  return ref.uiRef\n}\n\nconst useVideoRef = () => {\n  const ref = useContext(playerContext)\n  return ref.videoRef\n}\n\nconst useOptions = () => useContext(playerContext).options\n\nconst useDispatchSessionEvent = () => {\n  const ref = useContext(playerContext)\n  return (type, data) => ref.session.dispatchEvent({type, data})\n}\n\nexport {\n  PlayerProvider,\n  useSetPlayer,\n  usePlayer,\n  useVideoRef,\n  useUiRef,\n  useUiContainer,\n  useOptions,\n  useDispatchSessionEvent,\n}\n","import React, {useEffect, useState} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {linkPluginEvents} from 'playerCore/events'\nimport uiAction from './action/UI'\nimport {useCache} from 'Hooks'\nimport {useDispatchSessionEvent} from 'player/playerContext'\n\nexport const Context = {\n  Adapter: React.createContext(),\n  Full: React.createContext(),\n  Module: React.createContext(),\n  LocalStorage: React.createContext(),\n  Player: React.createContext(),\n  PlayerState: React.createContext(),\n  PlayerViewMode: React.createContext(),\n  PlayerProgress: React.createContext(),\n  PlayerVolume: React.createContext(),\n  API: React.createContext(),\n  UI: React.createContext(),\n}\n\nconst StoreProvider = ({store, options = {}, children = ''}) => {\n  const [state, setState] = useState(() => {\n    store.addChangedListener(store => setState(store.getState()))\n    return store.getState()\n  })\n  const dispatch = store.dispatch\n  const dispatchSessionEvent = useDispatchSessionEvent()\n\n  useEffect(() => {\n    const handleStart = event => {\n      dispatchSessionEvent('adBreakStarted')\n      store.dispatch(\n        uiAction.adBreakStarted(\n          event.getStreamData().adProgressData,\n          event.getAd()?.getSkipTimeOffset()\n        )\n      )\n    }\n\n    return linkPluginEvents(options.plugins, {\n      cuepointsChanged: (event, plugin) =>\n        store.dispatch(\n          uiAction.streamEventsChanged(\n            event.getStreamData().cuepoints,\n            plugin.getPlaybackStatus()\n          )\n        ),\n      adBreakStarted: handleStart,\n      adProgress: handleStart,\n      adBreakEnded: () => {\n        dispatchSessionEvent('adBreakEnded')\n        store.dispatch(uiAction.adBreakEnded())\n      },\n    })\n  }, [])\n\n  return (\n    <React.Fragment>\n      <Context.Adapter.Provider value={store}>\n        <Context.Full.Provider value={useCache({state, dispatch})}>\n          <Context.Module.Provider\n            value={useCache({state: state.Module, options, dispatch})}\n          >\n            <Context.UI.Provider value={useCache({state: state.UI, dispatch})}>\n              <Context.API.Provider\n                value={useCache({state: state.API, dispatch})}\n              >\n                <Context.Player.Provider\n                  value={useCache({state: state.Player, dispatch})}\n                >\n                  <Context.PlayerState.Provider\n                    value={useCache({\n                      state: state.Player.playerState,\n                      dispatch,\n                    })}\n                  >\n                    <Context.PlayerViewMode.Provider\n                      value={useCache({state: state.Player.viewMode, dispatch})}\n                    >\n                      <Context.PlayerProgress.Provider\n                        value={useCache({\n                          state: state.Player.progress,\n                          dispatch,\n                        })}\n                      >\n                        <Context.PlayerVolume.Provider\n                          value={useCache({\n                            state: state.Player.volume,\n                            dispatch,\n                          })}\n                        >\n                          {children}\n                        </Context.PlayerVolume.Provider>\n                      </Context.PlayerProgress.Provider>\n                    </Context.PlayerViewMode.Provider>\n                  </Context.PlayerState.Provider>\n                </Context.Player.Provider>\n              </Context.API.Provider>\n            </Context.UI.Provider>\n          </Context.Module.Provider>\n        </Context.Full.Provider>\n      </Context.Adapter.Provider>\n    </React.Fragment>\n  )\n}\n\nStoreProvider.propTypes = {\n  store: PropTypes.object,\n  options: PropTypes.object,\n  plugins: PropTypes.array,\n  children: PropTypes.node,\n}\n\nexport default StoreProvider\n","const loadScript = url =>\n  new Promise(resolve => {\n    const script = Object.assign(document.createElement('script'), {\n      async: true,\n      src: url,\n    })\n    script.addEventListener('load', resolve)\n    document.body.appendChild(script)\n  })\n\nexport default loadScript\n","import loadScript from 'util/loadScript'\n\nconst SENDER_URL =\n  'https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1'\n\nconst getContext = () => cast.framework.CastContext.getInstance()\n\n/* global chrome, cast */\nconst ensureSenderFramework = () =>\n  new Promise((resolve, reject) => {\n    if (window.cast && cast.framework && window.chrome && chrome.cast) {\n      resolve(getContext())\n    } else {\n      // eslint-disable-next-line no-underscore-dangle\n      window.__onGCastApiAvailable = isAvailable => {\n        isAvailable ? resolve(getContext()) : reject()\n      }\n      loadScript(SENDER_URL)\n    }\n  })\n\nconst getMediaSession = () => {\n  const context = getContext()\n  const currentSession = context.getCurrentSession()\n  return currentSession && currentSession.getMediaSession()\n}\n\nconst ensureSession = () => {\n  const context = getContext()\n  const currentSession = context.getCurrentSession()\n  if (currentSession) {\n    return Promise.resolve(currentSession)\n  }\n  return context.requestSession().then(() => context.getCurrentSession())\n}\n\nconst requestLoad = (currentSession, {id, mediaInfo, currentTime}) => {\n  const request = new chrome.cast.media.LoadRequest(\n    Object.assign(new chrome.cast.media.MediaInfo(id), {\n      ...mediaInfo,\n      metadata: new chrome.cast.media.GenericMediaMetadata(),\n    })\n  )\n  if (typeof currentTime === 'number') {\n    request.currentTime = currentTime\n  }\n  return currentSession.loadMedia(request)\n}\n\nexport {\n  ensureSenderFramework,\n  ensureSession,\n  requestLoad,\n  getContext,\n  getMediaSession,\n}\n","import {useEffect, useState, useRef, createContext, useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport Types from 'Types'\nimport {SeekOrigin} from 'Enum'\nimport {\n  ensureSenderFramework,\n  ensureSession,\n  getMediaSession,\n  requestLoad,\n} from './framework'\n\nconst castContext = createContext()\n\nconst initState = {\n  castState: null,\n  playerState: null,\n  castingMedia: null,\n  deviceName: null,\n  mediaTitle: null,\n  duration: 0,\n  progressTime: 0,\n  customData: {},\n  volume: 100,\n  muted: false,\n  streamType: null,\n}\n\nconst defaultCastContext = {\n  state: {},\n  actions: {\n    hasPrevious: () => false,\n    hasNext: () => false,\n  },\n}\n\n/* global chrome, cast */\nconst CastProvider = ({\n  appId,\n  host,\n  accessToken,\n  deviceId,\n  customHeader,\n  lang,\n  onConnected,\n  onCasting,\n  onError,\n  children,\n}) => {\n  const actions = useRef(defaultCastContext.actions)\n  const [state, setState] = useState(initState)\n  const config = useRef()\n  config.current = {\n    appId,\n    host,\n    accessToken,\n    deviceId,\n    customHeaders: customHeader,\n    lang,\n  }\n\n  useEffect(() => {\n    const setCastState = value => setState(current => ({...current, ...value}))\n    ensureSenderFramework()\n      .then(context => {\n        context.setOptions({\n          receiverApplicationId: appId,\n          resumeSavedSession: true,\n          autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,\n        })\n        context.addEventListener(\n          cast.framework.CastContextEventType.CAST_STATE_CHANGED,\n          ({castState}) => {\n            const currentSession = context.getCurrentSession()\n            const current = {\n              castState,\n              deviceName:\n                castState === 'CONNECTED' &&\n                currentSession.getCastDevice().friendlyName,\n              ...(currentSession && {\n                volume: currentSession.getVolume(),\n                muted: currentSession.isMute(),\n              }),\n            }\n            if (castState === 'CONNECTED') {\n              if (typeof onConnected === 'function') onConnected(current)\n            }\n\n            setCastState(current)\n          }\n        )\n\n        const player = new cast.framework.RemotePlayer()\n        const controller = new cast.framework.RemotePlayerController(player)\n\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED,\n          ({value}) =>\n            setCastState({\n              playerState: value,\n              castingMedia: value !== 'IDLE' ? getMediaSession().media : null,\n            })\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.TITLE_CHANGED,\n          ({value}) => setCastState({mediaTitle: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,\n          ({value}) =>\n            setCastState({\n              castingMedia: value,\n              // After playing a while, media info is updated without customData\n              // It's likely receiver app bug\n              ...(value\n                ? value.customData && {customData: value.customData}\n                : {customData: {}}),\n            })\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.DURATION_CHANGED,\n          ({value}) => setCastState({duration: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,\n          ({value}) => setCastState({progressTime: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED,\n          ({value}) => setCastState({volume: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED,\n          ({value}) => setCastState({muted: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.MEDIA_INFO_CHANGED,\n          ({value}) => setCastState({streamType: value && value.streamType})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.IS_PLAYING_BREAK_CHANGED,\n          ({value}) => setCastState({isPlayingBreak: value})\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.BREAK_CLIP_ID_CHANGED,\n          ({value}) =>\n            setCastState({\n              breakClipId: value,\n              clickThroughUrl: (getMediaSession().media?.breakClips || []).find(\n                item => item.id === value\n              )?.clickThroughUrl,\n            })\n        )\n        controller.addEventListener(\n          cast.framework.RemotePlayerEventType.CURRENT_BREAK_TIME_CHANGED,\n          ({value}) => {\n            setCastState({\n              currentBreakTime: value,\n              whenSkippable: player.whenSkippable,\n            })\n          }\n        )\n\n        const getItem = (media, index) => {\n          const items = media.items || []\n          return items[(items.length + index) % items.length] || {}\n        }\n\n        return {\n          connect: () => ensureSession(),\n          loadContent: ({\n            contentId,\n            contentType,\n            licenseId,\n            mediaSource,\n            customQuery,\n            startTime,\n          }) =>\n            ensureSession()\n              .then(currentSession =>\n                requestLoad(currentSession, {\n                  id: contentId,\n                  mediaInfo: {\n                    contentId,\n                    contentID: contentId,\n                    customData: {\n                      ...config.current,\n                      itemType: contentType,\n                      licenseId,\n                      mediaSource,\n                      customQuery,\n                    },\n                  },\n                  currentTime: startTime,\n                })\n              )\n              .then(() => {\n                typeof onCasting === 'function' && onCasting()\n              })\n              .catch(error => {\n                typeof onError === 'function' && onError(error)\n                return Promise.reject(error)\n              }),\n          stopCasting: () => context.endCurrentSession(true),\n          play: () =>\n            getMediaSession().play(new chrome.cast.media.PlayRequest()),\n          pause: () =>\n            getMediaSession().pause(new chrome.cast.media.PauseRequest()),\n          seek: ({origin, seconds}) => {\n            const media = getMediaSession()\n            const currentTime =\n              seconds +\n              (origin === SeekOrigin.CURRENT ? media.getEstimatedTime() : 0)\n            media.seek(\n              Object.assign(new chrome.cast.media.SeekRequest(), {currentTime})\n            )\n          },\n          skipAd: () => controller.skipAd(),\n          hasPrevious: () => {\n            const media = getMediaSession() || {}\n            return media.currentItemId !== getItem(media, 0).itemId\n          },\n          hasNext: () => {\n            const media = getMediaSession() || {}\n            return media.currentItemId !== getItem(media, -1).itemId\n          },\n          changePreviousEpisode: () =>\n            new Promise((resolve, reject) =>\n              getMediaSession().queuePrev(resolve, reject)\n            ),\n          changeNextEpisode: () =>\n            new Promise((resolve, reject) =>\n              getMediaSession().queueNext(resolve, reject)\n            ),\n          setVolume: volume => context.getCurrentSession().setVolume(volume),\n          setMute: mute => context.getCurrentSession().setMute(mute),\n        }\n      })\n      .then(result => {\n        actions.current = result\n      })\n      .catch(error => typeof onError === 'function' && onError(error))\n  }, [])\n\n  return (\n    <castContext.Provider value={{state, actions: actions.current}}>\n      {children}\n    </castContext.Provider>\n  )\n}\n\nCastProvider.propTypes = {\n  appId: PropTypes.string,\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n  deviceId: PropTypes.string,\n  customHeader: PropTypes.object,\n  lang: Types.LanguageCode,\n  children: PropTypes.node,\n  onConnected: PropTypes.func,\n  onCasting: PropTypes.func,\n  onError: PropTypes.func,\n}\n\nconst useCastContext = () => useContext(castContext) || defaultCastContext\n\nconst CastConsumer = castContext.Consumer\n\nconst useCastVolume = () => {\n  const {\n    state: {volume, muted},\n    actions: {setVolume, setMute},\n  } = useCastContext()\n\n  return {\n    volume,\n    muted,\n    changeVolume: setVolume,\n    toggleMuted: () => setMute(!muted),\n  }\n}\n\nexport {castContext, useCastContext, useCastVolume, CastProvider, CastConsumer}\n","const getMediaSource = (state, defaultMediaSource) => {\n  const {\n    UI: {selectedMediaSource, mediaSourcePrecedence},\n  } = state\n  return mediaSourcePrecedence === 'application'\n    ? defaultMediaSource\n    : selectedMediaSource\n}\n\nexport {getMediaSource}\n","import Action from './index'\n\nexport const type = {\n  MOUNT: 'PLAYER_MOUNT',\n  MOUNTED: 'PLAYER_MOUNTED',\n  LOAD: 'PLAYER_LOAD',\n  LOADED: 'PLAYER_LOADED',\n  UNLOAD: 'PLAYER_UNLOAD',\n  UNLOADED: 'PLAYER_UNLOADED',\n  READY: 'PLAYER_READY',\n  FETCH_STATE: 'PLAYER_FETCH_STATE',\n  SET_STATE: 'PLAYER_SET_STATE',\n  UNMOUNT: 'PLAYER_UNMOUNT',\n\n  PLAY: 'PLAYER_PLAY',\n  PLAYING: 'PLAYER_PLAYING',\n  PAUSE: 'PLAYER_PAUSE',\n  PAUSED: 'PLAYER_PAUSED',\n  ENDED: 'PLAYER_ENDED',\n  UPDATE_CURRENT_TIME: 'PLAYER_UPDATE_CURRENT_TIME',\n  SEEK: 'PLAYER_SEEK',\n  SEEKED: 'PLAYER_SEEKED',\n  UPDATE_VOLUME: 'PLAYER_UPDATE_VOLUME',\n  SET_VOLUME: 'PLAYER_SET_VOLUME',\n  MUTE: 'PLAYER_MUTE',\n  MUTED: 'PLAYER_MUTED',\n  UNMUTE: 'PLAYER_UNMUTE',\n  UNMUTED: 'PLAYER_UNMUTED',\n  ENTER_FULL_SCREEN: 'PLAYER_ENTER_FULL_SCREEN',\n  LEAVE_FULL_SCREEN: 'PLAYER_LEAVE_FULL_SCREEN',\n  UPDATE_VIEW_MODE: 'PLAYER_UPDATE_VIEW_MODE',\n  UPDATE_BUFFER_TIME: 'PLAYER_UPDATE_BUFFER_TIME',\n  STALLING: 'PLAYER_STALLING',\n  STALLED: 'PLAYER_STALLED',\n  CHANGE_DASH_QUALITY: 'PLAYER_CHANGE_DASH_QUALITY',\n}\nexport default {\n  mount: () => ({type: type.MOUNT}),\n  mounted: () => ({type: type.MOUNTED}),\n  load: () => ({type: type.LOAD}),\n  loaded: payload => ({type: type.LOADED, payload}),\n  unload: () => ({type: type.UNLOAD}),\n  unloaded: () => ({type: type.UNLOADED}),\n  ready: () => ({type: type.READY}),\n  fetchState: () => ({type: type.FETCH_STATE}),\n  setState: state => ({type: type.SET_STATE, state}),\n  unmount: () => ({type: type.UNMOUNT}),\n\n  play: () => ({type: type.PLAY}),\n  playing: () => ({type: type.PLAYING}),\n  pause: () => ({type: type.PAUSE}),\n  paused: () => ({type: type.PAUSED}),\n  ended: () => ({type: type.ENDED}),\n  updateCurrentTime: ({currentTime: time, adRemainingTime}) => ({\n    type: type.UPDATE_CURRENT_TIME,\n    time,\n    adRemainingTime,\n  }),\n  seek: time => ({type: type.SEEK, time}),\n  seeked: time => ({type: type.SEEKED, time}),\n  setVolume: volume => ({type: type.SET_VOLUME, volume}),\n  updateVolume: volume => ({type: type.UPDATE_VOLUME, volume}),\n  mute: () => ({type: type.MUTE}),\n  muted: () => ({type: type.MUTED}),\n  unmute: () => ({type: type.UNMUTE}),\n  unmuted: () => ({type: type.UNMUTED}),\n  enterFullScreen: () => ({type: type.ENTER_FULL_SCREEN}),\n  leaveFullScreen: () => ({type: type.LEAVE_FULL_SCREEN}),\n  updateViewMode: mode => ({type: type.UPDATE_VIEW_MODE, mode}),\n  updateBufferTime: time => ({type: type.UPDATE_BUFFER_TIME, time}),\n  stalling: () => ({type: type.STALLING}),\n  stalled: () => ({type: type.STALLED}),\n  changeDashQuality: () => ({type: type.CHANGE_DASH_QUALITY}),\n\n  error: error => Action.error('Player', error),\n}\n","export const type = {\n  LOAD: 'LOCAL_STORAGE_LOAD',\n  SAVE: 'LOCAL_STORAGE_SAVE',\n}\n\nexport const action = {\n  load: key => ({type: type.LOAD, key}),\n  save: (key, value) => ({type: type.SAVE, key, value}),\n}\n\nconst getLocalStorageValue = (key, defaultValue) => {\n  try {\n    const source = localStorage.getItem(key)\n    if (typeof source === 'string') {\n      return JSON.parse(source)\n    }\n    // eslint-disable-next-line no-empty\n  } catch (error) {}\n  return defaultValue\n}\n\nconst setLocalStorageValue = (key, value) => {\n  localStorage.setItem(key, JSON.stringify(value))\n}\n\nconst _localStorage = () => next => action => {\n  switch (action.type) {\n    case type.LOAD:\n      action.value = getLocalStorageValue(action.key)\n      break\n    case type.SAVE:\n      setLocalStorageValue(action.key, action.value)\n      break\n  }\n\n  return next(action)\n}\n\nexport default _localStorage\n","import Action from './index'\n\nexport const type = {\n  CLEAN: 'API_CLEAN',\n  DISABLE: 'API_DISABLE',\n  ENABLE: 'API_ENABLE',\n  PREVIEW_CONTENT: 'API_PREVIEW_CONTENT',\n  PREPARE_PLAYBACK: 'API_PREPARE_PLAYBACK',\n  PREPARE_THUMBNAIL: 'API_PREPARE_THUMBNAIL',\n  SET_PLAYBACK: 'API_SET_PLAYBACK',\n  SET_THUMBNAILS: 'API_SET_THUMBNAILS',\n  READY: 'API_READY',\n  REFRESH_PLAYBACK_TOKEN: 'API_REFRESH_PLAYBACK_TOKEN',\n  UPDATE_LAST_PLAYED_TIME: 'API_UPDATE_LAST_PLAYED_TIME',\n  UPDATE_PLAYED_END: 'API_UPDATE_PLAYED_END',\n  REFRESH_CONTENT: 'API_REFRESH_CONTENT',\n  SET_CONTENT: 'API_SET_CONTENT',\n  END_PROGRAM: 'API_END_PROGRAM',\n  CHANGE_PROGRAM: 'API_CHANGE_PROGRAM',\n  END_SECTION: 'API_END_SECTION',\n  CHANGE_SECTION: 'API_CHANGE_SECTION',\n  CONTENT_CHANGE: 'API_CONTENT_CHANGE',\n  END_LIVE_TYPE: 'API_END_LIVE_TYPE',\n}\nexport default {\n  contentChange: () => ({type: type.CONTENT_CHANGE}),\n  clean: () => ({type: type.CLEAN}),\n  disable: () => ({type: type.DISABLE}),\n  enable: (content, customHeader) => ({\n    type: type.ENABLE,\n    content,\n    customHeader,\n  }),\n  previewContent: () => ({type: type.PREVIEW_CONTENT}),\n  preparePlayback: () => ({type: type.PREPARE_PLAYBACK}),\n  prepareThumbnail: () => ({type: type.PREPARE_THUMBNAIL}),\n  setPlayback: playbackInfo => ({type: type.SET_PLAYBACK, playbackInfo}),\n  setThumbnails: thumbnails => ({type: type.SET_THUMBNAILS, thumbnails}),\n  ready: () => ({type: type.READY}),\n  refreshPlaybackToken: sessionData => ({\n    type: type.REFRESH_PLAYBACK_TOKEN,\n    sessionData,\n  }),\n  updateLastPlayedTime: time => ({type: type.UPDATE_LAST_PLAYED_TIME, time}),\n  updatePlayedEnd: () => ({type: type.UPDATE_PLAYED_END}),\n  refreshContent: () => ({type: type.REFRESH_CONTENT}),\n  setContent: content => ({type: type.SET_CONTENT, content}),\n  endProgram: () => ({type: type.END_PROGRAM}),\n  changeProgram: (oldId, newId) => ({type: type.CHANGE_PROGRAM, oldId, newId}),\n  endSection: () => ({type: type.END_SECTION}),\n  changeSection: (oldId, newId) => ({type: type.CHANGE_SECTION, oldId, newId}),\n  endLiveType: () => ({type: type.END_LIVE_TYPE}),\n\n  error: error => Action.error('API', error),\n}\n","import _get from 'dlv'\nimport Action from './action'\nimport {action as LocalStorageAction} from './middleware/localStorage'\nimport APIAction, {type as APIType} from './action/API'\nimport PlayerAction, {type as PlayerType} from './action/Player'\nimport UIAction from './action/UI'\n\nimport {ModuleState, PlayerState, CastState, APIState, StorageKey} from 'Enum'\nimport {isInScope} from 'util/index'\n\nexport const waitStateChange = (store, check) => {\n  return new Promise(res => {\n    if (check(store.getState())) return res()\n    const removeListener = store.addChangedListener(store => {\n      const state = store.getState()\n      if (check(state)) {\n        removeListener()\n        res()\n      }\n    })\n  })\n}\n\nexport const waitActionDispatch = (store, check) => {\n  return new Promise(res => {\n    const removeListener = store.addDispatchedListener((store, action) => {\n      if (check(action)) {\n        removeListener()\n        res()\n      }\n    })\n  })\n}\n\nconst waitChainReaction = async (trigger, result) => {\n  let _result = result()\n  await trigger()\n  await _result\n}\n\nconst operator = {\n  error: async store => {\n    await operator.unload(store)\n  },\n  initialize: async store => {\n    const {dispatch} = store\n    dispatch(Action.initialize())\n    Object.values(StorageKey).forEach(key =>\n      dispatch(LocalStorageAction.load(key))\n    )\n    await waitChainReaction(\n      () => dispatch(PlayerAction.mount()),\n      () =>\n        waitStateChange(\n          store,\n          ({Player: {playerState}}) => playerState === PlayerState.MOUNTED\n        )\n    )\n    await waitChainReaction(\n      () => dispatch(PlayerAction.fetchState()),\n      () => waitActionDispatch(store, ({type}) => type === PlayerType.SET_STATE)\n    )\n    dispatch(Action.initialized())\n  },\n  loadContent: async store => {\n    const {dispatch, getState} = store\n    const getModuleState = () => getState().Module.state\n    if (\n      isInScope(ModuleState.INITIALIZED, getModuleState(), ModuleState.READY)\n    ) {\n      await waitStateChange(\n        store,\n        ({API: {apiState}}) => apiState !== APIState.DISABLE\n      )\n      dispatch(Action.loadContent())\n      await waitChainReaction(\n        () => dispatch(APIAction.previewContent()),\n        () =>\n          waitActionDispatch(store, ({type}) => type === APIType.SET_CONTENT)\n      )\n      await waitChainReaction(\n        () => dispatch(APIAction.preparePlayback()),\n        () =>\n          waitActionDispatch(store, ({type}) => type === APIType.SET_PLAYBACK)\n      )\n      await waitChainReaction(\n        () => dispatch(APIAction.prepareThumbnail()),\n        () => waitActionDispatch(store, ({type}) => type === APIType.READY)\n      )\n      if (getState().Module.castState === CastState.CONNECTED) {\n        // if connected to Cast, abort loading\n        return operator.unload(store)\n      }\n      if (!_get(getState(), 'API.content.end')) {\n        await waitChainReaction(\n          () => dispatch(PlayerAction.load()),\n          () => waitActionDispatch(store, ({type}) => type === PlayerType.READY)\n        )\n        const {\n          Player: {streamType},\n          API: {manifests, availableSources},\n        } = getState()\n        dispatch(\n          UIAction.setQualityItems(\n            manifests[streamType].resolutions.map(item => ({\n              ...item,\n              value: `${item.height}p`,\n            }))\n          )\n        )\n        dispatch(UIAction.setMediaSources(availableSources))\n      }\n      dispatch(Action.readyToPlay())\n    } else {\n      throw Error('The current state does not allow this action')\n    }\n  },\n  changeQuality: (to, from) => async store => {\n    const {dispatch, getState} = store\n    const {\n      Player: {playerState, streamType},\n    } = getState()\n    dispatch(UIAction.selectQuality(to, from))\n    if (playerState !== PlayerState.ENDED) {\n      if (streamType !== 'hls') {\n        dispatch(PlayerAction.changeDashQuality())\n        dispatch(PlayerAction.play())\n      }\n\n      waitActionDispatch(\n        store,\n        ({type}) => type === PlayerType.READY\n      ).then(() => dispatch(PlayerAction.play()))\n    }\n  },\n  changeMediaSource: mediaSource => async store => {\n    const {dispatch, getState} = store\n    const {\n      API: {content, customHeader},\n      Player: {\n        playerState,\n        progress: {progressTime},\n      },\n    } = getState()\n\n    dispatch(APIAction.updateLastPlayedTime(progressTime))\n    dispatch(UIAction.selectMediaSource(mediaSource))\n    await waitChainReaction(\n      // this will trigger loading selected media source\n      () => dispatch(APIAction.enable(content, customHeader)),\n      () => waitActionDispatch(store, ({type}) => type === PlayerType.READY)\n    )\n    if (playerState === PlayerState.ENDED) await operator.replay(store)\n    else dispatch(PlayerAction.play())\n  },\n  replay: async store => {\n    await operator.unload(store)\n    await operator.loadContent(store)\n    store.dispatch(PlayerAction.play())\n    store.dispatch(Action.replay())\n  },\n  retry: async store => {\n    await operator.unload(store)\n    await operator.loadContent(store)\n  },\n  unload: async store => {\n    const dispatch = store.dispatch\n    dispatch(APIAction.clean())\n    await waitChainReaction(\n      () => dispatch(PlayerAction.unload()),\n      () => waitActionDispatch(store, ({type}) => type === PlayerType.UNLOADED)\n    )\n  },\n  prepareCast: async store => {\n    const playerState = store.getState().Player.playerState\n    // player mounting can't be cancelled\n    if (playerState === PlayerState.MOUNTING) {\n      await waitStateChange(\n        store,\n        ({Player: {playerState}}) => playerState === PlayerState.MOUNTED\n      )\n    }\n    // mounted state is not playing video\n    if (\n      playerState !== PlayerState.MOUNTED &&\n      playerState !== PlayerState.UNMOUNTED\n    ) {\n      await operator.unload(store)\n    } else {\n      store.dispatch(PlayerAction.unloaded())\n    }\n  },\n  seek: time => async store => {\n    if (_get(store.getState(), 'Player.playerState') === PlayerState.ENDED) {\n      await operator.replay(store)\n    } else {\n      store.dispatch(PlayerAction.play())\n    }\n    //Player ignores seeking if target is too close to current position,\n    //subsequent events won't fire, so don't seek to avoid gliches.\n    if (Math.abs(time - store.getState().Player.progress.progressTime) > 1) {\n      store.dispatch(PlayerAction.seek(time))\n    }\n  },\n}\n\nexport default operator\n","import _get from 'dlv'\nimport {useState, useEffect, useContext, useRef} from 'react'\nimport PropTypes from 'prop-types'\nimport Types from 'Types'\nimport {useCastContext} from 'cast/context'\nimport {CastState} from 'Enum'\nimport {getMediaSource} from 'util/mediaSource'\nimport Action from 'player/store/action'\nimport {Context} from 'player/store'\nimport {type as PlayerType} from 'player/store/action/Player'\nimport operator, {waitActionDispatch} from 'player/store/operator'\n\nconst contentEqual = (\n  {contentType, contentId, licenseId, mediaSource},\n  state\n) =>\n  _get(state, 'castingMedia.contentId') === contentId &&\n  _get(state, 'customData.itemType') === contentType &&\n  _get(state, 'customData.licenseId') === licenseId &&\n  _get(state, 'customData.mediaSource') === mediaSource\n\nconst useDebounced = (value, {timeMs = 500} = {}) => {\n  const [state, setState] = useState(value)\n  const timer = useRef({})\n\n  useEffect(() => {\n    timer.current = setTimeout(() => setState(value), timeMs)\n    return () => clearTimeout(timer.current)\n  }, [value])\n\n  return state\n}\n\nconst CastAdapter = ({\n  content = {},\n  mediaSource: defaultMediaSource,\n  customQuery,\n}) => {\n  const store = useContext(Context.Adapter)\n  const {\n    state,\n    actions: {loadContent},\n  } = useCastContext()\n  const lastState = useRef()\n  const [\n    castState,\n    contentType,\n    contentId,\n    mediaSource,\n    licenseId,\n  ] = useDebounced([\n    state.castState,\n    content.contentType,\n    content.contentId,\n    getMediaSource(store.getState(), defaultMediaSource),\n    content.licenseId,\n  ])\n\n  useEffect(() => {\n    store.dispatch(Action.castStateChange(castState))\n  }, [castState])\n\n  useEffect(() => {\n    const contentIsLoaded = contentEqual(\n      {contentId, contentType, licenseId, mediaSource},\n      state\n    )\n\n    switch (castState) {\n      case CastState.CONNECTED:\n        waitActionDispatch(store, ({type}) => {\n          return type === PlayerType.UNLOADED\n        }).then(() => {\n          if (!contentIsLoaded) {\n            // id, and mediaSource changes are dispatched separately\n            // this means to batch these changes\n            loadContent({\n              contentId,\n              mediaSource,\n              customQuery,\n              licenseId,\n              contentType,\n            })\n          }\n        })\n        store.dispatch(operator.prepareCast)\n        lastState.current = castState\n        return\n      case CastState.NOT_CONNECTED:\n        if (lastState.current === CastState.CONNECTED) {\n          store.dispatch(Action.initialized())\n        }\n        lastState.current = castState\n        return\n    }\n  }, [castState, contentId, contentType, mediaSource, licenseId])\n\n  return null\n}\n\nCastAdapter.propTypes = {\n  content: Types.VideoInfo,\n  mediaSource: PropTypes.string,\n  customQuery: PropTypes.object,\n}\nCastAdapter.defaultProps = {\n  content: null,\n  mediaSource: null,\n  customQuery: {},\n}\n\nexport default CastAdapter\n","// Unique ID creation requires a high quality random # generator.  In node.js\n// this is pretty straight-forward - we use the crypto API.\n\nvar crypto = require('crypto');\n\nmodule.exports = function nodeRNG() {\n  return crypto.randomBytes(16);\n};\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]], '-',\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]],\n    bth[buf[i++]], bth[buf[i++]]\n  ]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/uuidjs/uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","import {useRef, useEffect, useContext} from 'react'\nimport uuid from 'uuid'\n\nimport {StorageKey, ModuleState} from 'Enum'\nimport {useInterval} from 'Hooks'\nimport {Context} from '../index'\nimport Action from '../action'\nimport {action as LocalStorageAction} from '../middleware/localStorage'\n\nconst LIMIT_INFO_LIFE_MS = 10000\nconst CHECK_INTERVAL_MS = 3000\n\nconst getSavedAuthId = state => {\n  const limitInfo = state.LocalStorage[StorageKey.LIMIT_ONE_PLAYBACK] || {}\n  const {expiresAt} = limitInfo\n  if (limitInfo.authId && /^\\d+$/.test(expiresAt) && Date.now() <= expiresAt) {\n    return limitInfo.authId\n  }\n}\nconst LimitOnePlayback = ({enabled}) => {\n  const authRef = useRef()\n  const {\n    state: {state: moduleState},\n  } = useContext(Context.Module)\n  const store = useContext(Context.Adapter)\n  const [startInterval, stopInterval] = useInterval()\n\n  const checkOnePlayback = () => {\n    store.dispatch(LocalStorageAction.load(StorageKey.LIMIT_ONE_PLAYBACK))\n    const savedAuthId = getSavedAuthId(store.getState())\n    if (!savedAuthId || savedAuthId === authRef.current) {\n      store.dispatch(\n        LocalStorageAction.save(StorageKey.LIMIT_ONE_PLAYBACK, {\n          authId: authRef.current,\n          expiresAt: Date.now() + LIMIT_INFO_LIFE_MS,\n        })\n      )\n    } else {\n      store.dispatch(Action.error('API', {code: 10021}))\n    }\n  }\n\n  const clearKey = () => {\n    const savedAuthId = getSavedAuthId(store.getState())\n    if (savedAuthId === authRef.current)\n      store.dispatch(LocalStorageAction.save(StorageKey.LIMIT_ONE_PLAYBACK, {}))\n  }\n\n  const addUnloadListeners = () => {\n    window.addEventListener('beforeunload', clearKey)\n    window.addEventListener('unload', clearKey)\n  }\n\n  const removeUnloadListeners = () => {\n    window.removeEventListener('beforeunload', clearKey)\n    window.removeEventListener('unload', clearKey)\n  }\n\n  useEffect(() => {\n    authRef.current = uuid.v4()\n    if (enabled && moduleState !== ModuleState.ERROR) {\n      checkOnePlayback()\n      startInterval(() => checkOnePlayback(), CHECK_INTERVAL_MS)\n      addUnloadListeners()\n      return () => {\n        stopInterval()\n        removeUnloadListeners()\n        clearKey()\n      }\n    }\n  }, [enabled, moduleState !== ModuleState.ERROR])\n  return null\n}\n\nexport default LimitOnePlayback\n","import {useEffect, useContext} from 'react'\n\nimport {StorageKey} from 'Enum'\nimport {Context} from '../index'\nimport {type as PlayerType} from '../action/Player'\nimport {action as LocalStorageAction} from '../middleware/localStorage'\n\nconst LocalStorage = () => {\n  const store = useContext(Context.Adapter)\n  useEffect(() => {\n    return store.addDispatchedListener((store, action) => {\n      switch (action.type) {\n        case PlayerType.UPDATE_VOLUME:\n          return store.dispatch(\n            LocalStorageAction.save(StorageKey.VOLUME, {\n              ...store.getState().Player.volume,\n              volume: action.volume,\n            })\n          )\n        case PlayerType.MUTED:\n          return store.dispatch(\n            LocalStorageAction.save(StorageKey.VOLUME, {\n              ...store.getState().Player.volume,\n              muted: true,\n            })\n          )\n        case PlayerType.UNMUTED:\n          return store.dispatch(\n            LocalStorageAction.save(StorageKey.VOLUME, {\n              ...store.getState().Player.volume,\n              muted: false,\n            })\n          )\n      }\n    })\n  }, [])\n  return null\n}\n\nexport default LocalStorage\n","import axios from 'axios'\nimport {convertToSeconds} from 'util/index'\n\nconst parseVTT = data => {\n  const lines = data.split(/\\n\\n/g).slice(1)\n\n  return Promise.resolve(\n    lines.map(line => {\n      const [time, text] = line.split('\\n')\n      const [startTime, endTime] = time.split('-->').map(convertToSeconds)\n\n      return {startTime, endTime, text}\n    })\n  )\n}\n\nconst replaceLast = (url, path) => url.replace(/\\/[^/]+$/, `/${path}`)\n\nconst parseThumbnails = (data, url) =>\n  parseVTT(data)\n    .then(items =>\n      items.map(item => {\n        const [imagePath, , x, y, width, height] = item.text.split(/[#=,]/g)\n\n        return {\n          startTime: item.startTime,\n          endTime: item.endTime,\n          image: replaceLast(url, imagePath),\n          position: {\n            x: parseFloat(x),\n            y: parseFloat(y),\n            width: parseFloat(width),\n            height: parseFloat(height),\n          },\n        }\n      })\n    )\n    .then(items =>\n      Promise.all([\n        items,\n        ...Object.entries(\n          items.reduce(\n            (res, {image}) => ({\n              ...res,\n              // TODO it's not necessary to block for downloading all images\n              // replace commit a356628e with better preload approach\n              [image]: res[image] || axios.get(image, {responseType: 'blob'}),\n            }),\n            {}\n          )\n        ).map(([key, req]) =>\n          req.then(resp => [key, URL.createObjectURL(resp.data)])\n        ),\n      ])\n    )\n    .then(([items, ...blobUrls]) => {\n      const mapSrcToBlobUrl = blobUrls.reduce(\n        (res, [key, blobUrl]) => ({\n          ...res,\n          [key]: blobUrl,\n        }),\n        {}\n      )\n      return items.map(item => ({\n        ...item,\n        image: mapSrcToBlobUrl[item.image],\n      }))\n    })\n\nexport default parseThumbnails\n","import axios from 'axios'\n\nfunction getHeader({accessToken, deviceId, customHeader}) {\n  return {\n    'Cache-Control': 'no-cache',\n    Authorization: accessToken || '',\n    'X-Device-ID': deviceId || '',\n    'Content-type': 'application/json',\n    ...customHeader,\n  }\n}\n\nconst retry3 = (callback, time) => {\n  const delay = time => new Promise(res => setTimeout(res, time))\n  const PromiseRejectFilter = condition => callback => error =>\n    condition(error) ? callback(error) : Promise.reject(error)\n  const filterNetworkError = PromiseRejectFilter(\n    ({message}) => message === 'Network Error'\n  )\n  return callback()\n    .catch(filterNetworkError(() => delay(time).then(callback)))\n    .catch(filterNetworkError(() => delay(time).then(callback)))\n}\n\nexport default ({host, accessToken, deviceId, customHeader, customQuery}) => {\n  const headers = getHeader({accessToken, deviceId, customHeader})\n  const request = (method, url, query = {}) =>\n    retry3(\n      () =>\n        axios(url, {method, headers, params: {...customQuery, ...query}}).then(\n          ({data}) => data\n        ),\n      3000\n    )\n  const sessionPath = (id, type) =>\n    `${host}/sessions/${type}/${id}/playback/${deviceId}`\n  return {\n    videos: ({id, query}) =>\n      request('GET', `${host}/videos/${id}`, query).then(data => ({\n        id: data.id,\n        title: data.title,\n        time: {\n          last_played: data.time.last_position,\n          endStart: data.time.end_start_position,\n        },\n        recommend: {\n          previous: data.prev_video && {\n            ...data.prev_video,\n            images: [{url: data.prev_video.image_url}],\n          },\n          next: data.next_video && {\n            ...data.next_video,\n            images: [{url: data.next_video.image_url}],\n          },\n        },\n      })),\n    lives: ({id, query}) => request('GET', `${host}/lives/${id}`, query),\n    playbackStart: ({id, type, query}) =>\n      request('POST', `${sessionPath(id, type)}/start`, query),\n    playbackInfo: ({id, type, query, token}) =>\n      request('GET', `${sessionPath(id, type)}/info`, {\n        ...query,\n        playback_token: token,\n      }),\n    heartbeat: ({id, type, query, token}) =>\n      request('POST', `${sessionPath(id, type)}/heartbeat`, {\n        ...query,\n        playback_token: token,\n      }),\n    playbackEnd: ({id, type, query, token}) =>\n      request('POST', `${sessionPath(id, type)}/end`, {\n        ...query,\n        playback_token: token,\n      }),\n    updateLastPlayedTime: ({id, type, position, token, query}) =>\n      request(\n        'POST',\n        `${sessionPath(id, type)}/position/${Math.floor(position)}`,\n        {...query, playback_token: token}\n      ),\n    playbackTokenInfo: ({token, query}) =>\n      request('POST', `${host}/playback/tokens/${token}`, query),\n  }\n}\n","export default class Session {\n  constructor(resource, id, type, query) {\n    this.resource = resource\n    this.id = id\n    this.type = type\n    this.query = query\n    this.resourceInfo = {\n      id: this.id,\n      type: this.type,\n      query: {...this.query, type: this.type},\n    }\n    this.playbackToken = null\n    this._startPromise = null\n    this._endPromise = {}\n  }\n\n  start() {\n    if (this._startPromise === null) {\n      this._startPromise = this.resource\n        .playbackStart(this.resourceInfo)\n        .then(tokenInfo => {\n          this.playbackToken = tokenInfo\n          this._startPromise = null\n          return tokenInfo\n        })\n    }\n\n    return this._startPromise\n  }\n\n  info() {\n    return (\n      this.playbackToken &&\n      this.resource.playbackInfo({\n        ...this.resourceInfo,\n        token: this.playbackToken.token,\n      })\n    )\n  }\n\n  heartbeat() {\n    return (\n      this.playbackToken &&\n      this.resource.heartbeat({\n        ...this.resourceInfo,\n        token: this.playbackToken.token,\n      })\n    )\n  }\n\n  end() {\n    const token = this.playbackToken && this.playbackToken.token\n    if (token && !this._endPromise[token]) {\n      this._endPromise[token] = this.resource\n        .playbackEnd({...this.resourceInfo, token})\n        // token might be already expired\n        .catch(() => {})\n        .then(() => {\n          this._endPromise[token] = null\n        })\n      if (this.playbackToken.token === token) {\n        this.playbackToken = null\n      }\n    }\n\n    return this._endPromise[token]\n  }\n\n  async restart() {\n    await this.end()\n    return this.start()\n  }\n\n  updateLastPlayedTime(time) {\n    return (\n      this.playbackToken &&\n      this.resource.updateLastPlayedTime({\n        ...this.resourceInfo,\n        token: this.playbackToken.token,\n        position: Math.floor(time),\n      })\n    )\n  }\n}\n","import {useEffect, useContext, useRef} from 'react'\nimport PropTypes from 'prop-types'\nimport _get from 'dlv'\nimport axios from 'axios'\n\nimport {useDispatchSessionEvent} from 'player/playerContext'\nimport Types from 'Types'\nimport {ItemType} from 'Enum'\nimport parseThumbnails from 'util/parseThumbnails'\nimport {useInterval} from 'Hooks'\nimport {Context} from 'player/store/index'\nimport Action, {type} from 'player/store/action/API'\nimport {getMediaSource} from 'util/mediaSource'\nimport Resource from './Resource'\nimport Session from './Session'\n\nconst HEARTBEAT_INTERVAL = 10000\n\nconst API = ({\n  host,\n  accessToken,\n  deviceId,\n  content,\n  customHeader,\n  customQuery,\n  preferredConfig: {preferredMediaSource},\n}) => {\n  const session = useRef(null)\n  const dispatchSessionEvent = useDispatchSessionEvent()\n  const [setInterval, clearInterval] = useInterval()\n  const store = useContext(Context.Adapter)\n  const isActivatable =\n    host &&\n    content &&\n    content.contentId !== undefined &&\n    content.contentType !== undefined\n  useEffect(() => {\n    if (isActivatable) {\n      store.dispatch(Action.enable(content, customHeader))\n    } else {\n      store.dispatch(Action.disable())\n    }\n\n    if (session.current) {\n      dispatchSessionEvent('playbackEnded')\n      session.current.end()\n    }\n    session.current = null\n  }, [host, content.contentId, content.contentType])\n  useEffect(() => {\n    const {contentId, contentType, ...query} = content\n    const resource = Resource({\n      host,\n      accessToken,\n      deviceId,\n      customHeader,\n      customQuery,\n    })\n    session.current = new Session(resource, contentId, contentType, query)\n    const fetchContent = () =>\n      ItemType.LIVES === contentType\n        ? resource.lives({id: contentId, query: {...query, contentType}})\n        : resource.videos({id: contentId, query: {...query, contentType}})\n    const fetchFullPlayback = async () => {\n      const state = store.getState()\n      const targetSourceType = getMediaSource(state, preferredMediaSource)\n      const [playbackToken, contentInfo] = await Promise.all([\n        session.current.start(),\n        fetchContent(),\n      ])\n      const playbackInfo = await session.current.info()\n      const source =\n        playbackInfo.sources.find(source => source.type === targetSourceType) ||\n        playbackInfo.sources[0]\n\n      return {\n        drm: {\n          drm__fairplay: {url: playbackToken.drm_portal_url},\n          drm__playready: {url: playbackToken.drm_portal_url},\n          drm__widevine: {url: playbackToken.drm_portal_url},\n        },\n        playingSourceType: source.type,\n        availableSources: playbackInfo.sources.map(source => source.type),\n        manifests: source.manifests,\n        playbackToken,\n        customHeader,\n        thumbnailSeekingsURL: source.thumbnail_seeking_url,\n        ...contentInfo,\n      }\n    }\n    const removeListener = store.addDispatchedListener(\n      async (store, action) => {\n        if (action && isActivatable) {\n          try {\n            switch (action.type) {\n              case type.CLEAN:\n              case type.DISABLE: {\n                clearInterval()\n                break\n              }\n              case type.PREVIEW_CONTENT: {\n                const data = await fetchContent()\n                store.dispatch(Action.setContent(data))\n                break\n              }\n              case type.PREPARE_PLAYBACK: {\n                const data = await fetchFullPlayback()\n                store.dispatch(Action.setPlayback(data))\n                break\n              }\n              case type.PREPARE_THUMBNAIL: {\n                const thumbnailUrl = _get(\n                  store.getState(),\n                  'API.content.thumbnailSeekingsURL'\n                )\n                if (thumbnailUrl) {\n                  await axios\n                    .get(thumbnailUrl)\n                    .then(result => parseThumbnails(result.data, thumbnailUrl))\n                    .then(thumbnails =>\n                      store.dispatch(Action.setThumbnails(thumbnails))\n                    )\n                    .catch(() => {})\n                }\n                store.dispatch(Action.ready())\n                break\n              }\n              case type.READY: {\n                if (\n                  accessToken &&\n                  _get(store.getState(), 'API.playback.heartbeat', false)\n                ) {\n                  clearInterval()\n                  setInterval(() => {\n                    if (session.current.heartbeatInProgress) {\n                      return\n                    }\n                    session.current.heartbeatInProgress = true\n                    session.current\n                      .heartbeat()\n                      .catch(async error => {\n                        if (error?.response.status === 400) {\n                          const sessionData = await session.current.start()\n                          store.dispatch(\n                            Action.refreshPlaybackToken(sessionData)\n                          )\n                        } else {\n                          clearInterval()\n                          store.dispatch(Action.error(error))\n                        }\n                      })\n                      .then(() => {\n                        session.current.heartbeatInProgress = false\n                      })\n                  }, HEARTBEAT_INTERVAL)\n                }\n                break\n              }\n              case type.UPDATE_LAST_PLAYED_TIME: {\n                // ignore updatePlaybackTime api error\n                session.current.updateLastPlayedTime(action.time)\n                break\n              }\n              case type.UPDATE_PLAYED_END: {\n                clearInterval()\n                await session.current.updateLastPlayedTime(0)\n                dispatchSessionEvent('playbackEnded')\n                await session.current.end()\n                break\n              }\n              case type.REFRESH_CONTENT: {\n                const newContent = await fetchContent()\n                const oldSectionId = _get(\n                  store.getState(),\n                  'API.content.section_id'\n                )\n                const newSectionId = newContent.section_id\n                if (\n                  oldSectionId !== undefined &&\n                  oldSectionId !== newSectionId\n                ) {\n                  store.dispatch(Action.endSection())\n                  store.dispatch(Action.setContent(newContent))\n                  dispatchSessionEvent('sectionChange')\n                  store.dispatch(\n                    Action.changeSection(oldSectionId, newSectionId)\n                  )\n                } else {\n                  store.dispatch(Action.setContent(newContent))\n                }\n\n                if (_get(store.getState(), 'API.content.end')) {\n                  store.dispatch(Action.endLiveType())\n                }\n                break\n              }\n            }\n          } catch (error) {\n            store.dispatch(Action.error(error))\n          }\n        }\n      }\n    )\n    return () => {\n      if (session.current && session.current.playbackToken) {\n        dispatchSessionEvent('playbackEnded')\n        session.current.end()\n      }\n      removeListener()\n      clearInterval()\n    }\n  }, [host, accessToken, content.contentId, content.contentType])\n  return null\n}\n\nAPI.propTypes = {\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n  deviceId: PropTypes.string,\n  content: Types.VideoInfo,\n  customHeader: PropTypes.object,\n  customQuery: PropTypes.object,\n  preferredConfig: PropTypes.shape({\n    preferredMediaSource: PropTypes.string,\n  }),\n}\n\nAPI.defaultProps = {\n  host: null,\n  accessToken: null,\n  deviceId: null,\n  content: {},\n  customHeader: {},\n  customQuery: {},\n  preferredConfig: {\n    preferredMediaSource: null,\n  },\n}\n\nexport default API\n","import {useContext, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport _get from 'dlv'\n\nimport {useDispatchSessionEvent} from 'player/playerContext'\nimport {type} from '../action'\nimport APIAction, {type as APIType} from 'player/store/action/API'\nimport {type as UIType} from '../action/UI'\nimport {Context} from '../index'\n\nconst Event = ({\n  content = {},\n  onBack,\n  onReplay,\n  onError,\n  onVideoQualityChanged,\n  onMediaSourceChanged,\n  onChangeVideo,\n  onChangeToNextVideo,\n  onChangeToPreviousVideo,\n  onSectionChange,\n}) => {\n  const store = useContext(Context.Adapter)\n  const dispatchSessionEvent = useDispatchSessionEvent()\n\n  useEffect(() => {\n    if (content.contentId && content.contentType) {\n      store.dispatch(APIAction.contentChange())\n    }\n  }, [content.contentId, content.contentType])\n\n  useEffect(\n    () =>\n      store.addDispatchedListener((store, action) => {\n        const state = store.getState()\n        switch (action.type) {\n          case type.BACK:\n            return onBack(_get(state, 'API.content.contentId'))\n          case type.REPLAY:\n            return onReplay()\n          case type.ERROR:\n            dispatchSessionEvent('error', action.error)\n            return onError({...action, content: _get(state, 'API.content')})\n          case UIType.SELECT_QUALITY:\n            return onVideoQualityChanged(action.to, action.from)\n          case UIType.SELECT_MEDIA_SOURCE:\n            return onMediaSourceChanged(action.mediaSource)\n          case UIType.CHANGE_NEXT_EPISODE:\n            onChangeVideo(action)\n            onChangeToNextVideo(action)\n            break\n          case UIType.CHANGE_PREVIOUS_EPISODE:\n            onChangeVideo(action)\n            onChangeToPreviousVideo(action)\n            break\n          case APIType.CHANGE_SECTION:\n            onSectionChange(action)\n            break\n        }\n      }),\n    []\n  )\n  return null\n}\n\nEvent.propTypes = {\n  onBack: PropTypes.func,\n  onReplay: PropTypes.func,\n  onError: PropTypes.func,\n  onVideoQualityChanged: PropTypes.func,\n  onChangeVideo: PropTypes.func,\n  onChangeToNextVideo: PropTypes.func,\n  onChangeToPreviousVideo: PropTypes.func,\n  onSectionChange: PropTypes.func,\n}\nEvent.defaultProps = {\n  onBack: () => {},\n  onReplay: () => {},\n  onError: () => {},\n  onVideoQualityChanged: () => {},\n  onMediaSourceChanged: () => {},\n  onChangeVideo: () => {},\n  onChangeToNextVideo: () => {},\n  onChangeToPreviousVideo: () => {},\n  onSectionChange: () => {},\n}\n\nexport default Event\n","import {useContext, useEffect, useImperativeHandle} from 'react'\n\nimport Types from 'Types'\nimport {AgentCommand} from 'Enum'\nimport {type} from '../action'\nimport PlayerAction from '../action/Player'\nimport {type as APIType} from '../action/API'\nimport UIAction, {type as UIType} from '../action/UI'\nimport {Context} from '../index'\nimport operator from '../operator'\n\nconst Agent = ({command, preload = 'auto', playerRef}) => {\n  const store = useContext(Context.Adapter)\n  useEffect(() => {\n    store.dispatch(operator.initialize)\n  }, [])\n\n  useImperativeHandle(playerRef, () => ({\n    load: () => store.dispatch(operator.loadContent),\n  }))\n\n  useEffect(() => {\n    if (command === AgentCommand.AUTO)\n      return store.addDispatchedListener((store, action) => {\n        switch (action.type) {\n          case type.ERROR:\n            store.dispatch(operator.error)\n            break\n          case type.INITIALIZED:\n            if (preload === 'auto') {\n              store.dispatch(operator.loadContent)\n            }\n            break\n          case APIType.CLEAN:\n            store.dispatch(UIAction.resetEndRoll())\n            break\n          case APIType.ENABLE:\n            store.dispatch(UIAction.resetEndRoll())\n            store.dispatch(operator.retry)\n            break\n          case UIType.CHANGE_NEXT_EPISODE:\n          case UIType.CHANGE_PREVIOUS_EPISODE:\n            store.dispatch(UIAction.setAutoPlay(true))\n            break\n          case type.READY_TO_PLAY:\n            if (store.getState().UI.autoPlayByUI) {\n              store.dispatch(UIAction.setAutoPlay(false))\n              store.dispatch(PlayerAction.play())\n            }\n        }\n      })\n  }, [])\n  return null\n}\n\nAgent.propTypes = {\n  command: Types.AgentCommand,\n}\n\nAgent.defaultProps = {\n  command: AgentCommand.AUTO,\n}\n\nexport default Agent\n","/* eslint-disable no-plusplus */\nimport UAParser from 'ua-parser-js'\nimport {EnvironmentErrorName} from 'Enum'\n\nconst parser = new UAParser()\n\nexport function getOS() {\n  return parser.getOS()\n}\n\nexport function getDevice() {\n  const device = parser.getDevice()\n  const osName = getOS().name\n  if (device.type === undefined && osName === 'Android') device.type = 'tablet'\n  return device\n}\n\nexport function getBrowser() {\n  return parser.getBrowser()\n}\n\nconst isDesktop = () => !getDevice().type\n\nexport function compareVersion(v1, v2) {\n  if (!/\\d+(\\.\\d+)*/.test(v1)) throw Error(`the version format ${v1} is wrong`)\n  if (!/\\d+(\\.\\d+)*/.test(v2)) throw Error(`the version format ${v2} is wrong`)\n\n  const v1parts = v1.split('.').map(p => Number(p))\n  const v2parts = v2.split('.').map(p => Number(p))\n  for (let i = 0, I = Math.max(v1parts.length, v2parts.length); i < I; i++) {\n    if (v1parts[i] !== v2parts[i]) {\n      return (v1parts[i] || 0) - (v2parts[i] || 0)\n    }\n  }\n\n  return 0\n}\n\nexport const checkEnvironment = supportEnvironmentList => {\n  if (!supportEnvironmentList) {\n    return true\n  }\n  const device = getDevice()\n  const os = getOS()\n  const browser = getBrowser()\n  const toUnique = list => Array.from(new Set(list))\n  const validators = [\n    {\n      filter: ({device: {name, type}}) =>\n        name === '*' ||\n        (type === 'desktop' && device.type === undefined) ||\n        type === device.type,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_DEVICE,\n      getErrorProps: list => ({\n        allowDevices: toUnique(list.map(env => env.device.type)),\n      }),\n    },\n    {\n      filter: ({os: {name}}) => name === '*' || name === os.name,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_OS,\n      getErrorProps: list => ({\n        allowOSs: toUnique(list.map(env => env.os.name)),\n      }),\n    },\n    {\n      filter: ({os: {version}}) =>\n        version === '*' || compareVersion(os.version, version) >= 0,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_OS_VERSION,\n      getErrorProps: list => ({\n        minVersion: list[0].os.version,\n      }),\n    },\n    {\n      filter: ({browser: {name}}) => name === browser.name,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_BROWSER,\n      getErrorProps: list => ({\n        allowBrowsers: toUnique(list.map(env => env.browser.name)),\n      }),\n    },\n    {\n      filter: ({browser: {version}}) =>\n        compareVersion(browser.version, version) >= 0,\n      errorName: EnvironmentErrorName.NOT_SUPPORT_BROWSER_VERSION,\n      getErrorProps: list => ({\n        minVersion: list[0].browser.version,\n      }),\n    },\n  ]\n  let scopes = supportEnvironmentList\n  for (let i = 0; i < validators.length; i++) {\n    const validator = validators[i]\n    const newScopes = scopes.filter(validator.filter)\n    if (newScopes.length === 0) {\n      // eslint-disable-next-line no-throw-literal\n      throw {\n        name: validator.errorName,\n        ...validator.getErrorProps(scopes),\n      }\n    }\n    scopes = newScopes\n  }\n\n  return true\n}\n\n// IE doesn't support pointer query, assume it always have pointer\nconst havePointerQuery =\n  '(pointer: fine), screen and (-ms-high-contrast: active), (-ms-high-contrast: none)'\n\nexport {isDesktop, isDesktop as isPC, havePointerQuery}\n","// eslint-disable-next-line no-unused-vars\nimport React, {useContext, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport Types from 'Types'\nimport {ModuleState} from 'Enum'\nimport {Context} from '../index'\nimport Action from '../action/UI'\nimport {checkEnvironment} from 'util/environment'\n\nconst EnvironmentValidator = ({supportEnvironmentList}) => {\n  const {\n    state: {state: moduleState},\n    dispatch,\n  } = useContext(Context.Module)\n  useEffect(() => {\n    if (moduleState !== ModuleState.ERROR) {\n      try {\n        checkEnvironment(supportEnvironmentList)\n      } catch (error) {\n        dispatch(Action.error(error))\n      }\n    }\n  }, [moduleState !== ModuleState.ERROR])\n  return null\n}\n\nEnvironmentValidator.propTypes = {\n  supportEnvironmentList: PropTypes.arrayOf(Types.SupportEnvironmentItem),\n}\n\nexport default EnvironmentValidator\n","// eslint-disable-next-line no-unused-vars\nimport React, {useEffect, useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport {PlayerViewMode, PlayerState} from 'Enum'\nimport PlayerAction, {type as PlayerType} from '../action/Player'\n\nimport {Context} from '../index'\nimport {debounce} from 'util/index'\n\nconst MobileSafariPlugin = ({\n  containerRef,\n  onViewModeChange,\n  onEnterFullscreen,\n  onExitFullscreen,\n}) => {\n  const store = useContext(Context.Adapter)\n  const {state: playerState, dispatch} = useContext(Context.PlayerState)\n  useEffect(() => {\n    if (playerState >= PlayerState.LOADED) {\n      const videoEle = containerRef.current.querySelector('video')\n      const syncToStore = ({target: {webkitPresentationMode}}) => {\n        dispatch(PlayerAction.updateViewMode(webkitPresentationMode))\n        onViewModeChange({to: webkitPresentationMode})\n        if (webkitPresentationMode === PlayerViewMode.FULLSCREEN)\n          onEnterFullscreen()\n        else onExitFullscreen()\n      }\n      videoEle.addEventListener('webkitpresentationmodechanged', syncToStore)\n      return () =>\n        videoEle.removeEventListener(\n          'webkitpresentationmodechanged',\n          syncToStore\n        )\n    }\n  }, [playerState >= PlayerState.LOADED])\n  useEffect(\n    () =>\n      store.addDispatchedListener((store, action) => {\n        switch (action.type) {\n          case PlayerType.LEAVE_FULL_SCREEN:\n            if (\n              store.getState().Player.viewMode === PlayerViewMode.FULLSCREEN\n            ) {\n              containerRef.current.querySelector('video').webkitExitFullScreen()\n            }\n            break\n        }\n      }),\n    []\n  )\n  useEffect(() => {\n    const abortMultiTouch = debounce(() => {}, 300)\n    containerRef.current.addEventListener('touchend', abortMultiTouch)\n    return () =>\n      containerRef.current &&\n      containerRef.current.removeEventListener('touchend', abortMultiTouch)\n  }, [])\n  return null\n}\nMobileSafariPlugin.propTypes = {\n  containerRef: PropTypes.element.isRequired,\n  onViewModeChange: PropTypes.func,\n  onEnterFullscreen: PropTypes.func,\n  onExitFullscreen: PropTypes.func,\n}\nMobileSafariPlugin.defaultProps = {\n  onViewModeChange: () => {},\n  onEnterFullscreen: () => {},\n  onExitFullscreen: () => {},\n}\n\nexport default MobileSafariPlugin\n","// eslint-disable-next-line no-unused-vars\nimport React, {useContext, useEffect} from 'react'\nimport _get from 'dlv'\nimport PlayerAction, {type as PlayerType} from '../action/Player'\n\nimport {Context} from '../index'\n\nconst OTP_1878 = () => {\n  const store = useContext(Context.Adapter)\n  useEffect(() => {\n    return store.addDispatchedListener((store, action) => {\n      const isMuted = _get(store.getState(), 'Player.volume.muted', false)\n      switch (action.type) {\n        case PlayerType.SET_VOLUME:\n          if (action.volume === 0 && !isMuted) {\n            store.dispatch(PlayerAction.mute())\n          } else if (action.volume !== 0 && isMuted) {\n            store.dispatch(PlayerAction.unmute())\n          }\n          break\n      }\n    })\n  }, [])\n  return null\n}\n\nexport default OTP_1878\n","import PropTypes from 'prop-types'\nimport _get from 'dlv'\nimport {LanguageCode} from 'Enum'\nimport Types from 'Types'\nimport LANGS from 'config/lang'\nimport {context} from './index'\n\nconst Provider = ({lang, langCustomCode, children}) => {\n  const translations = Object.assign(\n    {},\n    LANGS[lang.toLowerCase()],\n    langCustomCode\n  )\n  const getMessage = (code, property) => {\n    return (\n      translations[code] &&\n      translations[code].replace(/{(\\S+?)}/gi, (substring, name) => {\n        const res = _get(property, name) || substring\n        return res instanceof Array ? res.join(', ') : res\n      })\n    )\n  }\n  const translate = (code, property) => {\n    return translations[code] ? getMessage(code, property) : code\n  }\n  return (\n    <context.Provider value={{translations, getMessage, translate}}>\n      {children}\n    </context.Provider>\n  )\n}\n\nProvider.propTypes = {\n  lang: Types.LanguageCode,\n  langCustomCode: PropTypes.object,\n  children: PropTypes.node,\n}\nProvider.defaultProps = {\n  lang: LanguageCode.EN,\n  langCustomCode: {},\n}\n\nexport default Provider\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport Types from 'Types'\nimport {context} from './index'\n\nconst Message = ({code, property, defaultValue, wrap: Wrap = 'span'}) => {\n  const {getMessage, translate} = useContext(context)\n  const message = getMessage(code, property) || translate(defaultValue)\n\n  return Wrap ? <Wrap>{message}</Wrap> : message\n}\n\nMessage.propTypes = {\n  code: Types.TextCode,\n  property: PropTypes.object,\n  defaultValue: Types.TextCode,\n  wrap: PropTypes.elementType,\n}\n\nexport default Message\n","import React, {useContext} from 'react'\nimport Provider from './Provider'\nimport Message from './Message'\n\nexport const context = React.createContext()\n\nconst useTranslations = () => useContext(context).translations\n\nconst translate = (translations, {id, values, getDefault}) => {\n  if (id in translations) {\n    return translations[id].replace(/{(\\S+?)}/gi, (_, key) => {\n      const res = values[key] || ''\n      return res?.join(', ') || res\n    })\n  }\n  return getDefault?.() || id\n}\n\nconst FormattedMessage = ({id, values, getDefault}) => {\n  const translations = useTranslations()\n  return translate(translations, {id, values, getDefault})\n}\n\nexport default {\n  Context: context,\n  Provider,\n  Message,\n}\n\nexport {useTranslations, translate, FormattedMessage}\n","import {useState, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport {getBrowser, getOS, getDevice} from 'util/environment'\n\nconst DeviceDetector = ({children}) => {\n  const [device, setDevice] = useState()\n  useEffect(() => {\n    setDevice({\n      browser: getBrowser(),\n      os: getOS(),\n      device: getDevice(),\n      touchable: 'ontouchstart' in window,\n    })\n  }, [])\n  return device ? children(device) : ''\n}\n\nDeviceDetector.propTypes = {\n  children: PropTypes.func,\n}\nDeviceDetector.defaultProps = {\n  children: ({browser, os, device}) => [browser, os, device],\n}\n\nexport default DeviceDetector\n","const blurPause = ({player}) => {\n  const pause = async () => {\n    let shouldPause = true\n    player.pause()\n    setTimeout(() => {\n      shouldPause = false\n    }, 50)\n    player.getVideoElement().addEventListener(\n      'play',\n      () => {\n        if (shouldPause) {\n          player.pause()\n        }\n      },\n      {once: true}\n    )\n  }\n  document.addEventListener('visibilitychange', pause)\n  return () => document.removeEventListener('visibilitychange', pause)\n}\n\nexport default blurPause\n","export const layer = {\n  position: 'absolute',\n  display: 'block',\n  width: '100%',\n  height: '100%',\n  top: 0,\n  left: 0,\n}\n\nexport const center = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n}\n\nexport const mask = {\n  ...layer,\n  ...center,\n  backgroundColor: 'rgba(0, 0, 0, 0.5)',\n  flexDirection: 'column',\n  whiteSpace: 'pre-wrap',\n  textAlign: 'center',\n  color: 'white',\n  userSelect: 'text',\n}\n\nconst button = {\n  border: 'none',\n  outline: 'none',\n  cursor: 'pointer',\n  padding: 0,\n  flexShrink: 0,\n  width: 36,\n  height: 36,\n  backgroundColor: 'transparent',\n  userSelect: 'none',\n  '*': {\n    pointerEvents: 'none',\n    touchAction: 'none',\n  },\n}\n\nexport {button}\n","const getTargetQuality = (items, suggested) => {\n  const sorted = items.sort((a, b) => b - a)\n  if (!suggested) {\n    return sorted[0]\n  }\n  return sorted.find(value => value <= suggested) || sorted.slice(-1)[0]\n}\n\nconst filterHlsManifestQualities = (data, {sourceUrl, maxHeight}) => {\n  if (RegExp(`RESOLUTION=\\\\d+x${maxHeight}\\\\W`).test(data)) {\n    return data\n      .replace(\n        /(#EXT-X-STREAM-INF:.*RESOLUTION=\\d+x)(\\d+)(.*\\n)(.*)(\\n)/g,\n        (match, part1, height, part2, fileName, line) =>\n          height <= maxHeight\n            ? [part1, height, part2, new URL(fileName, sourceUrl), line].join(\n                ''\n              )\n            : ''\n      )\n      .replace(\n        /(#EXT-X-MEDIA:.*URI=\")(.*)(\")/g,\n        (match, part, fileName, line) =>\n          [part, new URL(fileName, sourceUrl), line].join('')\n      )\n  }\n}\n\nexport {getTargetQuality, filterHlsManifestQualities}\n","/* eslint-disable consistent-return */\n/* eslint-disable no-use-before-define */\nconst activationTriggeringEvents = [\n  'touchstart',\n  'click',\n  'dblclick',\n  'mousedown',\n  'mouseup',\n  'keydown',\n  'keypress',\n  'keyup',\n]\n\n/** @param {HTMLVideoElement} videoElement */\nconst isSafariVideo = videoElement =>\n  videoElement?.canPlayType('video/mp4; codecs=\"hvc1\"')\n\nconst addEventListener = (element, eventNames, handler, options) => {\n  eventNames.forEach(name => element.addEventListener(name, handler, options))\n\n  return () =>\n    eventNames.forEach(name =>\n      element.removeEventListener(name, handler, options)\n    )\n}\n\n// Workaround: Try to pass autoplay gate in Safari\n// https://kkvideo.atlassian.net/l/c/k1UBH0ij\nconst autoUnlockAutoplay = () => {\n  const videoElement = document.querySelector('video')\n  if (!isSafariVideo(videoElement)) {\n    return\n  }\n  const state = {\n    /** @type {'gated'|'working'|'not gated'} */\n    status: 'gated',\n  }\n  const unlock = event =>\n    Promise.resolve()\n      .then(() => {\n        if (state.status === 'gated') {\n          state.status = 'working'\n          return videoElement.play().then(() => {\n            setUnlocked()\n            videoElement.pause()\n          })\n        }\n      })\n      .catch(() => {\n        state.status = 'gated'\n        console.error('Unable to unlock autoplay with', event.type)\n      })\n\n  const cleanup = [\n    addEventListener(window, activationTriggeringEvents, unlock, {\n      capture: true,\n    }),\n    addEventListener(videoElement, ['play'], () => {\n      if (state.status !== 'gated') {\n        return\n      }\n      state.status = 'working'\n      // Call play again to ensure unlocked\n      videoElement\n        .play()\n        .then(setUnlocked)\n        .catch(e => {\n          console.log(e)\n          state.status = 'gated'\n        })\n    }),\n  ]\n\n  const setUnlocked = () => {\n    cleanup.forEach(removeListeners => removeListeners())\n    state.status = 'not gated'\n  }\n}\n\nconst preventLeaveFullscreenPause = () => {\n  const videoElement = document.querySelector('video')\n  if (!isSafariVideo(videoElement)) {\n    return\n  }\n  const state = {lastLeave: 0}\n  const minInteractionDelay = 700\n  const resumeSystemPause = () => {\n    if (Math.abs(state.lastPause - state.lastLeave) <= minInteractionDelay) {\n      videoElement.play()\n    }\n  }\n  videoElement.addEventListener('pause', () => {\n    state.lastPause = Date.now()\n    resumeSystemPause()\n  })\n  videoElement.addEventListener('webkitpresentationmodechanged', event => {\n    if (event.target.webkitPresentationMode !== 'fullscreen') {\n      state.lastLeave = Date.now()\n      resumeSystemPause()\n    }\n  })\n\n  return function setUserPause() {\n    state.lastLeave = 0\n  }\n}\n\nexport {autoUnlockAutoplay, preventLeaveFullscreenPause}\n","/* @jsxImportSource @emotion/react */\nimport {Component, createRef} from 'react'\nimport PropTypes from 'prop-types'\nimport axios from 'axios'\nimport _get from 'dlv'\n\nimport blurPause from 'playerCore/blurPause'\nimport config from 'config'\nimport {PlayerViewMode, StorageKey} from 'Enum'\nimport {isDesktop} from 'util/environment'\nimport {catchBy} from 'util/index'\nimport {layer} from 'style'\nimport {filterHlsManifestQualities} from 'playerCore/adaptation'\nimport PlayerAction, {type} from './store/action/Player'\nimport UIAction, {type as UIType} from './store/action/UI'\nimport {type as ApiType} from './store/action/API'\nimport {autoUnlockAutoplay, preventLeaveFullscreenPause} from 'player/safari'\nimport {getDefaultDrmConfig, getWidevineLevel} from 'playerCore/drm'\n\nconst ISSUER = 'kks-adapter'\n\nconst getMaxQuality = (state, {manifestType = 'hls', quality = ''}) => {\n  const {\n    UI: {selectedQualityName, qualityItems, qualityPrecedence},\n    API: {manifests},\n  } = state\n  const {resolutions = []} = manifests[manifestType]\n  const height =\n    qualityPrecedence === 'application'\n      ? parseInt(quality.default || quality)\n      : (\n          qualityItems.find(item => item.value === selectedQualityName) ||\n          qualityItems[0]\n        ).height\n\n  return resolutions.find(item => item.height === height) || resolutions[0]\n}\n\nconst getLoadOptions = (\n  state,\n  {startTime, widevine: {policy, mostRobustLevel}, drm}\n) => {\n  const {\n    manifests,\n    drm: drmHost,\n    playbackToken,\n    customHeader: headers,\n  } = state.API\n  const getDrmConfig = drm ? drm : getDefaultDrmConfig\n  return {\n    dash: manifests.dash.url,\n    hls: manifests.hls.url,\n    drm: getDrmConfig({\n      host: drmHost,\n      token: playbackToken.token,\n      headers,\n      widevine: {\n        policy,\n        level: mostRobustLevel,\n        blockedDevices: state.API.playbackToken.widevine_blacklist,\n      },\n    }),\n    options: {\n      startTime: startTime || _get(state, 'API.playback.updateTime') || 0,\n    },\n  }\n}\n\nconst applyLoadPlugins = (plugins = [], manifest, options) =>\n  plugins.reduce(async (last, plugin) => {\n    const result = await last\n    return {\n      ...result,\n      ...(await plugin.load?.(result, options)),\n    }\n  }, Promise.resolve(manifest))\n\nconst handleSeek = (player, plugins, position) => {\n  const seekHandler = plugins.find(\n    plugin => typeof plugin.handleSeek === 'function'\n  )\n  if (seekHandler) {\n    seekHandler.handleSeek(position, realPosition =>\n      player.seek(realPosition, ISSUER)\n    )\n    return true\n  }\n}\n\nconst getPlaybackStatus = (player, plugins) =>\n  Object.assign(\n    {\n      currentTime: player.getCurrentTime(),\n      duration: player.getDuration(),\n    },\n    ...plugins.map(plugin => plugin.getPlaybackStatus?.())\n  )\n\nconst loadStream = async (player, store, props, self) => {\n  const state = store.getState()\n  const preferredManifestFormat = player.getSupportedTech()[0].streaming\n  const baseOptions = getLoadOptions(state, {\n    ...(state.API.contentChangedTimes <= 1 && {startTime: props.startTime}),\n    widevine: {\n      policy: props.widevine,\n      mostRobustLevel: await getWidevineLevel(),\n    },\n    drm: props.drm,\n  })\n  const {\n    url: manifestUrl,\n    startTime = baseOptions.startTime,\n    ...streamInfo\n  } = await applyLoadPlugins(\n    props.plugins,\n    {\n      ...state.API.manifests[preferredManifestFormat],\n      url: baseOptions[preferredManifestFormat],\n      startTime: baseOptions.options.startTime,\n    },\n    {\n      player,\n      video: props.videoRef.current,\n      adContainer: props.adContainerRef.current,\n    }\n  )\n  self.streamInfo = streamInfo\n  let loadOptions = {\n    ...baseOptions,\n    [preferredManifestFormat]: manifestUrl,\n    options: {startTime},\n  }\n\n  if (preferredManifestFormat === 'hls') {\n    const {data: manifest} = await axios.get(manifestUrl).catch(() => {\n      store.dispatch(PlayerAction.error())\n    })\n    const getFilteredManifest = () => {\n      const maxQuality = getMaxQuality(store.getState(), {\n        quality: props.quality,\n      })\n      const filtered = filterHlsManifestQualities(manifest, {\n        sourceUrl: manifestUrl,\n        maxHeight: maxQuality.height,\n      })\n      return filtered\n        ? URL.createObjectURL(\n            new Blob([filtered], {type: 'application/x-mpegURL'})\n          )\n        : manifestUrl\n    }\n    self.changeQuality = async () => {\n      const startTime = player.getCurrentTime()\n      await player.unload()\n      return player.load({\n        ...loadOptions,\n        hls: getFilteredManifest(),\n        options: {startTime},\n      })\n    }\n    loadOptions = {\n      ...loadOptions,\n      hls: getFilteredManifest(),\n    }\n  }\n\n  return player.load(loadOptions)\n}\n\nconst handleSafariStalledTooLong = (player, store, PlayerAction) => {\n  if (player.getStreamType() !== 'hls') {\n    return\n  }\n\n  setTimeout(async () => {\n    if (player.isStalled()) {\n      const {url} = store.getState().API.manifests.hls\n      await axios.get(url, {timeout: 5000}).catch(() => {\n        store.dispatch(PlayerAction.error())\n      })\n    }\n  }, 10000)\n}\n\nclass BitmovinPlayer extends Component {\n  static propTypes = {\n    licenseKey: PropTypes.string.isRequired,\n    config: PropTypes.object,\n    autoPlay: PropTypes.bool,\n    quality: PropTypes.number,\n    containerRef: PropTypes.object,\n    store: PropTypes.object.isRequired,\n    plugins: PropTypes.array,\n    videoRef: PropTypes.object,\n\n    dispatchSessionEvent: PropTypes.func,\n    setPlayer: PropTypes.func,\n    onSourceLoaded: PropTypes.func,\n    onReady: PropTypes.func,\n    onPlay: PropTypes.func,\n    onPlaying: PropTypes.func,\n    onPaused: PropTypes.func,\n    onEnded: PropTypes.func,\n    onError: PropTypes.func,\n    onTimeChanged: PropTypes.func,\n    onSeek: PropTypes.func,\n    onSeeked: PropTypes.func,\n    onVolumeChanged: PropTypes.func,\n    onMuted: PropTypes.func,\n    onUnmuted: PropTypes.func,\n    onViewModeChange: PropTypes.func,\n    onEnterFullscreen: PropTypes.func,\n    onExitFullscreen: PropTypes.func,\n    onStallStarted: PropTypes.func,\n    onStallEnded: PropTypes.func,\n  }\n\n  static defaultProps = {\n    config: config.BitmovinConfig,\n    autoPlay: false,\n\n    onSourceLoaded: () => {},\n    onReady: () => {},\n    onPlay: () => {},\n    onPlaying: () => {},\n    onPaused: () => {},\n    onEnded: () => {},\n    onError: () => {},\n    onTimeChanged: () => {},\n    onSeek: () => {},\n    onSeeked: () => {},\n    onVolumeChanged: () => {},\n    onMuted: () => {},\n    onUnmuted: () => {},\n    onViewModeChange: () => {},\n    onEnterFullscreen: () => {},\n    onExitFullscreen: () => {},\n    onStallStarted: () => {},\n    onStallEnded: () => {},\n  }\n\n  player = null\n  preferredStreaming = null\n  playingQuality = null\n  videoRef = createRef()\n\n  removeListener = () => {}\n\n  componentDidMount() {\n    autoUnlockAutoplay()\n    this.setUserPause = preventLeaveFullscreenPause()\n    this.removeListener = this.props.store.addDispatchedListener(\n      async (store, action) => {\n        try {\n          const container = this.props.containerRef.current\n          switch (action.type) {\n            case type.MOUNT:\n              return await this.mount().then(() =>\n                store.dispatch(PlayerAction.mounted())\n              )\n            case type.FETCH_STATE:\n              return store.dispatch(\n                PlayerAction.setState(this.convertToPlayerState(this.player))\n              )\n            case type.LOAD:\n              return loadStream(this.player, store, this.props, this)\n            case ApiType.REFRESH_PLAYBACK_TOKEN:\n              this.player.unload()\n              await loadStream(this.player, store, this.props, this)\n              this.player.pause()\n              return\n            case type.UNLOAD:\n              this.changeQuality = undefined\n              this.props.plugins.forEach(plugin => plugin.reset?.())\n              return (\n                this.player &&\n                this.player\n                  .unload()\n                  .then(() => store.dispatch(PlayerAction.unloaded()))\n              )\n            case type.PLAY:\n              //play might fail if autoplay is still gated, source is still loading\n              //In Safari, some failed play calls does not pops immediately, rejection will happen\n              //while garbage collection of <video>, like changing video\n              //TODO: check if this still necessary after playback flow is refined\n              return this.player\n                .play(ISSUER)\n                .catch(e => console.log('videoElement.play() failed', e))\n            case type.PAUSE:\n              this.setUserPause?.()\n              return this.player.pause(ISSUER)\n            case type.SEEK:\n              //can't seek when video is ended, but doing this will trigger a reload, so no need to check\n              return (\n                handleSeek(this.player, this.props.plugins, action.time) ||\n                this.player.seek(Math.max(0, action.time), ISSUER)\n              )\n            case type.SET_VOLUME:\n              this.player.setVolume(action.volume)\n              if (action.volume > 0 && this.player.isMuted()) {\n                this.player.unmute()\n              }\n              return\n            case type.MUTE:\n              return this.player.mute()\n            case type.UNMUTE:\n              return this.player.unmute()\n            case type.ENTER_FULL_SCREEN:\n              if (container.requestFullscreen)\n                container.requestFullscreen({navigationUI: 'hide'})\n              return this.player.setViewMode(PlayerViewMode.FULLSCREEN, {\n                fullscreenElement: container,\n              })\n            case type.LEAVE_FULL_SCREEN:\n              return this.player.setViewMode(PlayerViewMode.INLINE, {\n                fullscreenElement: container,\n              })\n            case UIType.SELECT_QUALITY:\n              if (!this.player.hasEnded()) {\n                this.changeQuality?.()\n              }\n              return\n          }\n        } catch (error) {\n          // wait for bitmovin error event to fire first\n          await new Promise(resolve => setTimeout(resolve, 50))\n          store.dispatch(PlayerAction.error(error))\n        }\n      }\n    )\n  }\n\n  componentWillUnmount() {\n    this.removeBlurListener?.()\n    this.removeListener()\n    const store = this.props.store\n    store.dispatch(PlayerAction.unmount())\n\n    try {\n      this.player.destroy()\n    } catch (error) {\n      store.dispatch(PlayerAction.error(error))\n    }\n  }\n\n  mount() {\n    return import('bitmovin-player').then(\n      ({default: {Player, PlayerEvent}}) => {\n        const store = this.props.store\n        const config = {\n          key: this.props.licenseKey,\n          ...this.props.config,\n          playback: {\n            autoplay: this.props.autoPlay,\n            ...store.getState().LocalStorage[StorageKey.VOLUME],\n            ...this.props.config.playback,\n          },\n          tweaks: {\n            stop_download_on_pause: true,\n            native_hls_parsing: true,\n          },\n          adaptation: {\n            onVideoAdaptation: data => {\n              const maxQuality = getMaxQuality(store.getState(), {\n                quality: this.props.quality,\n              })\n              if (maxQuality) {\n                const qualities = this.player.getAvailableVideoQualities()\n                // when playing a MediaTailor stream, suggested id doesn't match quality items\n                const currentQuality =\n                  qualities.find(quality => quality.id === data.suggested) ||\n                  qualities[0]\n                const qualityBoundary = [\n                  qualities\n                    .filter(quality => maxQuality.height >= quality.height)\n                    .reduce((res, cur) => {\n                      return !res ||\n                        cur.height > res.height ||\n                        cur.bitrate > res.bitrate\n                        ? cur\n                        : res\n                    }, undefined),\n                  qualities\n                    .filter(quality => maxQuality.height < quality.height)\n                    .reduce((res, cur) => {\n                      return !res ||\n                        cur.height < res.height ||\n                        cur.bitrate < res.bitrate\n                        ? cur\n                        : res\n                    }, undefined),\n                ]\n                if (maxQuality.height < currentQuality.height) {\n                  return (qualityBoundary[0] || qualityBoundary[1]).id\n                }\n              }\n\n              return data\n            },\n          },\n        }\n        const player = new Player(this.videoRef.current, config)\n        if (!isDesktop()) {\n          this.removeBlurListener = blurPause({player})\n        }\n        this.props.setPlayer(player)\n        player.setVideoElement(this.props.videoRef.current)\n        this.preferredStreaming = player.getSupportedTech()[0].streaming\n        const withErrorHandling = catchBy(error =>\n          store.dispatch(PlayerAction.error(error))\n        )\n        player.on(\n          PlayerEvent.SourceLoaded,\n          withErrorHandling(() => {\n            player\n              .getVideoElement()\n              .setAttribute('disablePictureInPicture', true)\n            this.workaround_ST_3009({PlayerEvent, player})\n            this.workaround_ST_4489({PlayerEvent, player})\n            store.dispatch(\n              PlayerAction.setState(this.convertToPlayerState(this.player))\n            )\n            store.dispatch(PlayerAction.loaded())\n            this.props.dispatchSessionEvent('playbackBegan', {\n              ...store.getState().API,\n              ...this.streamInfo,\n            })\n            if (player.isLive()) store.dispatch(PlayerAction.ready())\n            this.props.onSourceLoaded()\n          })\n        )\n        player.on(\n          PlayerEvent.Ready,\n          withErrorHandling(() => {\n            store.dispatch(\n              PlayerAction.setState(this.convertToPlayerState(this.player))\n            )\n            store.dispatch(PlayerAction.ready())\n            this.props.onReady()\n          })\n        )\n        player.on(\n          PlayerEvent.Play,\n          withErrorHandling(() => {\n            this.props.onPlay()\n          })\n        )\n        player.on(\n          PlayerEvent.Playing,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.playing())\n            this.props.onPlaying()\n          })\n        )\n        player.on(\n          PlayerEvent.Paused,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.paused())\n            this.props.onPaused()\n          })\n        )\n        player.on(\n          PlayerEvent.PlaybackFinished,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.ended())\n            this.props.onEnded()\n          })\n        )\n        player.on(\n          PlayerEvent.TimeChanged,\n          withErrorHandling(() => {\n            this.workaround_OTP_1783({PlayerEvent, player})\n            const {currentTime, adRemainingTime} = getPlaybackStatus(\n              player,\n              this.props.plugins\n            )\n            store.dispatch(\n              PlayerAction.updateCurrentTime({currentTime, adRemainingTime})\n            )\n            this.props.onTimeChanged(currentTime)\n          })\n        )\n        let lastSeekEventIssuer\n        player.on(\n          PlayerEvent.Seek,\n          withErrorHandling(({seekTarget, position, issuer}) => {\n            this.props.dispatchSessionEvent('userSeeking')\n            lastSeekEventIssuer = issuer\n            if (issuer === ISSUER || issuer === 'internal') {\n              this.props.onSeek(seekTarget, position)\n            }\n          })\n        )\n        player.on(\n          PlayerEvent.Seeked,\n          withErrorHandling(() => {\n            if (\n              lastSeekEventIssuer === ISSUER ||\n              lastSeekEventIssuer === 'internal'\n            ) {\n              const {currentTime} = getPlaybackStatus(\n                player,\n                this.props.plugins\n              )\n              store.dispatch(PlayerAction.seeked(currentTime))\n              this.props.onSeeked(currentTime)\n            }\n          })\n        )\n        player.on(\n          PlayerEvent.VolumeChanged,\n          withErrorHandling(({targetVolume, sourceVolume}) => {\n            store.dispatch(PlayerAction.updateVolume(targetVolume))\n            this.props.onVolumeChanged(targetVolume, sourceVolume)\n          })\n        )\n        player.on(\n          PlayerEvent.Muted,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.muted())\n            this.props.onMuted()\n          })\n        )\n        player.on(\n          PlayerEvent.Unmuted,\n          withErrorHandling(() => {\n            store.dispatch(PlayerAction.unmuted())\n            this.props.onUnmuted()\n          })\n        )\n        player.on(PlayerEvent.ViewModeChanged, viewModeEvent => {\n          store.dispatch(PlayerAction.updateViewMode(viewModeEvent.to))\n          this.props.onViewModeChange(viewModeEvent)\n          if (viewModeEvent.to === 'fullscreen') {\n            this.props.onEnterFullscreen()\n            player.getContainer().setAttribute('data-fullscreen', false)\n          } else if (viewModeEvent.from === 'fullscreen') {\n            this.props.onExitFullscreen()\n          }\n        })\n        player.on(PlayerEvent.SegmentRequestFinished, () => {\n          const getBufferLength = () =>\n            Math.min(\n              player.getVideoBufferLength() || 0,\n              player.getAudioBufferLength() || 0\n            )\n          store.dispatch(PlayerAction.updateBufferTime(getBufferLength()))\n        })\n        player.on(PlayerEvent.StallStarted, () => {\n          this.props.onStallStarted()\n          store.dispatch(PlayerAction.stalling())\n          handleSafariStalledTooLong(player, store, PlayerAction)\n        })\n        player.on(PlayerEvent.StallEnded, () => {\n          this.props.onStallEnded()\n          store.dispatch(PlayerAction.stalled())\n        })\n        player.on(PlayerEvent.CueEnter, event => {\n          const {text, start, end} = event\n          store.dispatch(UIAction.updateSubtitlesContent({text, start, end}))\n        })\n        player.on(PlayerEvent.CueExit, () =>\n          store.dispatch(UIAction.updateSubtitlesContent({}))\n        )\n        player.on(PlayerEvent.Error, error =>\n          store.dispatch(PlayerAction.error(error))\n        )\n        this.props.dispatchSessionEvent('playerStarted')\n        return (this.player = player)\n      }\n    )\n  }\n\n  convertToPlayerState(player) {\n    const {currentTime, duration} = getPlaybackStatus(\n      player,\n      this.props.plugins\n    )\n    return {\n      viewMode: player.getViewMode(),\n      streamType: player.getStreamType(),\n      progress: {\n        progressTime: currentTime,\n        duration: isFinite(duration) && duration > 0 ? duration : 0,\n        bufferTime: Math.min(\n          player.getVideoBufferLength() || 0,\n          player.getAudioBufferLength() || 0\n        ),\n      },\n      volume: {\n        volume: player.getVolume(),\n        muted: player.isMuted(),\n      },\n      source: player.getSource(),\n    }\n  }\n\n  // https://kkvideo.atlassian.net/browse/ST-3009\n  workaround_ST_3009({PlayerEvent, player}) {\n    if (player.getStreamType() === 'dash') {\n      let timerId\n      let lastTime\n      const startDetect = () => {\n        if (player.isPlaying()) {\n          stopDetect()\n          timerId = setInterval(() => {\n            const currentTime = player.getCurrentTime() * 1000\n            if (player.isPlaying()) {\n              if (currentTime - lastTime === 0) {\n                player.pause()\n                player.play()\n              }\n            }\n            lastTime = currentTime\n          }, 4000)\n        }\n      }\n      const stopDetect = () => {\n        clearInterval(timerId)\n        lastTime = 0\n      }\n      player.on(PlayerEvent.Playing, startDetect)\n      player.on(PlayerEvent.Seeked, startDetect)\n      player.on(PlayerEvent.StallEnded, startDetect)\n      player.on(PlayerEvent.Paused, stopDetect)\n      player.on(PlayerEvent.Seek, stopDetect)\n      player.on(PlayerEvent.StallStarted, stopDetect)\n      player.on(PlayerEvent.Error, stopDetect)\n      player.on(PlayerEvent.PlaybackFinished, stopDetect)\n      player.on(PlayerEvent.Destroy, stopDetect)\n    }\n\n    this.workaround_ST_3009 = () => {}\n  }\n\n  // https://kkvideo.atlassian.net/browse/ST-4489\n  workaround_ST_4489({PlayerEvent, player}) {\n    player.on(PlayerEvent.StallEnded, () => {\n      const video = player.getVideoElement()\n      video.currentTime = player.getCurrentTime()\n    })\n  }\n\n  workaround_OTP_1783({PlayerEvent, player}) {\n    if (player.isLive() && player.getStreamType() === 'dash') {\n      player.on(PlayerEvent.Paused, () => {\n        const videoElem = this.player.getVideoElement()\n        if (!videoElem._play) {\n          let fromExternalPlay = false\n          videoElem._play = videoElem.play\n          videoElem.play = function () {\n            if (fromExternalPlay) {\n              fromExternalPlay = false\n              return videoElem._play()\n            } else {\n              return Promise.reject()\n            }\n          }\n          player._play = player.play\n          player.play = function () {\n            fromExternalPlay = true\n            return player._play()\n          }\n        }\n      })\n      player.on(PlayerEvent.Play, () => {\n        const videoElem = this.player.getVideoElement()\n        if (videoElem._play) {\n          videoElem.play = videoElem._play\n          videoElem._play = undefined\n        }\n        if (player._play) {\n          player.play = player._play\n          player._play = undefined\n        }\n      })\n    }\n\n    this.workaround_OTP_1783 = () => {}\n  }\n\n  render() {\n    return (\n      <div className=\"kks-player__video\" css={layer} ref={this.videoRef}>\n        <video ref={this.props.videoRef} />\n      </div>\n    )\n  }\n}\n\nexport default BitmovinPlayer\n","import {useContext} from 'react'\nimport BitmovinPlayer from './BitmovinPlayer'\nimport {\n  useDispatchSessionEvent,\n  useSetPlayer,\n  useVideoRef,\n} from './playerContext'\nimport {Context} from './store/index'\n\nconst PlayerVideo = props => {\n  const store = useContext(Context.Adapter)\n  const videoRef = useVideoRef()\n  const setPlayer = useSetPlayer()\n  const dispatchSessionEvent = useDispatchSessionEvent()\n\n  return (\n    <BitmovinPlayer\n      store={store}\n      setPlayer={setPlayer}\n      videoRef={videoRef}\n      dispatchSessionEvent={dispatchSessionEvent}\n      {...props}\n    />\n  )\n}\n\nexport default PlayerVideo\n","import {useContext} from 'react'\nimport {Context} from 'player/store/index'\n\nconst useStore = selector => {\n  const store = useContext(Context.Adapter)\n\n  return store.useStore(selector)\n}\n\nexport default useStore\n","const formattedTime = sourceTime => {\n  const time = sourceTime >= 0 ? sourceTime : 0\n  const seconds = Math.floor(time % 60)\n    .toString()\n    .padStart(2, '0')\n  const minutes = Math.floor((time / 60) % 60)\n    .toString()\n    .padStart(2, '0')\n  const hours = time >= 3600 && Math.floor((time / 60 / 60) % 60).toString()\n\n  return [hours, minutes, seconds].filter(Boolean).join(':')\n}\n\nexport default formattedTime\n","/* eslint-disable indent */\nimport {ModuleState, PlayerState, CastState} from 'Enum'\nimport formattedTime from 'util/formattedTime'\nimport {convertToTimeString} from 'util/index'\n\nconst getPlaybackInfo = ({Module, API, Player, UI}) => {\n  const {\n    contentType,\n    title,\n    subtitle,\n    end,\n    start_time: startTime,\n    end_time: endTime,\n  } = API.content || {}\n  const {seeking, seekbarFocused, isSettingsOpen, activePanel, ad} = UI\n  const status =\n    Module.state === ModuleState.ERROR\n      ? 'error'\n      : Module.castState === CastState.CONNECTED\n      ? 'casting'\n      : end\n      ? 'linearEnded'\n      : Module.state !== ModuleState.READY &&\n        Module.state !== ModuleState.INITIALIZED\n      ? 'loading'\n      : Player.playerState === PlayerState.PLAYING\n      ? 'playing'\n      : Player.playerState === PlayerState.STALLING\n      ? 'buffering'\n      : 'paused'\n  const ready = Module.state === ModuleState.READY\n  const focused =\n    seekbarFocused || seeking || isSettingsOpen || activePanel != null\n  const controlsDisplay = UI.autoplayDialogOpening ? 'hidden' : undefined\n  const programTime = startTime\n    ? `${convertToTimeString(\n        new Date(startTime * 1000),\n        'HH:mm'\n      )} - ${convertToTimeString(new Date(endTime * 1000), 'HH:mm')}`\n    : ''\n  const channelTitle = subtitle && `${programTime} ${subtitle}`\n  const adRemainingTime = formattedTime(\n    Math.ceil(Player.progress.adRemainingTime)\n  )\n  const adStatus =\n    ad.total > 0 && `Ad ${ad.position} of ${ad.total}・${adRemainingTime}`\n  const adUrl = ad.clickThroughUrl\n  const adSkipTimeOffset =\n    API.content?.contentType === 'lives' ? -1 : UI.ad?.skipTimeOffset\n  const seekable = contentType === 'videos' && !(ad.total > 0)\n  const subtitlesContent = UI.subtitlesContent\n\n  return {\n    status,\n    ready,\n    seekable,\n    focused,\n    controlsDisplay,\n    title,\n    channelTitle,\n    activePanel: !isSettingsOpen && activePanel,\n    adStatus,\n    adUrl,\n    adSkipTimeOffset,\n    subtitlesContent,\n  }\n}\n\nexport default getPlaybackInfo\n","import {useContext} from 'react'\n\nimport {Context} from 'player/store/index'\nimport uiAction from 'player/store/action/UI'\n\nconst useUiActions = () => {\n  const {dispatch} = useContext(Context.Module)\n\n  return {\n    toggleRecommendationPanel: () =>\n      dispatch(uiAction.toggleRecommendationPanel()),\n    hidePanel: () => dispatch(uiAction.hidePanel()),\n  }\n}\n\nexport default useUiActions\n","/* @jsxImportSource @emotion/react */\nimport {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {ModuleState} from 'Enum'\nimport {Context} from 'player/store'\n\nconst imageStyle = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  width: '100%',\n  height: '100%',\n  objectFit: 'contain',\n  transform: 'translate(-50%, -50%)',\n}\n\nconst CoverImageWrap = ({url, children}) => {\n  const {\n    state: {state: moduleState},\n  } = useContext(Context.Module)\n\n  return url &&\n    [\n      ModuleState.UNINITIALIZATION,\n      ModuleState.INITIALIZING,\n      ModuleState.INITIALIZED,\n    ].includes(moduleState) ? (\n    <img css={imageStyle} src={url} />\n  ) : (\n    children\n  )\n}\n\nCoverImageWrap.propTypes = {\n  url: PropTypes.string,\n  children: PropTypes.node,\n}\n\nexport default CoverImageWrap\n","/* eslint-disable indent */\nimport {PlayerState, ModuleState} from 'Enum'\n\nconst getPlaybackState = ({Module, Player}) => ({\n  status:\n    Module.state === ModuleState.INITIALIZED\n      ? 'init'\n      : Module.state === ModuleState.LOADING\n      ? 'loading'\n      : Player.playerState === PlayerState.PLAYING\n      ? 'playing'\n      : Player.playerState === PlayerState.ENDED\n      ? 'replay'\n      : 'paused',\n  loading:\n    Module.state !== ModuleState.READY &&\n    Module.state !== ModuleState.INITIALIZED,\n})\n\nexport default getPlaybackState\n","export default {\n  pause:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxyZWN0IHdpZHRoPSIxMiIgaGVpZ2h0PSI0MiIgeD0iNiIgeT0iMyIgcng9IjIiLz48cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iNDIiIHg9IjMwIiB5PSIzIiByeD0iMiIvPjwvZz48L3N2Zz4=',\n  play:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik01IDR2NDBsMzgtMjB6Ii8+PC9nPjwvc3ZnPg==',\n  replay:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJub256ZXJvIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik00MC41IDl2OC45YTI1LjYgMjUuNiAwIDEgMS0yNS42IDI0LjVINnYxLjFBMzQuNSAzNC41IDAgMSAwIDQwLjUgOXoiLz48cGF0aCBkPSJNNDAgMHYyN0wyMCAxMy41eiIvPjwvZz48L3N2Zz4=',\n  back:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz48ZyBmaWxsPSdub25lJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnPjxwYXRoIGQ9J00wIDBoMzZ2MzZIMHonIG9wYWNpdHk9Jy41Jy8+PHBhdGggc3Ryb2tlPScjRkZGJyBzdHJva2Utd2lkdGg9JzQnIGQ9J00yMCAyTDQgMThsMTYgMTZNNSAxOGgzMC4wMDcnLz48L2c+PC9zdmc+Cg==',\n  forward10:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik0xOCA0djRhMTEuNSAxMS41IDAgMSAwIDExLjQ5IDExaDRsLjAxLjVBMTUuNSAxNS41IDAgMSAxIDE4IDR6Ii8+PHBhdGggZD0iTTE4IDB2MTJsOS02em0tNC44NCAyNXYtNy45N2gtLjA0bC0yLjUxIDEuNzRWMTYuOWwyLjU1LTEuNzdoMi4wNVYyNWgtMi4wNXptOC4xMi4yMmMtMi40OCAwLTQtMS45OC00LTUuMTcgMC0zLjE4IDEuNTMtNS4xNCA0LTUuMTQgMi40NyAwIDMuOTggMS45NSAzLjk4IDUuMTMgMCAzLjE5LTEuNSA1LjE4LTMuOTggNS4xOHptMC0xLjY2YzEuMTcgMCAxLjg5LTEuMjYgMS44OS0zLjVzLS43Mi0zLjUtMS45LTMuNWMtMS4xNSAwLTEuODggMS4yNy0xLjg4IDMuNXMuNzEgMy41IDEuODkgMy41eiIvPjwvZz48L3N2Zz4=',\n  rewind10:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0iI0ZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGQ9Ik0xOCA0djRBMTEuNSAxMS41IDAgMSAxIDYuNTEgMTloLTR2LjVBMTUuNSAxNS41IDAgMSAwIDE4IDR6Ii8+PHBhdGggZD0iTTE4IDB2MTJMOSA2em0tNC44NCAyNXYtNy45N2gtLjA0bC0yLjUxIDEuNzRWMTYuOWwyLjU1LTEuNzdoMi4wNVYyNWgtMi4wNXptOC4xMi4yMmMtMi40OCAwLTQtMS45OC00LTUuMTcgMC0zLjE4IDEuNTMtNS4xNCA0LTUuMTQgMi40NyAwIDMuOTggMS45NSAzLjk4IDUuMTMgMCAzLjE5LTEuNSA1LjE4LTMuOTggNS4xOHptMC0xLjY2YzEuMTcgMCAxLjg5LTEuMjYgMS44OS0zLjVzLS43Mi0zLjUtMS45LTMuNWMtMS4xNSAwLTEuODggMS4yNy0xLjg4IDMuNXMuNzEgMy41IDEuODkgMy41eiIvPjwvZz48L3N2Zz4=',\n  volumeHight:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTIxLjgwOCAxYTE2LjI2NSAxNi4yNjUgMCAwIDEgNi43NzcgMy4yMTkgMTYuOTEgMTYuOTEgMCAwIDEgNC42OTIgNS44MDJBMTYuOTYgMTYuOTYgMCAwIDEgMzUgMTcuNTQ3YzAgMi42Ni0uNTc0IDUuMTY4LTEuNzIzIDcuNTI1YTE2LjkxIDE2LjkxIDAgMCAxLTQuNjkyIDUuODAzIDE2LjI2NSAxNi4yNjUgMCAwIDEtNi43NzcgMy4yMTh2LTMuODk4YTEyLjQ1NiAxMi40NTYgMCAwIDAgNC44NS0yLjYzIDEzLjE2OCAxMy4xNjggMCAwIDAgMy4zMzMtNC40NjUgMTMuMTA5IDEzLjEwOSAwIDAgMCAxLjIwMS01LjU1M2MwLTEuOTY1LS40LTMuODE2LTEuMjAxLTUuNTU0YTEzLjE2OCAxMy4xNjggMCAwIDAtMy4zMzItNC40NjUgMTIuNDU2IDEyLjQ1NiAwIDAgMC00Ljg1MS0yLjYzVjF6Jy8+IDxwYXRoIGZpbGw9JyNGRkYnIGQ9J00yNi41MjMgMTcuNTQ3YzAgMS42NjItLjQyMyAzLjE2NS0xLjI3IDQuNTFhOC40NTMgOC40NTMgMCAwIDEtMy40NDUgMy4xMDZWOS45M2MxLjQ1LjcyNSAyLjYgMS43NiAzLjQ0NSAzLjEwNS44NDcgMS4zNDUgMS4yNyAyLjg0OCAxLjI3IDQuNTF6TTEgMTEuODhoNy41MjVMMTggMi40MDV2MzAuMjgzbC05LjQ3NS05LjQ3NUgxeicvPiA8L2c+IDwvc3ZnPg==',\n  volumeLow:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTI2LjUyMyAxNy41NDdjMCAxLjY2Mi0uNDIzIDMuMTY1LTEuMjcgNC41MWE4LjQ1MyA4LjQ1MyAwIDAgMS0zLjQ0NSAzLjEwNlY5LjkzYzEuNDUuNzI1IDIuNiAxLjc2IDMuNDQ1IDMuMTA1Ljg0NyAxLjM0NSAxLjI3IDIuODQ4IDEuMjcgNC41MXpNMSAxMS44OGg3LjUyNUwxOCAyLjQwNXYzMC4yODNsLTkuNDc1LTkuNDc1SDF6Jy8+IDwvZz4gPC9zdmc+',\n  mute:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTEgMTEuODhoNy41MjVMMTggMi40MDV2MzAuMjgzbC05LjQ3NS05LjQ3NUgxeicvPiA8ZyBmaWxsLXJ1bGU9J25vbnplcm8nPiA8cGF0aCBkPSdNMjAgMTFoMTR2MTRIMjB6Jy8+IDxwYXRoIGZpbGw9JyNGRkYnIGQ9J00zMS45NCAxMC45NGwyLjEyIDIuMTItMTIgMTItMi4xMi0yLjEyeicvPiA8cGF0aCBmaWxsPScjRkZGJyBkPSdNMTkuOTQgMTMuMDZsMi4xMi0yLjEyIDEyIDEyLTIuMTIgMi4xMnonLz4gPC9nPiA8L2c+IDwvc3ZnPg==',\n  setting:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjgnLz4gPHBhdGggZmlsbD0nI0ZGRicgZmlsbC1ydWxlPSdub256ZXJvJyBkPSdNMjMuMzA4IDMxLjQ3M2wtLjI2MyAyLjI3QTEuNDM0IDEuNDM0IDAgMCAxIDIxLjYxMSAzNWgtNy4yMjJjLS43MzQgMC0xLjM1MS0uNTQtMS40MzQtMS4yNTdsLS4yNjMtMi4yN2ExNS4xMzQgMTUuMTM0IDAgMCAxLTQuMDA3LTIuMTlsLTIuMDU0Ljg3N2ExLjQ1NyAxLjQ1NyAwIDAgMS0xLjgyNi0uNTlsLTMuNjExLTYuMTRhMS40IDEuNCAwIDAgMSAuMzkxLTEuODQ3bDEuNjM3LTEuMTg3YTEzLjk0MiAxMy45NDIgMCAwIDEgMC00Ljc5MmwtMS42MzctMS4xODdhMS40IDEuNCAwIDAgMS0uMzkxLTEuODQ4bDMuNjEtNi4xMzhhMS40NTcgMS40NTcgMCAwIDEgMS44MjctLjU5bDIuMDU0Ljg3NmExNS4xMzQgMTUuMTM0IDAgMCAxIDQuMDA3LTIuMTlsLjI2My0yLjI3Yy4wODMtLjcxNi43LTEuMjU3IDEuNDM0LTEuMjU3aDcuMjIyYy43MzQgMCAxLjM1MS41NCAxLjQzNCAxLjI1N2wuMjYzIDIuMjdhMTUuMTM0IDE1LjEzNCAwIDAgMSA0LjAwNyAyLjE5bDIuMDU0LS44NzdhMS40NTcgMS40NTcgMCAwIDEgMS44MjYuNTlsMy42MTEgNi4xNGExLjQgMS40IDAgMCAxLS4zOTEgMS44NDdsLTEuNjM3IDEuMTg3YTEzLjk0MyAxMy45NDMgMCAwIDEgMCA0Ljc5MmwxLjYzNyAxLjE4N2ExLjQgMS40IDAgMCAxIC4zOTEgMS44NDhsLTMuNjEgNi4xMzhhMS40NTcgMS40NTcgMCAwIDEtMS44MjcuNTlsLTIuMDU0LS44NzZhMTUuMTM0IDE1LjEzNCAwIDAgMS00LjAwNyAyLjE5ek0xOCAyNmE4IDggMCAxIDAgMC0xNiA4IDggMCAwIDAgMCAxNnonLz4gPC9nPiA8L3N2Zz4=',\n  check:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScyMCcgaGVpZ2h0PScyMCcgdmlld0JveD0nMCAwIDIwIDIwJz48cGF0aCBmaWxsPScjRkZGJyBmaWxsLXJ1bGU9J25vbnplcm8nIGQ9J00yLjkwMiA5LjI2MWExLjA4NyAxLjA4NyAwIDAgMC0xLjU3NiAwIDEuMTgzIDEuMTgzIDAgMCAwIDAgMS42MzJsNS41NzEgNS43NjljLjQzNS40NSAxLjE0LjQ1IDEuNTc2IDBsMTEuMi0xMS42OTJhMS4xODMgMS4xODMgMCAwIDAgMC0xLjYzMiAxLjA4NyAxLjA4NyAwIDAgMC0xLjU3NSAwTDcuNjg1IDE0LjIxNCAyLjkwMiA5LjI2MXonLz48L3N2Zz4K',\n  enterFullScreen:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTMwIDMwdi05aDR2MTNIMjF2LTRoOXptNC0yNHY5aC00VjZoLTlWMmgxM3Y0ek02IDMwaDl2NEgyVjIxaDR2OXpNNiAyaDl2NEg2djlIMlYyaDR6Jy8+IDwvZz4gPC9zdmc+',\n  leaveFullScreen:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNicgdmlld0JveD0nMCAwIDM2IDM2Jz4gPGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz4gPHBhdGggZD0nTTAgMGgzNnYzNkgweicgb3BhY2l0eT0nLjUnLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTExIDJoNHYxM2gtNHonLz4gPHBhdGggZmlsbD0nI0ZGRicgZD0nTTIgMTFoMTN2NEgyek0xMSAzNGg0VjIxaC00eicvPiA8cGF0aCBmaWxsPScjRkZGJyBkPSdNMiAyNWgxM3YtNEgyek0zNCAxMXY0SDIxdi00eicvPiA8cGF0aCBmaWxsPScjRkZGJyBkPSdNMjUgMnYxM2gtNFYyek0zNCAyNXYtNEgyMXY0eicvPiA8cGF0aCBmaWxsPScjRkZGJyBkPSdNMjUgMzRWMjFoLTR2MTN6Jy8+IDwvZz4gPC9zdmc+',\n  previousEpisode:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0zMiAzMlY0TDExIDE4em0tMjEgMFY0SDR2Mjh6Ii8+PC9nPjwvc3ZnPg==',\n  nextEpisode:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNiIgaGVpZ2h0PSIzNiI+PGRlZnM+PGZpbHRlciBpZD0iYSIgaGVpZ2h0PSIxNTAlIj48ZmVHYXVzc2lhbkJsdXIgaW49IlNvdXJjZUFscGhhIiBzdGREZXZpYXRpb249IjMiLz48ZmVPZmZzZXQgZHg9IjIiIGR5PSIyIiByZXN1bHQ9Im9mZnNldGJsdXIiLz48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jQSB0eXBlPSJsaW5lYXIiIHNsb3BlPSIuNyIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVNZXJnZT48ZmVNZXJnZU5vZGUvPjxmZU1lcmdlTm9kZSBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmVNZXJnZT48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWx0ZXI9InVybCgjYSkiPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik00IDMyVjRsMjEgMTR6bTIxIDBWNGg3djI4eiIvPjwvZz48L3N2Zz4=',\n  pauseCircle:\n    'data:image/png;base64,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',\n  playCircle:\n    'data:image/png;base64,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',\n  playCircleBorder:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyOSIgc3Ryb2tlPSIjRkZGIiBzdHJva2Utd2lkdGg9IjIiLz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjIgMTcuMTJ2MjYuM2ExIDEgMCAwMDEuNTQuODRsMjAuNy0xMy4xNWExIDEgMCAwMDAtMS42OWwtMjAuNy0xMy4xNWExIDEgMCAwMC0xLjU0Ljg1eiIvPjwvZz48L3N2Zz4=',\n  arrowTop:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMCAwdjE2aDE2VjB6IiBvcGFjaXR5PSIuNSIvPjxwYXRoIGZpbGw9IiNDQ0MiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTIuNTcgMTAuMjdhLjgzLjgzIDAgMDEtMS4xNC0xLjJsNi01LjY4Yy4zMi0uMy44Mi0uMyAxLjE0IDBsNiA1LjY3YS44My44MyAwIDExLTEuMTQgMS4yMUw4IDUuMTVsLTUuNDMgNS4xMnoiLz48L2c+PC9zdmc+',\n  close:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTI5LjY1IDQuMDVhMS4yIDEuMiAwIDEwLTEuNy0xLjdsLTI1LjYgMjUuNmExLjIgMS4yIDAgMDAxLjcgMS43bDI1LjYtMjUuNnoiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMi4zNSA0LjA1YTEuMiAxLjIgMCAxMTEuNy0xLjdsMjUuNiAyNS42YTEuMiAxLjIgMCAwMS0xLjcgMS43TDIuMzUgNC4wNXoiLz48L3N2Zz4=',\n  castNotConnected:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6bTAtNHYyYTUgNSAwIDAxNSA1aDJhNyA3IDAgMDAtNy03em0wLTR2MmE5IDkgMCAwMTkgOWgyQTExIDExIDAgMDAxIDEwem0yMC03SDNhMiAyIDAgMDAtMiAydjNoMlY1aDE4djE0aC03djJoN2EyIDIgMCAwMDItMlY1YTIgMiAwIDAwLTItMnoiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMCAwaDI0djI0SDB6Ii8+PC9nPjwvc3ZnPg==',\n  castConnected:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6bTAtNHYyYTUgNSAwIDAxNSA1aDJhNyA3IDAgMDAtNy03em0xOC03SDV2MS42M0ExMy4wMyAxMy4wMyAwIDAxMTMuMzcgMTdIMTlWN3pNMSAxMHYyYTkgOSAwIDAxOSA5aDJBMTEgMTEgMCAwMDEgMTB6bTIwLTdIM2EyIDIgMCAwMC0yIDJ2M2gyVjVoMTh2MTRoLTd2Mmg3YTIgMiAwIDAwMi0yVjVhMiAyIDAgMDAtMi0yeiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiLz48L2c+PC9zdmc+',\n  castConntecting0:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEgMTR2MmE1IDUgMCAwMTUgNWgyYTcgNyAwIDAwLTctN3oiIG9wYWNpdHk9Ii4zIiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEgMTB2MmE5IDkgMCAwMTkgOWgyQTExIDExIDAgMDAxIDEweiIgb3BhY2l0eT0iLjMiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjEgM0gzYTIgMiAwIDAwLTIgMnYzaDJWNWgxOHYxNGgtN3YyaDdhMiAyIDAgMDAyLTJWNWEyIDIgMCAwMC0yLTJ6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPjwvZz48L3N2Zz4=',\n  castConntecting1:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6IiBvcGFjaXR5PSIuMyIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0xIDE0djJhNSA1IDAgMDE1IDVoMmE3IDcgMCAwMC03LTd6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEgMTB2MmE5IDkgMCAwMTkgOWgyQTExIDExIDAgMDAxIDEweiIgb3BhY2l0eT0iLjMiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMjEgM0gzYTIgMiAwIDAwLTIgMnYzaDJWNWgxOHYxNGgtN3YyaDdhMiAyIDAgMDAyLTJWNWEyIDIgMCAwMC0yLTJ6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIvPjwvZz48L3N2Zz4=',\n  castConntecting2:\n    'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAyNCAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0xIDE4djNoM2EzIDMgMCAwMC0zLTN6TTEgMTR2MmE1IDUgMCAwMTUgNWgyYTcgNyAwIDAwLTctN3oiIG9wYWNpdHk9Ii4zIiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEgMTB2MmE5IDkgMCAwMTkgOWgyQTExIDExIDAgMDAxIDEweiIgZmlsbD0iIzAwMCIvPjxwYXRoIGQ9Ik0yMSAzSDNhMiAyIDAgMDAtMiAydjNoMlY1aDE4djE0aC03djJoN2EyIDIgMCAwMDItMlY1YTIgMiAwIDAwLTItMnoiIGZpbGw9IiMwMDAiLz48cGF0aCBkPSJNMCAwaDI0djI0SDB6Ii8+PC9nPjwvc3ZnPg==',\n  warning:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4MCcgaGVpZ2h0PSc4MCcgdmlld0JveD0nMCAwIDgwIDgwJz48cGF0aCBmaWxsPScjRkZGJyBmaWxsLXJ1bGU9J25vbnplcm8nIGQ9J003OS40MDkgNzAuMDQ0TDQ0LjUxNCA0LjY2MUE1LjAyMyA1LjAyMyAwIDAgMCA0MC4wODMgMmgtLjAwNWE1LjAyNCA1LjAyNCAwIDAgMC00LjQzMSAyLjY1NkwuNTk3IDcwLjAzOUE1LjAzNyA1LjAzNyAwIDAgMCAuNzExIDc1YTUuMDQyIDUuMDQyIDAgMCAwIDQuMzE1IDIuNDQ0aDY5Ljk0YzEuNzcxIDAgMy40MDYtLjkyNiA0LjMxNi0yLjQ0NWE1LjAyOSA1LjAyOSAwIDAgMCAuMTI2LTQuOTU0em0tMzkuMzMxLTIuNjZhNS4wMzEgNS4wMzEgMCAwIDEtNS4wMy01LjAzIDUuMDMxIDUuMDMxIDAgMCAxIDUuMDMtNS4wMyA1LjAzNSA1LjAzNSAwIDAgMSA1LjAzIDUuMDMgNS4wMzEgNS4wMzEgMCAwIDEtNS4wMyA1LjAzem01LjAzNC0yMC4wMzhhNS4wMzEgNS4wMzEgMCAwIDEtNS4wMjkgNS4wMyA1LjAyOCA1LjAyOCAwIDAgMS01LjAzLTUuMDNWMjcuMjI4YTUuMDMxIDUuMDMxIDAgMCAxIDUuMDMtNS4wMyA1LjAzNSA1LjAzNSAwIDAgMSA1LjAzIDUuMDN2MjAuMTE4eicvPjwvc3ZnPgo=',\n  cancel:\n    'data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSczNicgaGVpZ2h0PSczNic+PGcgZmlsbD0nbm9uZScgZmlsbC1ydWxlPSdldmVub2RkJz48cGF0aCBkPSdNMCAwaDM2djM2SDB6JyBvcGFjaXR5PScuNScvPjxwYXRoIGQ9J00zMS41MzMgNC45MDNMNC40NjcgMzAuNjQ1bTI3LjA2Ni40NTJMNC45MzMgNC45MDMnIGZpbGwtcnVsZT0nbm9uemVybycgc3Ryb2tlPScjRkZGJyBzdHJva2Utd2lkdGg9JzQnLz48L2c+PC9zdmc+',\n}\n","/* @jsxImportSource @emotion/react */\nimport {useState, useEffect, useRef, cloneElement} from 'react'\nimport {createPortal} from 'react-dom'\nimport PropTypes from 'prop-types'\n\nimport {getPopoverPosition} from 'util/index'\nimport {isDesktop} from 'util/environment'\n\nconst style = {\n  zIndex: 7,\n  position: 'fixed',\n  padding: '8px 12px',\n  borderRadius: 4,\n  textAlign: 'center',\n  color: 'white',\n  backgroundColor: 'rgba(51, 51, 51, 0.625)',\n}\n\nconst isOverflowing = element => element.scrollWidth > element.clientWidth\n\nconst Tooltip = ({\n  title,\n  bottom = '0px',\n  overflowOnly,\n  children,\n  container = document.body,\n}) => {\n  const tooltipRef = useRef()\n  const boxes = useRef()\n  const [open, setOpen] = useState(false)\n  const [position, setPosition] = useState(() => ({left: '100%'}))\n\n  const childProps = {\n    onMouseEnter: event => {\n      if (!overflowOnly || isOverflowing(event.currentTarget)) {\n        boxes.current = [\n          event.currentTarget.getBoundingClientRect(),\n          document.body.getBoundingClientRect(),\n        ]\n        setOpen(true)\n      }\n    },\n    onMouseLeave: () => {\n      setPosition({left: '100%'})\n      setOpen(false)\n    },\n  }\n\n  useEffect(() => {\n    if (open) {\n      const targetPosition = getPopoverPosition(\n        tooltipRef.current.getBoundingClientRect(),\n        ...boxes.current\n      )\n      targetPosition.left !== position.left && setPosition(targetPosition)\n    }\n  }, [open, position.left])\n\n  return !isDesktop() && window.matchMedia('(any-hover: none)').matches ? (\n    children\n  ) : (\n    <>\n      {cloneElement(children, childProps)}\n      {open &&\n        createPortal(\n          <div\n            style={{\n              ...style,\n              ...position,\n              top: `calc(${position.top}px - ${bottom})`,\n            }}\n            ref={tooltipRef}\n          >\n            {title}\n          </div>,\n          container\n        )}\n    </>\n  )\n}\n\nTooltip.propTypes = {\n  title: PropTypes.node,\n  bottom: PropTypes.string,\n  overflowOnly: PropTypes.bool,\n  children: PropTypes.node,\n  container: PropTypes.object,\n}\n\nexport default Tooltip\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport Tooltip from 'component/Tooltip'\nimport {Context} from 'player/store'\nimport {useUiContainer} from 'player/playerContext'\n\nconst ControlsTooltip = ({children, ...props}) => {\n  const {state = {}} = useContext(Context.UI) || {}\n  const uiContainer = useUiContainer()\n\n  // follows YouTube UX, tooltips are not shown while settings open\n  return state.isSettingsOpen ? (\n    children\n  ) : (\n    <Tooltip {...props} container={uiContainer}>\n      {children}\n    </Tooltip>\n  )\n}\n\nControlsTooltip.propTypes = {\n  children: PropTypes.node,\n}\n\nexport default ControlsTooltip\n","/* eslint-disable indent */\nimport operator from '../operator'\nimport actions from './Player'\n\nconst playAction = status =>\n  status === 'init'\n    ? operator.loadContent\n    : status === 'playing'\n    ? actions.pause()\n    : status === 'replay'\n    ? operator.seek(0)\n    : actions.play()\n\nexport default playAction\n","/* @jsxImportSource @emotion/react */\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport {center} from 'style'\n\nconst _style = {\n  border: 'none',\n  outline: 'none',\n  cursor: 'pointer',\n  padding: 0,\n  flexShrink: 0,\n  backgroundColor: 'transparent',\n  userSelect: 'none',\n}\n\nconst SquareButton = ({name, style, children, ...others}) => (\n  <button\n    className={classnames('kks-player__square-button', name)}\n    css={[_style, center, style]}\n    {...others}\n  >\n    {children}\n  </button>\n)\n\nSquareButton.propTypes = {\n  name: PropTypes.string,\n  style: PropTypes.object,\n  children: PropTypes.node,\n}\n\nexport default SquareButton\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nconst Icon = ({style, src}) => (\n  <span\n    className=\"kks-player__icon\"\n    css={{\n      width: 'inherit',\n      height: 'inherit',\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n      backgroundImage: `url(${src})`,\n      pointerEvents: 'none',\n      touchAction: 'none',\n      ...style,\n    }}\n  />\n)\n\nIcon.propTypes = {\n  style: PropTypes.object,\n  src: PropTypes.string,\n}\nIcon.defaultProps = {\n  style: {},\n}\n\nexport default Icon\n","import PropTypes from 'prop-types'\n\nimport Button from 'component/Button/SquareButton'\nimport Icon from 'component/Icon'\n\nconst IconButton = ({\n  name = '',\n  src,\n  style = {},\n  onClick = () => {},\n  ...others\n}) => (\n  <Button style={style} name={name} onClick={onClick} {...others}>\n    <Icon src={src} style={style.icon} />\n  </Button>\n)\n\nIconButton.propTypes = {\n  src: PropTypes.string.isRequired,\n  name: PropTypes.string,\n  tooltip: PropTypes.string,\n  onClick: PropTypes.func,\n  style: PropTypes.shape({\n    icon: PropTypes.object,\n  }),\n}\n\nexport default IconButton\n","/* eslint-disable indent */\nimport {useContext} from 'react'\nimport {cx} from '@emotion/css'\nimport shallow from 'zustand/shallow'\n\nimport icon from 'style/icon'\nimport useStore from 'player/store/useStore'\nimport getPlaybackState from 'player/store/getPlaybackState'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport playAction from 'player/store/action/playAction'\nimport {isDesktop} from 'util/environment'\nimport IconButton from './IconButton'\nimport {useDebounce} from 'Hooks'\n\nconst PlayButton = () => {\n  const playbackState = useStore(getPlaybackState, shallow)\n  const disabled = !isDesktop() && playbackState.loading\n  const status = useDebounce({delay: 200, value: playbackState.status})\n  const {dispatch} = useContext(Context.PlayerState)\n\n  const buttonProps = (() => {\n    switch (status) {\n      case 'playing':\n        return {src: icon.pause, tooltip: 'KKS.PLAYER.PAUSE'}\n      case 'replay':\n        return {src: icon.replay, tooltip: 'KKS.PLAYER.REPLAY'}\n      default:\n        return {src: icon.play, tooltip: 'KKS.PLAYER.PLAY'}\n    }\n  })()\n\n  return (\n    <Tooltip title={<Message code={buttonProps.tooltip} />} bottom=\"48px\">\n      <IconButton\n        name={cx(\n          'play-button',\n          'kks-player__play-button',\n          `kks-player__play-button--${status}`\n        )}\n        disabled={disabled}\n        {...buttonProps}\n        onClick={() => dispatch(playAction(status))}\n      />\n    </Tooltip>\n  )\n}\n\nexport default PlayButton\n","/* eslint-disable no-param-reassign */\n/* eslint-disable indent */\n/* @jsxImportSource @emotion/react */\nimport {useState, useRef} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {havePointerQuery} from 'util/environment'\n\nconst style = {\n  position: 'relative',\n  height: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  cursor: 'pointer',\n  userSelect: 'none',\n  touchAction: 'none',\n}\n\nconst railStyle = {\n  position: 'relative',\n  flex: '100%',\n  height: '4px',\n  overflow: 'hidden',\n  background: 'rgba(255, 255, 255, 0.3)',\n  '> div': {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    width: '100%',\n    height: '100%',\n  },\n}\n\nconst markStyle = {\n  position: 'absolute',\n  height: railStyle.height,\n  width: '4px',\n  transform: 'translateX(-50%)',\n  backgroundColor: '#ff9835',\n}\n\nconst thumbStyle = {\n  position: 'absolute',\n  top: '50%',\n  height: '14px',\n  width: '14px',\n  borderRadius: '100%',\n  backgroundColor: '#fff',\n  boxShadow: '0 2px 2px 0 rgba(0, 0, 0, 0.5)',\n  transform: 'translate(-50%, -50%)',\n}\n\nconst getPointerData = event => {\n  const {pageX: x, pageY: y} =\n    event.touches?.[0] || event.changedTouches?.[0] || event\n  const {width, left} = event.currentTarget.getBoundingClientRect()\n  return {x, y, width, left}\n}\n\nconst getSliderValue = ({x, left, width}) =>\n  Math.max(0, Math.min((x - left) / width, 1))\n\nconst debouncedPointerHandlers = ({state, onMove, onLeave}) => {\n  const emit = () => {\n    if (!state.scheduled) {\n      return\n    }\n    if (state.type === 'leave') {\n      onLeave?.(state.event, state)\n    } else {\n      onMove(state.event, state)\n    }\n    state.scheduled = false\n  }\n  const schedule = () => {\n    if (state.scheduled) {\n      return\n    }\n    state.scheduled = true\n    requestAnimationFrame(emit)\n  }\n\n  return {\n    onPointerMove: event => {\n      const type =\n        event.buttons > 0 || event.touches?.length > 0 ? 'change' : 'move'\n      Object.assign(state, {event, type, ...getPointerData(event)})\n      schedule()\n    },\n    onPointerLeave: event => {\n      const type = 'leave'\n      Object.assign(state, {event, type})\n      schedule()\n    },\n    emit,\n  }\n}\n\nconst eventHandlers = ({\n  onPointerDown,\n  onPointerMove,\n  onPointerLeave,\n  onPointerUp,\n}) =>\n  window.matchMedia(havePointerQuery).matches\n    ? {onPointerDown, onPointerMove, onPointerLeave, onPointerUp}\n    : {\n        onTouchStart: onPointerDown,\n        onTouchMove: onPointerMove,\n        onTouchEnd: event => {\n          onPointerLeave(event)\n          onPointerUp(event)\n        },\n      }\n\nconst SimpleSlider = ({\n  min = 0,\n  max = 100,\n  value,\n  marks = [],\n  className = '',\n  classes = {},\n  onPointerMove,\n  onPointerLeave,\n  onChange,\n  onChangeCommitted,\n}) => {\n  const pointerState = useRef({})\n  const [focusValue, setFocusValue] = useState(-1)\n  const currentPosition =\n    ((focusValue >= 0 ? focusValue : value) - min) / (max - min)\n  const pointerHandlers = debouncedPointerHandlers({\n    state: pointerState.current,\n    onMove: (event, {type, x, y, width, left}) => {\n      const pointerValue = min + max * getSliderValue({x, width, left})\n      onPointerMove?.(event, {value: pointerValue, x, y})\n      if (type === 'change') {\n        setFocusValue(pointerValue)\n        onChange?.(event, {value: pointerValue, x, y})\n      }\n    },\n    onLeave: () => onPointerLeave?.(),\n  })\n  const handlePointerUp = event => {\n    if (event.pointerId) {\n      event.currentTarget.releasePointerCapture(event.pointerId)\n    }\n    setFocusValue()\n    const pointerValue = min + max * getSliderValue(getPointerData(event))\n    pointerHandlers.emit()\n    onChangeCommitted?.(event, {value: pointerValue})\n  }\n\n  return (\n    <div\n      className={`kks-player__slider ${className}`}\n      css={style}\n      onClick={event => event.stopPropagation()}\n      {...eventHandlers({\n        onPointerDown: event => {\n          if (event.type === 'pointerdown') {\n            event.currentTarget.setPointerCapture(event.pointerId)\n          }\n          pointerHandlers.onPointerMove(event)\n        },\n        ...pointerHandlers,\n        onPointerUp: handlePointerUp,\n      })}\n    >\n      <div\n        className={`kks-player__slider-rail ${classes.rail || ''}`}\n        css={railStyle}\n      >\n        <div\n          css={{backgroundColor: '#fff'}}\n          className={`kks-player__slider-track ${classes.track || ''}`}\n          style={{transform: `translateX(${currentPosition * 100 - 100}%)`}}\n        />\n      </div>\n      {marks.map(position => (\n        <div\n          key={position}\n          css={markStyle}\n          className={classes.marked}\n          style={{left: `${(position / max) * 100}%`}}\n        />\n      ))}\n      <div\n        css={thumbStyle}\n        className={`kks-player__slider-thumb ${classes.thumb}`}\n        style={{left: `calc(${currentPosition * 100}%)`}}\n      />\n    </div>\n  )\n}\n\nSimpleSlider.propTypes = {\n  min: PropTypes.number,\n  max: PropTypes.number,\n  value: PropTypes.number,\n  marks: PropTypes.array,\n  className: PropTypes.string,\n  classes: PropTypes.object,\n  onPointerMove: PropTypes.func,\n  onPointerLeave: PropTypes.func,\n  onChange: PropTypes.func,\n  onChangeCommitted: PropTypes.func,\n}\n\nexport default SimpleSlider\n","/* @jsxImportSource @emotion/react */\nimport {memo} from 'react'\nimport PropTypes from 'prop-types'\n\nimport formattedTime from 'util/formattedTime'\n\nconst containerStyle = {\n  position: 'absolute',\n  textAlign: 'center',\n}\n\nconst imageStyle = {\n  border: '1px solid white',\n  boxShadow: '0 0 5px 2px rgba(0, 0, 0, 0.3)',\n  backgroundColor: '#000',\n}\n\nconst VideoThumbnail = ({\n  className,\n  style,\n  time,\n  image,\n  x,\n  y,\n  width,\n  height,\n}) => (\n  <div css={containerStyle} className={className} style={style}>\n    <div\n      css={imageStyle}\n      style={{\n        width: `${width}px`,\n        height: `${height}px`,\n        backgroundImage: `url(${image})`,\n        backgroundPosition: `-${x}px -${y}px`,\n      }}\n    />\n    {formattedTime(time)}\n  </div>\n)\n\nVideoThumbnail.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  time: PropTypes.number,\n  image: PropTypes.string,\n  x: PropTypes.number,\n  y: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n}\n\nexport default memo(VideoThumbnail)\n","import {useContext} from 'react'\n\nimport {Context} from 'player/store'\n\nconst useThumbnail = time => {\n  const {state} = useContext(Context.API)\n  const thumbnailSeekings = state.thumbnailSeekings || []\n\n  return (\n    thumbnailSeekings.find(t => t.startTime <= time && time <= t.endTime) ||\n    thumbnailSeekings.slice(-1)[0] ||\n    ''\n  )\n}\n\nexport default useThumbnail\n","/* eslint-disable indent */\n/* @jsxImportSource @emotion/react */\nimport {ClassNames} from '@emotion/react'\nimport {useReducer, useContext, useRef} from 'react'\nimport PropTypes from 'prop-types'\n\nimport SimpleSlider from 'component/SimpleSlider'\nimport VideoThumbnail from 'component/VideoThumbnail'\nimport {useOptions} from 'player/playerContext'\nimport {Context} from 'player/store/index'\nimport useThumbnail from 'player/store/useThumbnail'\nimport Action from 'player/store/action/Player'\nimport operator from 'player/store/operator'\nimport formattedTime from 'util/formattedTime'\nimport {havePointerQuery} from 'util/environment'\n\nconst seekbarStyle = {\n  position: 'relative',\n  display: 'flex',\n  alignItems: 'center',\n  width: '100%',\n  height: '24px',\n  fontSize: '75%',\n  letterSpacing: '1px',\n  color: '#fff',\n}\n\nconst sliderStyle = {\n  flex: 1,\n  margin: '0 1em',\n  [`@media ${havePointerQuery}`]: {\n    '> div:last-of-type': {\n      opacity: 0,\n      transition: 'opacity 0.2s ease-out',\n    },\n  },\n  '&:hover > div:last-of-type': {\n    opacity: 1,\n  },\n}\n\nconst thumbnailStyle = {\n  left: '0',\n  bottom: '28px',\n}\n\nconst getSliderStyle = css => ({\n  rail: css({height: '0.33em'}),\n  marked: css({height: '0.33em'}),\n  thumb: css({width: '1.33em', height: '1.33em'}),\n})\n\nconst getThumbailOffset = (container, pointerX, {width} = {}) => {\n  const leftOffset = container?.offsetLeft || 0\n  const rightOffset = leftOffset + container?.offsetWidth - width\n  return Math.max(\n    -leftOffset,\n    Math.min(pointerX - leftOffset - width / 2, rightOffset)\n  )\n}\n\nconst reducePointer = (state, {type, value, x}) => {\n  switch (type) {\n    case 'move':\n      return {...state, hover: true, value, x}\n    case 'change':\n      return {...state, focused: true, value}\n    case 'release':\n      return {...state, focused: false, value}\n    case 'leave':\n      return {...state, hover: false}\n  }\n}\n\nconst Seekbar = ({style, classes}) => {\n  const {thumbnailSeeking} = useOptions()\n  const {\n    state: {progressTime, seekTime, bufferTime, duration},\n    dispatch,\n  } = useContext(Context.PlayerProgress)\n  const {isSettingsOpen, streamEvents = []} = useContext(Context.UI).state\n  const [pointerState, dispatchPointer] = useReducer(reducePointer, {})\n  const containerRef = useRef()\n  const currentTime = seekTime >= 0 ? seekTime : progressTime\n  const pointerActive = pointerState.hover || pointerState.focused\n  const displayTime = pointerActive ? pointerState.value : currentTime\n  const thumbnail = useThumbnail(pointerState.value)\n  const displayThumbnail = !isSettingsOpen && thumbnailSeeking && pointerActive\n\n  return (\n    <div\n      className=\"kks-player__seek-bar\"\n      css={[seekbarStyle, style]}\n      ref={containerRef}\n    >\n      {formattedTime(displayTime)}\n      <ClassNames>\n        {({css}) => (\n          <SimpleSlider\n            css={sliderStyle}\n            classes={{\n              track: css({backgroundColor: 'red'}),\n              ...getSliderStyle(css),\n              ...classes,\n            }}\n            secondaryTrackValue={progressTime + bufferTime}\n            value={currentTime}\n            max={duration}\n            marks={streamEvents.map(event => event.start)}\n            onPointerMove={(_, {value, x}) =>\n              dispatchPointer({type: 'move', value, x})\n            }\n            onPointerLeave={() => dispatchPointer({type: 'leave'})}\n            onChange={(_, {value}) => {\n              dispatch(Action.pause())\n              dispatchPointer({type: 'change', value})\n            }}\n            //play will be triggered in operator.seek\n            onChangeCommitted={(_, {value}) => {\n              dispatchPointer({type: 'release', value})\n              dispatch(operator.seek(value))\n            }}\n          />\n        )}\n      </ClassNames>\n      {formattedTime(duration)}\n      {displayThumbnail && (\n        <VideoThumbnail\n          css={thumbnailStyle}\n          style={{\n            transform: `translateX(${getThumbailOffset(\n              containerRef.current,\n              pointerState.x,\n              thumbnail?.position\n            )}px)`,\n          }}\n          time={pointerState.value}\n          image={thumbnail.image}\n          {...thumbnail.position}\n        />\n      )}\n    </div>\n  )\n}\n\nSeekbar.propTypes = {\n  style: PropTypes.object,\n  classes: PropTypes.object,\n  thumbnailSeeking: PropTypes.bool,\n}\n\nexport default Seekbar\n","/* @jsxImportSource @emotion/react */\nimport {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport {Context} from 'player/store'\n\nimport {getLiveTime} from 'util/index'\nimport formattedTime from 'util/formattedTime'\n\nconst _css = {\n  display: 'flex',\n  alignItems: 'center',\n  width: '100%',\n  fontSize: '0.75em',\n  letterSpacing: '1px',\n  color: '#fff',\n}\n\nconst sliderStyle = {\n  flex: 1,\n  margin: '0 0.5em',\n  height: '0.25em',\n  backgroundColor: 'red',\n}\n\nconst LiveSeekbar = ({style}) => {\n  useContext(Context.PlayerProgress)\n  const {\n    state: {content},\n  } = useContext(Context.API)\n  const {duration, currentTime} = getLiveTime(content || {})\n  // TODO: share these with sender\n\n  return (\n    <div className=\"kks-player__seek-bar\" css={[_css, style]}>\n      {currentTime > 0 && (\n        <>\n          {formattedTime(currentTime)}\n          <div\n            className=\"kks-player__slider\"\n            css={[sliderStyle, style?.slider]}\n          />\n          {formattedTime(duration)}\n        </>\n      )}\n    </div>\n  )\n}\nLiveSeekbar.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default LiveSeekbar\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {PlayerState} from 'Enum'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport icon from 'style/icon'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/Player'\nimport IconButton from './IconButton'\n\nconst RewindButton = ({style}) => {\n  const {\n    state: {progressTime, seekTime},\n    dispatch,\n  } = useContext(Context.PlayerProgress)\n  const {state} = useContext(Context.PlayerState)\n\n  return (\n    state !== PlayerState.ENDED && (\n      <Tooltip title={<Message code=\"KKS.PLAYER.REWIND\" />} bottom=\"48px\">\n        <IconButton\n          style={style}\n          name=\"kks-player__rewind-button\"\n          src={icon.rewind10}\n          onClick={() =>\n            dispatch(\n              Action.seek(\n                (seekTime !== undefined ? seekTime : progressTime) - 10\n              )\n            )\n          }\n        />\n      </Tooltip>\n    )\n  )\n}\n\nRewindButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default RewindButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport {PlayerState} from 'Enum'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport icon from 'style/icon'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/Player'\nimport IconButton from './IconButton'\n\nconst ForwardButton = ({style}) => {\n  const {\n    state: {progressTime, seekTime},\n    dispatch,\n  } = useContext(Context.PlayerProgress)\n  const {state} = useContext(Context.PlayerState)\n\n  return (\n    state !== PlayerState.ENDED && (\n      <Tooltip title={<Message code=\"KKS.PLAYER.FORWARD\" />} bottom=\"48px\">\n        <IconButton\n          style={style}\n          name=\"kks-player__forward-button\"\n          src={icon.forward10}\n          onClick={() =>\n            dispatch(\n              Action.seek(\n                (seekTime !== undefined ? seekTime : progressTime) + 10\n              )\n            )\n          }\n        />\n      </Tooltip>\n    )\n  )\n}\n\nForwardButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default ForwardButton\n","/* eslint-disable indent */\n/* @jsxImportSource @emotion/react */\nimport icon from 'style/icon'\nimport Tooltip from 'component/Tooltip'\nimport Message from 'context/I18n/Message'\nimport SimpleSlider from 'component/SimpleSlider'\nimport Icon from './Icon'\nimport Button from './Button/SquareButton'\n\nconst style = {\n  display: 'inline-flex',\n  alignItems: 'center',\n}\n\n/* eslint-disable react/prop-types */\nconst VolumeControl = ({\n  useVolumeState,\n  displaySlider = false,\n  max = 1,\n  TooltipComponent = Tooltip,\n  /* eslint-disable react/prop-types */\n}) => {\n  const {volume, muted, changeVolume, toggleMuted} = useVolumeState()\n  const iconName =\n    muted || volume === 0\n      ? icon.mute\n      : volume < max / 2\n      ? icon.volumeLow\n      : icon.volumeHight\n\n  return (\n    <div className=\"kks-player__volume\" css={style}>\n      <TooltipComponent\n        title={\n          <Message code={muted ? 'KKS.PLAYER.UNMUTE' : 'KKS.PLAYER.MUTE'} />\n        }\n        bottom=\"48px\"\n      >\n        <Button\n          name=\"kks-player__volume-button\"\n          tooltip={muted ? 'KKS.PLAYER.UNMUTE' : 'KKS.PLAYER.MUTE'}\n          onClick={toggleMuted}\n        >\n          <Icon src={iconName} />\n        </Button>\n      </TooltipComponent>\n      {displaySlider && (\n        <SimpleSlider\n          css={{\n            marginLeft: '0.8rem',\n            width: '4em',\n          }}\n          value={muted ? 0 : volume}\n          max={max}\n          onChange={(_, {value}) => changeVolume(value)}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default VolumeControl\n","import {useContext} from 'react'\n\nimport {Context} from 'player/store/index'\nimport PlayerAction from 'player/store/action/Player'\n\nconst usePlayerVolume = () => {\n  const {\n    state: {volume, muted},\n    dispatch,\n  } = useContext(Context.PlayerVolume)\n\n  return {\n    volume,\n    muted,\n    //TODO: also unmute\n    changeVolume: value => dispatch(PlayerAction.setVolume(value)),\n    toggleMuted: () =>\n      dispatch(muted ? PlayerAction.unmute() : PlayerAction.mute()),\n  }\n}\n\nexport default usePlayerVolume\n","import BaseVolumeControl from 'component/VolumeControl'\nimport usePlayerVolume from 'player/store/usePlayerVolume'\nimport ControlsTooltip from './ControlsTooltip'\n\nconst VolumeControl = props => (\n  <BaseVolumeControl\n    max={100}\n    TooltipComponent={ControlsTooltip}\n    useVolumeState={usePlayerVolume}\n    {...props}\n  />\n)\n\nexport default VolumeControl\n","import {type as PlayerType} from 'player/store/action/Player'\nimport {type as UIType} from 'player/store/action/UI'\n\nconst logger = store => next => action => {\n  const flag =\n    action.type !== PlayerType.UPDATE_CURRENT_TIME &&\n    action.type !== PlayerType.UPDATE_BUFFER_TIME &&\n    action.type !== UIType.SHOW_THUMBNAIL &&\n    action.type !== UIType.FOCUS_SEEK_BAR\n  // eslint-disable-next-line no-undef\n  if (process.env.NODE_ENV === 'development') {\n    flag && console.debug(action.type)\n    flag && console.debug('dispatching', action)\n  }\n  let result = next(action)\n  // eslint-disable-next-line no-undef\n  if (process.env.NODE_ENV === 'development') {\n    flag && console.debug('next state', store.getState())\n    flag && console.groupEnd()\n  }\n  return result\n}\n\nexport default logger\n","const thunk = store => next => action => {\n  return typeof action === 'function' ? action(store) : next(action)\n}\n\nexport default thunk\n","const createGate = check => store => next => action => {\n  return check(store.getState(), action) ? next(action) : null\n}\n\nexport default createGate\n","import _get from 'dlv'\nimport {type} from '../action/API'\nimport {APIState, ItemType} from 'Enum'\n\nexport const initState = {\n  apiState: APIState.DISABLE,\n  customHeader: null,\n  drm: null,\n  playbackToken: null,\n  manifests: null,\n  content: null,\n  contentChangedTimes: 0,\n  thumbnailSeekings: null,\n  playback: {\n    internalSync: false,\n    heartbeat: true,\n    updateTime: 0,\n  },\n}\nconst convertDRMToNameMap = drm => {\n  return {\n    playready: drm.drm__playready.url,\n    widevine: drm.drm__widevine.url,\n    fairplay: drm.drm__fairplay.url,\n  }\n}\nconst convertManifestToNameMap = manifests => {\n  return manifests.reduce((res, item) => {\n    res[item.protocol] = item\n    return res\n  }, {})\n}\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case type.DISABLE:\n      return initState\n    case type.ENABLE:\n      return {\n        ...initState,\n        apiState: APIState.ENABLE,\n        content: action.content,\n        customHeader: action.customHeader,\n        contentChangedTimes: state.contentChangedTimes,\n      }\n    case type.CLEAN:\n      return {\n        ...state,\n        content: {\n          ...state.content,\n        },\n        playback: {\n          ...initState.playback,\n        },\n      }\n    case type.PREPARE_PLAYBACK:\n      return {\n        ...state,\n        apiState: APIState.LOADING,\n      }\n    case type.SET_PLAYBACK:\n      return (playbackInfo => ({\n        ...state,\n        drm: convertDRMToNameMap(playbackInfo.drm),\n        playbackToken: playbackInfo.playbackToken,\n        playingSourceType: playbackInfo.playingSourceType,\n        availableSources: playbackInfo.availableSources,\n        manifests: convertManifestToNameMap(playbackInfo.manifests),\n        content: {\n          ...state.content,\n          ...playbackInfo,\n        },\n        thumbnailSeekings: [],\n        playback: {\n          heartbeat: true,\n          internalSync: ItemType.LIVES === state.content.contentType,\n          updateTime: _get(playbackInfo, 'time.last_played') || 0,\n        },\n      }))(action.playbackInfo)\n    case type.CONTENT_CHANGE:\n      return {...state, contentChangedTimes: state.contentChangedTimes + 1}\n    case type.SET_THUMBNAILS:\n      return {\n        ...state,\n        thumbnailSeekings: action.thumbnails,\n      }\n    case type.SET_CONTENT:\n      return {\n        ...state,\n        content: {\n          ...state.content,\n          ...action.content,\n        },\n      }\n    case type.READY:\n      return {\n        ...state,\n        apiState: APIState.READY,\n      }\n    case type.REFRESH_PLAYBACK_TOKEN:\n      return action.sessionData\n        ? {\n            ...state,\n            playbackToken: action.sessionData,\n          }\n        : state\n    case type.UPDATE_LAST_PLAYED_TIME:\n      return {\n        ...state,\n        playback: {\n          ...state.playback,\n          updateTime: action.time,\n        },\n      }\n    default:\n      return state\n  }\n}\n","import {type} from '../action/Player'\nimport {type as uiType} from 'player/store/action/UI'\nimport {PlayerState, PlayerViewMode} from 'Enum'\nimport {scope} from 'util/index'\n\nexport const initState = {\n  playerState: PlayerState.UNMOUNTED,\n  progress: {\n    progressTime: 0,\n    duration: 0,\n    bufferTime: 0,\n  },\n  volume: {\n    volume: 100,\n    muted: false,\n  },\n  viewMode: PlayerViewMode.INLINE,\n  streamType: null,\n  source: null,\n  userAction: 'pause',\n  isPlaying: false,\n  seeking: false,\n  ended: false,\n  playingQuality: null,\n}\nconst mergePlayerState = (state, playerState, other) => ({\n  ...state,\n  playerState,\n  ...other,\n})\nconst mergeProgress = (state, progress, other) => ({\n  ...state,\n  progress: {\n    ...state.progress,\n    ...progress,\n  },\n  ...other,\n})\nconst mergeVolume = (state, volume, other) => ({\n  ...state,\n  volume: {\n    ...state.volume,\n    ...volume,\n  },\n  ...other,\n})\nconst mergeViewMode = (state, viewMode, other) => ({\n  ...state,\n  viewMode,\n  ...other,\n})\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case type.MOUNT:\n      return mergePlayerState(initState, PlayerState.MOUNTING)\n    case type.MOUNTED:\n      return mergePlayerState(state, PlayerState.MOUNTED)\n    case type.UNLOAD:\n      return mergePlayerState(state, PlayerState.LOADING, {\n        ended: false,\n        progress: initState.progress,\n      })\n    case type.UNLOADED:\n      return mergePlayerState(state, PlayerState.MOUNTED, {source: null})\n    case type.READY:\n      if (state.playerState === PlayerState.PLAYING) return state\n      return mergePlayerState(state, PlayerState.READY)\n    case type.SET_STATE:\n      return {...state, ...action.state}\n    case type.PLAY:\n      return state.isPlaying\n        ? state\n        : {\n            ...state,\n            ...(state.ended && {\n              progress: {...state.progress, progressTime: 0},\n              ended: false,\n            }),\n            userAction: 'play',\n            playerState: PlayerState.STALLING,\n          }\n    case type.PAUSE:\n      return {\n        ...state,\n        userAction: 'pause',\n      }\n    case type.PAUSED:\n      return {\n        ...state,\n        ...(state.playerState !== PlayerState.STALLING && {\n          playerState: PlayerState.PAUSED,\n        }),\n        isPlaying: false,\n      }\n    case type.ENDED:\n      return mergePlayerState(state, PlayerState.ENDED, {\n        isPlaying: false,\n        ended: true,\n      })\n    case type.SEEK:\n      return mergeProgress(\n        state,\n        {seekTime: scope(0, action.time, state.progress.duration)},\n        {playerState: PlayerState.STALLING, seeking: true}\n      )\n    case type.SEEKED:\n      return mergeProgress(\n        state,\n        {seekTime: undefined, progressTime: action.time},\n        {\n          ...(state.userAction === 'pause' && {\n            playerState: PlayerState.PAUSED,\n          }),\n          seeking: false,\n        }\n      )\n    case type.UPDATE_CURRENT_TIME:\n      return mergeProgress(\n        state,\n        {\n          seekTime: undefined,\n          progressTime: action.time,\n          adRemainingTime: action.adRemainingTime,\n        },\n        {\n          playerState: PlayerState.PLAYING,\n          userAction: 'play',\n          isPlaying: true,\n          seeking: false,\n        }\n      )\n    case uiType.VISIBILITY_CHANGE:\n      return mergePlayerState(state, PlayerState.STALLING)\n    case type.UPDATE_BUFFER_TIME:\n      return mergeProgress(state, {bufferTime: action.time})\n    case type.UPDATE_VOLUME:\n      return mergeVolume(state, {volume: action.volume})\n    case type.MUTED:\n      return mergeVolume(state, {muted: true})\n    case type.UNMUTED:\n      return mergeVolume(state, {muted: false})\n    case type.UPDATE_VIEW_MODE:\n      return mergeViewMode(state, action.mode)\n    case type.STALLING:\n      return mergePlayerState(state, PlayerState.STALLING)\n    case type.STALLED:\n      return mergePlayerState(\n        state,\n        state.isPlaying ? PlayerState.PLAYING : PlayerState.PAUSED\n      )\n    default:\n      return state\n  }\n}\n","import {type as APIType} from 'player/store/action/API'\nimport {type as playerType} from 'player/store/action/Player'\nimport {type} from 'player/store/action/UI'\n\nexport const initState = {\n  qualityItems: [],\n  selectedQualityName: undefined,\n  qualityPrecedence: 'application',\n  mediaSources: [],\n  selectedMediaSource: null,\n  mediaSourcePrecedence: 'application',\n  seekbarFocused: false,\n  seeking: false,\n  seekTime: 0,\n  isSettingsOpen: false,\n  thumbnailSeeking: true,\n  recommendationPanel: {\n    enabled: false,\n    opening: false,\n  },\n  autoPlayByUI: false,\n  autoplayDialogOpening: false,\n  hadShownEndRoll: false,\n  ad: {},\n  subtitlesContent: {},\n  error: null,\n}\n\nconst getAdStatus = action => {\n  const {adPosition, totalAds, clickThroughUrl} = action.adProgressData\n\n  return {\n    position: adPosition,\n    total: totalAds,\n    skipTimeOffset: action.skipTimeOffset,\n    clickThroughUrl,\n  }\n}\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case type.SELECT_QUALITY:\n      return {\n        ...state,\n        qualityPrecedence: 'user',\n        selectedQualityName: action.to,\n      }\n    case type.SET_QUALITY_ITEMS:\n      return {\n        ...state,\n        qualityItems: action.items,\n      }\n    case type.SELECT_MEDIA_SOURCE:\n      return {\n        ...state,\n        mediaSourcePrecedence: 'user',\n        selectedMediaSource: action.mediaSource,\n      }\n    case type.SET_MEDIA_SOURCES:\n      return {\n        ...state,\n        mediaSources: action.items,\n      }\n    case type.CHANGE_THUMBNAIL_SEEKING:\n      return {\n        ...state,\n        thumbnailSeeking: action.enabled,\n      }\n    case type.CHANGE_RECOMMENDATION_PANEL:\n      return {\n        ...state,\n        recommendationPanel: {\n          enabled: action.enabled,\n          opening: action.enabled && state.recommendationPanel.opening,\n        },\n        activePanel:\n          action.enabled && state.recommendationPanel.opening\n            ? 'recommendation'\n            : undefined,\n      }\n    case type.TOGGLE_RECOMMENDATION_PANEL:\n      return {\n        ...state,\n        ...(state.recommendationPanel.enabled && {\n          recommendationPanel: {\n            ...state.recommendationPanel,\n            opening: !state.recommendationPanel.opening,\n          },\n          activePanel: state.recommendationPanel.opening\n            ? undefined\n            : 'recommendation',\n        }),\n      }\n    case type.OPEN_PANEL:\n      return {\n        ...state,\n        activePanel: action.panel,\n      }\n    case type.HIDE_PANEL:\n      return {\n        ...state,\n        activePanel: undefined,\n      }\n    case type.OFFER_AUTOPLAY:\n      return {\n        ...state,\n        isSettingsOpen: false,\n        autoplayDialogOpening: true,\n        activePanel: undefined,\n        recommendationPanel: {\n          ...state.recommendationPanel,\n          opening: false,\n        },\n        hadShownEndRoll: true,\n      }\n    case type.RESET_END_ROLL:\n      return {\n        ...state,\n        hadShownEndRoll: false,\n      }\n    case type.DISMISS_AUTOPLAY:\n      return {\n        ...state,\n        autoplayDialogOpening: false,\n        openRecommendationAfterEnd: false,\n        ...(state.openRecommendationAfterEnd &&\n          state.recommendationPanel.enabled && {\n            activePanel: 'recommendation',\n            recommendationPanel: {enabled: true, opening: true},\n          }),\n      }\n    case type.SHOW_MENU:\n      return {\n        ...state,\n        isSettingsOpen: true,\n      }\n    case type.CHANGE_SETTINGS:\n      return {\n        ...state,\n        isSettingsOpen: false,\n      }\n    case type.HIDE_MENU:\n      return {\n        ...state,\n        isSettingsOpen: false,\n      }\n    case type.SET_AUTO_PLAY:\n      return {\n        ...state,\n        autoPlayByUI: action.autoPlay,\n      }\n    case type.ERROR:\n      return {\n        ...state,\n        isSettingsOpen: false,\n        error: action.error,\n      }\n    case type.FOCUS_SEEK_BAR:\n      return {\n        ...state,\n        seekbarFocused: true,\n        seekTime: action.seekTime,\n      }\n    case type.DRAG:\n    case type.DRAG_SEEK_BAR:\n      return {\n        ...state,\n        seeking: true,\n      }\n    case type.DROP:\n    case type.DROP_SEEK_BAR:\n      return {\n        ...state,\n        seeking: false,\n      }\n    case type.LEAVE_SEEK_BAR:\n      return {\n        ...state,\n        seekbarFocused: false,\n      }\n    case type.CHANGE_NEXT_EPISODE:\n      return {\n        ...state,\n        openRecommendationAfterEnd: false,\n        autoplayDialogOpening: false,\n      }\n    case APIType.CONTENT_CHANGE:\n      return {\n        ...state,\n        ad: {},\n        streamEvents: [],\n        openRecommendationAfterEnd: false,\n        activePanel: undefined,\n        recommendationPanel: {...state.recommendationPanel, opening: false},\n      }\n    case playerType.ENDED:\n      return {\n        ...state,\n        openRecommendationAfterEnd: true,\n        ...(!state.autoplayDialogOpening &&\n          state.recommendationPanel.enabled && {\n            activePanel: 'recommendation',\n            recommendationPanel: {enabled: true, opening: true},\n          }),\n      }\n    case type.STREAM_EVENTS_CHANGED:\n      return {\n        ...state,\n        streamEvents: action.streamEvents,\n      }\n    case type.AD_BREAK_STARTED:\n      return {\n        ...state,\n        ad: getAdStatus(action),\n      }\n    case type.AD_BREAK_ENDED:\n      return {\n        ...state,\n        ad: {\n          total: 0,\n        },\n      }\n    case type.UPDATE_SUBTITLES_CONTENT:\n      return {\n        ...state,\n        subtitlesContent: action.content,\n      }\n    default:\n      return state\n  }\n}\n","import {type} from '../middleware/localStorage'\nimport {StorageKey} from 'Enum'\n\nconst initState = {\n  [StorageKey.VOLUME]: {\n    volume: 100,\n    muted: false,\n  },\n}\n\nexport default (state = initState, action) => {\n  switch (action.type) {\n    case type.LOAD:\n      return {...state, [action.key]: action.value}\n    case type.SAVE:\n      return {...state, [action.key]: action.value}\n  }\n  return state\n}\n","import API from './API'\nimport Player from './Player'\nimport UI from './UI'\nimport LocalStorage from './LocalStorage'\nimport {combineReducer} from 'util/index'\nimport {type} from '../action'\nimport {ModuleState, CastState} from 'Enum'\n\nexport const initState = {\n  state: ModuleState.UNINITIALIZATION,\n  castState: CastState.NOT_CONNECTED,\n  error: [],\n}\n\nconst Module = (state = initState, action) => {\n  switch (action.type) {\n    case type.INITIALIZE:\n      return {...state, state: ModuleState.INITIALIZING}\n    case type.INITIALIZED:\n      return {...state, state: ModuleState.INITIALIZED}\n    case type.LOAD_CONTENT:\n      return {...state, state: ModuleState.LOADING}\n    case type.READY_TO_PLAY:\n      return {...state, state: ModuleState.READY}\n    case type.CAST_STATE_CHAGNE:\n      return {...state, castState: action.castState}\n    case type.ERROR:\n      return {state: ModuleState.ERROR, error: state.error.concat(action)}\n    default:\n      return state\n  }\n}\n\nexport default combineReducer({\n  Module,\n  LocalStorage,\n  API,\n  Player,\n  UI,\n})\n","import create from 'zustand/vanilla'\nimport createHook from 'zustand'\nimport {redux, devtools} from 'zustand/middleware'\n\nimport {ModuleState} from 'Enum'\nimport logger from './middleware/logger'\nimport thunk from './middleware/thunk'\nimport createGate from './middleware/createGate'\nimport localStorage from './middleware/localStorage'\nimport {type} from './action/index'\nimport {type as APIType} from './action/API'\nimport {type as PlayerType} from './action/Player'\nimport reducer from './reducer'\nimport operator from './operator'\n\nexport default () => {\n  let state = reducer({}, {type: 'DEFAULT_VALUE'})\n  let changeListeners = []\n  let dispatchListeners = []\n  const store = {}\n  const errorGate = createGate(\n    (state, action) =>\n      state.Module.state !== ModuleState.ERROR ||\n      action === operator.error ||\n      action.type === APIType.CLEAN ||\n      action.type === PlayerType.UNLOAD ||\n      action.type === PlayerType.UNLOADED ||\n      action.type === PlayerType.LEAVE_FULL_SCREEN ||\n      action.type === type.BACK\n  )\n  const middlewares = [localStorage, errorGate, thunk, logger]\n\n  const applyMiddlewares = middlewares\n    .map(middleware => middleware(store))\n    .concat(action => action)\n    .reduceRight((a, b) => b(a))\n  const createRegister = listeners => callback => {\n    listeners.push(callback)\n    return () => {\n      const index = listeners.indexOf(callback)\n      if (index >= 0) listeners.splice(index, 1)\n    }\n  }\n  const zustand = create(\n    devtools(redux(reducer, reducer({}, {type: 'DEFAULT_VALUE'})))\n  )\n\n  return Object.assign(store, {\n    zustand,\n    useStore: createHook(zustand),\n    dispatch: action => {\n      const oldState = state\n      const finalAction = applyMiddlewares(action) || action\n      state = reducer(state, finalAction)\n      dispatchListeners\n        .slice()\n        .forEach(callback => callback(store, finalAction))\n      if (state !== oldState) {\n        changeListeners.slice().forEach(callback => callback(store, action))\n      }\n      zustand.getState().dispatch(finalAction)\n\n      return state\n    },\n    getState: () => state,\n    addChangedListener: createRegister(changeListeners),\n    addDispatchedListener: createRegister(dispatchListeners),\n  })\n}\n","import {useState, useEffect, useContext, useRef} from 'react'\nimport {Context} from 'player/store/index'\nimport createStore from 'player/store/createStore'\n\nimport {isDesktop} from 'util/environment'\nimport PlayerAction from 'player/store/action/Player'\nimport UIAction from 'player/store/action/UI'\n\nexport const useMenu = () => {\n  const {dispatch} = useContext(Context.UI)\n  const show = () => {\n    if (!isDesktop()) {\n      dispatch(PlayerAction.pause())\n    }\n    dispatch(UIAction.showMenu())\n  }\n  return [show]\n}\n\nexport const useStore = (initState, reducer, middlewares) => {\n  const [store] = useState(() => createStore(initState, reducer, middlewares))\n  return store\n}\n\nconst useVisibilityState = () => {\n  const visibility = useRef({})\n\n  useEffect(() => {\n    document.addEventListener('visibilitychange', () => {\n      visibility.current.lastUpdate = Date.now()\n    })\n  }, [])\n\n  return {\n    isVisibilityChangedRecently: (inSeconds = 10000) =>\n      Date.now() - visibility.current.lastUpdate < inSeconds,\n  }\n}\n\nexport {useVisibilityState}\n","/* eslint-disable indent */\nimport {useContext} from 'react'\n\nimport {getTargetQuality} from '../playerCore/adaptation'\nimport {usePlayer} from './playerContext'\nimport {Context} from './store'\nimport operator from './store/operator'\n\nconst shouldShowVersions = mediaSources =>\n  mediaSources.length > 1 || mediaSources[0]\nconst shouldShowQuality = qualities => qualities.length > 1 || qualities[0]\n\nconst shouldShowSubtitles = subtitlesMenu =>\n  subtitlesMenu.length > 0 || subtitlesMenu[0]\n\nconst shouldShowAudio = audioMenu => audioMenu.length > 1 || audioMenu[0]\n\nconst defaultQualityName = (items, quality = '') => {\n  const targetHeight = getTargetQuality(\n    items.map(it => it.height),\n    parseInt(quality.default || quality, 10)\n  )\n  return items.find(it => it.height === targetHeight)?.value\n}\n\nconst speedItems = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2].map(value => ({\n  label: `${value}x`,\n  value,\n}))\n\nconst getSettingSections = ({\n  contentType,\n  mediaSources = [],\n  playingSourceType,\n  qualityItems = [],\n  selectedQualityName,\n  subtitleItems = [],\n  selectedSubtitleName,\n  audioItems = [],\n  selectedAudioName,\n  playbackRate,\n}) =>\n  [\n    shouldShowVersions(mediaSources) && {\n      section: 'mediaSource',\n      title: 'KKS.SETTING.VERSION',\n      selectedValue: playingSourceType,\n      items: mediaSources.map(value => ({value})),\n    },\n    shouldShowQuality(qualityItems) && {\n      section: 'quality',\n      title: 'KKS.QUALITY',\n      selectedValue: selectedQualityName,\n      items: qualityItems,\n    },\n    shouldShowSubtitles(subtitleItems) && {\n      section: 'subtitles',\n      title: 'KKS.SUBTITLES',\n      selectedValue: selectedSubtitleName,\n      items: [...subtitleItems, {label: 'off', value: 'off'}],\n    },\n    shouldShowAudio(audioItems) && {\n      section: 'audio',\n      title: 'KKS.AUDIO',\n      selectedValue: selectedAudioName,\n      items: audioItems,\n    },\n    contentType !== 'lives' && {\n      section: 'speed',\n      title: 'KKS.SETTING.SPEED',\n      selectedValue: playbackRate,\n      items: speedItems,\n    },\n  ].filter(Boolean)\n\nconst useSettings = () => {\n  const {options} = useContext(Context.Module)\n  const {content, playingSourceType} = useContext(Context.API).state\n  const {\n    qualityItems,\n    mediaSources,\n    selectedQualityName: defaultQuality = defaultQualityName(\n      qualityItems,\n      options.quality\n    ),\n  } = useContext(Context.UI).state\n  const player = usePlayer()\n\n  const selectedQualityName = (\n    qualityItems.find(item => item.value === defaultQuality) || qualityItems[0]\n  )?.value\n\n  const subtitleItems = player?.subtitles\n    ?.list()\n    .map(track => ({label: track.label, value: track.lang}))\n  let selectedSubtitleName = player?.subtitles\n    ?.list()\n    .find(track => track.enabled === true)?.lang\n  if (!selectedSubtitleName) selectedSubtitleName = 'off'\n\n  const audioItems = player\n    ?.getAvailableAudio()\n    .map(track => ({label: track.label, value: track.lang}))\n\n  return getSettingSections({\n    contentType: content?.contentType,\n    mediaSources,\n    playingSourceType,\n    qualityItems: options.quality?.getQualityText\n      ? qualityItems.map(item => ({\n          ...item,\n          label: options.quality.getQualityText(item),\n        }))\n      : qualityItems,\n    selectedQualityName,\n    subtitleItems,\n    selectedSubtitleName,\n    audioItems,\n    selectedAudioName: player?.getAudio()?.lang,\n    playbackRate: player?.getPlaybackSpeed(),\n  })\n}\n\nconst useChangeSettings = () => {\n  const {dispatch} = useContext(Context.Module)\n  const player = usePlayer()\n\n  return ({section, value}) => {\n    if (section === 'mediaSource' || !player.hasEnded()) {\n      player.play()\n    }\n    if (section === 'quality') {\n      dispatch(operator.changeQuality(value))\n    }\n    if (section === 'mediaSource') {\n      dispatch(operator.changeMediaSource(value))\n    }\n    if (section === 'speed') {\n      player.setPlaybackSpeed(value)\n    }\n    if (section === 'subtitles') {\n      const subtitles = player.subtitles\n      subtitles.list().forEach(track => {\n        const setter =\n          value !== track.lang ? subtitles.disable : subtitles.enable\n        setter(track.id)\n      })\n    }\n    if (section === 'audio') {\n      const {id} = player\n        .getAvailableAudio()\n        .find(track => track.lang === value)\n      player.setAudio(id)\n    }\n  }\n}\n\nexport {useChangeSettings, useSettings, getSettingSections}\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport IconButton from './IconButton'\nimport {useMenu} from 'player/Hooks'\n\nimport {getSettingSections} from 'player/settings'\n\nconst SettingButton = ({style}) => {\n  const {\n    state: {content},\n  } = useContext(Context.API)\n  const {qualityItems, mediaSources} = useContext(Context.UI).state\n  const [showMenu] = useMenu()\n  const haveSettings =\n    getSettingSections({\n      contentType: content?.contentType,\n      mediaSources,\n      qualityItems,\n    }).length > 0\n\n  return (\n    haveSettings && (\n      <Tooltip title={<Message code=\"KKS.SETTING\" />} bottom=\"48px\">\n        <IconButton\n          style={style}\n          name=\"kks-player__setting-button\"\n          src={icon.setting}\n          onClick={event => showMenu(event)}\n        />\n      </Tooltip>\n    )\n  )\n}\n\nSettingButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default SettingButton\n","/* @jsxImportSource @emotion/react */\nimport {keyframes} from '@emotion/react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\n\nimport {CastState} from 'Enum'\nimport icon from 'style/icon'\n\nconst connectingAnimation = keyframes`\n  0% {\n    background-image: url(\"${icon.castConntecting0}\");\n  }\n  33% {\n    background-image: url(\"${icon.castConntecting1}\");\n  }\n  66% {\n    background-image: url(\"${icon.castConntecting2}\");\n  }\n  100% {\n    background-image: url(\"${icon.castConntecting0}\");\n  }\n`\n\nconst styles = {\n  button: {\n    display: 'none',\n    '&:empty': {\n      padding: 0,\n      flexShrink: 0,\n      border: 'none',\n      outline: 'none',\n      backgroundColor: 'transparent',\n      cursor: 'pointer',\n      '&:after': {\n        content: '\"\"',\n        display: 'block',\n        width: '100%',\n        height: '100%',\n        backgroundSize: 'cover',\n        opacity: '.8',\n        filter: 'invert(100%)',\n      },\n    },\n  },\n  [CastState.NOT_CONNECTED]: {\n    display: 'inline-flex',\n    '&:empty::after': {\n      backgroundImage: `url(\"${icon.castNotConnected}\")`,\n    },\n  },\n  [CastState.CONNECTING]: {\n    display: 'inline-flex',\n    '&:empty::after': {\n      animation: `${connectingAnimation} 3s infinite`,\n    },\n  },\n  [CastState.CONNECTED]: {\n    display: 'inline-flex',\n    '&:empty::after': {\n      backgroundImage: `url(\"${icon.castConnected}\")`,\n    },\n  },\n}\n\nconst CastButton = ({castState, children, style, ...props}) => (\n  <button\n    className={classnames(\n      'kks-player__castbtn',\n      castState && `kks-player__castbtn--${castState.toLocaleLowerCase()}`\n    )}\n    css={[styles.button, styles[castState], style]}\n    {...props}\n  >\n    {children}\n  </button>\n)\n\nCastButton.propTypes = {\n  castState: PropTypes.string,\n  children: PropTypes.node,\n  style: PropTypes.object,\n}\n\nexport default CastButton\n","import PropTypes from 'prop-types'\n\nimport Types from 'Types'\nimport {CastState} from 'Enum'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {useCastContext} from 'cast/context'\nimport CastButton from 'component/Button/CastButton'\n\nconst CastVideoButton = ({contentId, contentType, mediaSource, ...props}) => {\n  const {\n    state: {castState},\n    actions: {connect, loadContent, stopCasting},\n  } = useCastContext()\n  const tooltip =\n    castState === CastState.CONNECTED\n      ? 'KKS.PLAYER.CAST.DISCONNECT'\n      : 'KKS.PLAYER.CAST'\n  const handleCast = () => {\n    if (castState === CastState.CONNECTED) {\n      stopCasting()\n    } else if (contentId && contentType) {\n      loadContent({contentId, contentType, mediaSource})\n    } else {\n      connect()\n    }\n  }\n\n  return (\n    <Tooltip title={<Message code={tooltip} />} bottom=\"48px\">\n      <CastButton castState={castState} onClick={handleCast} {...props} />\n    </Tooltip>\n  )\n}\n\nCastVideoButton.propTypes = {\n  contentId: PropTypes.string,\n  contentType: Types.ItemType,\n  mediaSource: PropTypes.string,\n}\n\nexport default CastVideoButton\n","import {cloneElement} from 'react'\nimport PropTypes from 'prop-types'\nimport {useContext} from 'react'\n\nimport {useOptions} from 'player/playerContext'\nimport {Context} from 'player/store/index'\nimport action from 'player/store/action/UI'\n\nimport SettingButton from './Button/SettingButton'\nimport CastButton from './Button/CastButton'\n\nconst FunctionButtons = ({full = true}) => {\n  const {toolPanels = []} = useOptions()\n  const {dispatch} = useContext(Context.Module)\n\n  return (\n    <>\n      {full && (\n        <>\n          <CastButton />\n          {toolPanels.map((item, index) =>\n            cloneElement(item.button, {\n              key: index,\n              onClick: () => {\n                dispatch(action.openPanel(index))\n              },\n            })\n          )}\n        </>\n      )}\n      <SettingButton />\n    </>\n  )\n}\n\nFunctionButtons.propTypes = {\n  full: PropTypes.bool,\n}\n\nexport default FunctionButtons\n","import classnames from 'classnames'\nimport {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\nimport IconButton from './IconButton'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport PlayerAction from 'player/store/action/Player'\nimport {PlayerViewMode} from 'Enum'\n\nconst FullScreenButton = ({style}) => {\n  const {state, dispatch} = useContext(Context.PlayerViewMode)\n  const src =\n    state === PlayerViewMode.INLINE\n      ? icon.enterFullScreen\n      : icon.leaveFullScreen\n  const tooltip =\n    state === PlayerViewMode.INLINE\n      ? 'KKS.PLAYER.FULLSCREEN'\n      : 'KKS.PLAYER.FULLSCREEN.EXIT'\n  const onClick = () => {\n    dispatch(\n      state === PlayerViewMode.INLINE\n        ? PlayerAction.enterFullScreen()\n        : PlayerAction.leaveFullScreen()\n    )\n  }\n\n  return (\n    <Tooltip title={<Message code={tooltip} />} bottom=\"48px\">\n      <IconButton\n        name={classnames(\n          'kks-player__full-screen-button',\n          `kks-player__full-screen-button--${\n            state === PlayerViewMode.INLINE ? 'inline' : 'fullscreen'\n          }`\n        )}\n        src={src}\n        onClick={onClick}\n        style={style}\n      />\n    </Tooltip>\n  )\n}\n\nFullScreenButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default FullScreenButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport _get from 'dlv'\n\nimport icon from 'style/icon'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/UI'\nimport IconButton from './IconButton'\n\nconst PreEpisodeButton = ({style}) => {\n  const {\n    state: {content},\n    dispatch,\n  } = useContext(Context.API)\n  const preEpisode = _get(content, 'recommend.previous.id', null)\n\n  return (\n    <Tooltip title={<Message code=\"KKS.PLAYER.PREVIOUS\" />} bottom=\"48px\">\n      <IconButton\n        style={style}\n        name=\"kks-player__previous-episode-button\"\n        src={icon.previousEpisode}\n        disabled={!preEpisode}\n        onClick={() =>\n          preEpisode && dispatch(Action.changePreviousEpisode(preEpisode))\n        }\n      />\n    </Tooltip>\n  )\n}\n\nPreEpisodeButton.propTypes = {\n  keep: PropTypes.bool,\n  style: PropTypes.object,\n}\n\nexport default PreEpisodeButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport _get from 'dlv'\n\nimport icon from 'style/icon'\nimport Tooltip from 'player/container/ControlsTooltip'\nimport Message from 'context/I18n/Message'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/UI'\nimport IconButton from './IconButton'\n\nconst NextEpisodeButton = ({style}) => {\n  const {\n    state: {content},\n    dispatch,\n  } = useContext(Context.API)\n  const nextEpisode = _get(content, 'recommend.next.id', null)\n\n  return (\n    <Tooltip title={<Message code=\"KKS.PLAYER.NEXT\" />} bottom=\"48px\">\n      <IconButton\n        style={style}\n        name=\"kks-player__next-episode-button\"\n        src={icon.nextEpisode}\n        disabled={!nextEpisode}\n        onClick={() =>\n          nextEpisode && dispatch(Action.changeNextEpisode(nextEpisode))\n        }\n      />\n    </Tooltip>\n  )\n}\n\nNextEpisodeButton.propTypes = {\n  keep: PropTypes.bool,\n  style: PropTypes.object,\n}\n\nexport default NextEpisodeButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport icon from 'style/icon'\nimport IconButton from './IconButton'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action'\n\nconst BackButton = ({style}) => {\n  const {dispatch} = useContext(Context.Module)\n  return (\n    <IconButton\n      style={style}\n      name=\"kks-player__back-button\"\n      src={icon.back}\n      onClick={() => dispatch(Action.back())}\n    />\n  )\n}\n\nBackButton.propTypes = {\n  style: PropTypes.object,\n}\n\nexport default BackButton\n","import {useContext} from 'react'\nimport PropTypes from 'prop-types'\nimport I18n from 'context/I18n'\n\nconst ErrorMessage = ({errorAction}) => {\n  const {error} = errorAction\n  const {getMessage} = useContext(I18n.Context)\n  const code = error.code || 0\n  const data = {\n    ...error,\n    code,\n    CODE: code,\n  }\n  const errorMessage =\n    getMessage(error.message, data) ||\n    getMessage(error.name, data) ||\n    getMessage(`KKS.ERROR.${error.name}`, data) ||\n    getMessage(`KKS.ERROR.${error.code}`, data) ||\n    error.message\n\n  return <div className=\"kks-player__error-message\">{errorMessage}</div>\n}\n\nErrorMessage.propTypes = {\n  errorAction: PropTypes.object.isRequired,\n}\n\nexport default ErrorMessage\n","/* @jsxImportSource @emotion/react */\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport {center} from 'style'\nimport I18n from 'context/I18n'\n\nconst style = {\n  width: '200px',\n  height: '40px',\n  borderRadius: '4px',\n  background: 'transparent',\n  border: '1px solid',\n  color: 'white',\n  fontSize: '16px',\n  opacity: 0.8,\n  cursor: 'pointer',\n  outline: 'none',\n  userSelect: 'none',\n}\n\nconst TextButton = ({name, onClick, text, defaultValue}) => (\n  <button\n    className={classnames('kks-player__text-button', name)}\n    css={[style, center, {display: 'inline-block'}]}\n    onClick={onClick}\n  >\n    <I18n.Message code={text} defaultValue={defaultValue} />\n  </button>\n)\n\nTextButton.propTypes = {\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  text: PropTypes.string,\n  defaultValue: PropTypes.string,\n}\n\nexport default TextButton\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\nimport {mask} from 'style'\nimport icon from 'style/icon'\nimport Icon from 'component/Icon'\nimport ErrorMessage from 'component/ErrorMessage'\nimport TextButton from 'component/Button/TextButton'\n\nconst _css = {\n  icon: {\n    width: '78px',\n    height: '78px',\n  },\n}\n\nconst Error = ({error, style, onBack}) => (\n  <div className=\"kks-player__error\" css={[mask, style]}>\n    <Icon style={_css.icon} src={icon.warning} />\n    <ErrorMessage errorAction={error[error.length - 1]} />\n    <TextButton\n      name=\"kks-player__error__back-button\"\n      text=\"KKS.BACK\"\n      defaultValue=\"BACK\"\n      onClick={onBack}\n    />\n  </div>\n)\nError.propTypes = {\n  error: PropTypes.array,\n  style: PropTypes.object,\n  onBack: PropTypes.func,\n}\nError.defaultProps = {\n  error: [],\n  style: {},\n  onBack: () => {},\n}\n\nexport default Error\n","/* @jsxImportSource @emotion/react */\nimport {keyframes} from '@emotion/react'\nimport PropTypes from 'prop-types'\nimport {mask} from 'style'\n\nconst rotateInfinite = keyframes`\n  0% {\n    transform: rotate(0deg);\n  }\n  100%  {\n    transform: rotate(360deg); \n  }\n`\n\nconst style = {\n  display: 'block',\n  animation: `${rotateInfinite} 1.2s linear infinite`,\n  border: '0.25em solid #f22e05',\n  borderRightColor: 'transparent',\n  borderRadius: '50%',\n  height: '3em',\n  width: '3em',\n}\n\nconst Loading = ({css, styles}) => (\n  <div css={[mask, css, styles]}>\n    <div className=\"kks-player__loading\" css={style} />\n  </div>\n)\nLoading.propTypes = {\n  css: PropTypes.object,\n  styles: PropTypes.object,\n}\n\nexport default Loading\n","/* @jsxImportSource @emotion/react */\nimport {keyframes} from '@emotion/react'\nimport {useState} from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport {layer} from 'style'\nimport icon from 'style/icon'\n\nconst fadeout = keyframes`\n  0% {\n    background-size: 140px 140px;\n    opacity:1;\n  }\n  100% {\n    background-size: 160px 160px;\n    opacity:0;\n  }\n`\n\nconst _css = (animating, src) => ({\n  ...(animating && {\n    animationName: fadeout,\n  }),\n  backgroundSize: '140px 140px',\n  backgroundPosition: 'center',\n  backgroundRepeat: 'no-repeat',\n  animationFillMode: 'forwards',\n  animationDelay: '0.3s',\n  animationDuration: '300ms',\n  backgroundImage: `url(${src})`,\n  opacity: 0,\n})\n\nconst PlayPanel = ({isPlaying, href, onClick}) => {\n  const [animating, setAnimating] = useState(false)\n\n  return href ? (\n    <a href={href} target=\"_blank\" rel=\"noreferrer\" css={layer} />\n  ) : (\n    <div\n      className={classnames('kks-player__play-panel', {\n        [`kks-player__play-panel--${isPlaying ? 'play' : 'pause'}`]: animating,\n      })}\n      css={[\n        layer,\n        _css(animating, isPlaying ? icon.playCircle : icon.pauseCircle),\n      ]}\n      onAnimationEnd={() => setAnimating(false)}\n      onClick={() => {\n        setAnimating(true)\n        onClick()\n      }}\n    />\n  )\n}\n\nPlayPanel.propTypes = {\n  isPlaying: PropTypes.bool,\n  href: PropTypes.string,\n  onClick: PropTypes.func,\n}\n\nexport default PlayPanel\n","/* @jsxImportSource @emotion/react */\nimport classnames from 'classnames'\nimport PropTypes from 'prop-types'\nimport {center} from 'style'\nimport I18n from 'context/I18n'\n\nconst style = {\n  border: 'none',\n  outline: 'none',\n  cursor: 'pointer',\n  padding: 0,\n  flexShrink: 0,\n  fontSize: 14,\n  width: 'auto',\n  height: 'auto',\n  userSelect: 'none',\n}\n\nconst Link = ({name, onClick, text, defaultValue}) => (\n  <a\n    className={classnames('kks-player__link', name)}\n    css={[style, center]}\n    onClick={onClick}\n  >\n    <I18n.Message code={text} defaultValue={defaultValue} />\n  </a>\n)\n\nLink.propTypes = {\n  name: PropTypes.string,\n  onClick: PropTypes.func,\n  text: PropTypes.string,\n  defaultValue: PropTypes.string,\n}\n\nexport default Link\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\nimport {mask} from 'style'\nimport I18n from 'context/I18n'\nimport TextButton from 'component/Button/TextButton'\nimport Link from 'component/Button/Link'\n\nconst _css = {\n  title: {\n    maxWidth: '416px',\n    textAlign: 'center',\n    fontSize: '20px',\n    fontWeight: 'bold',\n  },\n  message: {\n    maxWidth: '416px',\n    fontSize: '16px',\n  },\n}\n\nconst LinearEnd = ({onRetry, onLeave}) => (\n  <div className=\"kks-player__linear-end\" css={[mask]}>\n    <div className=\"kks-player__linear-end__title\" css={_css.title}>\n      <I18n.Message code=\"KKS.PROGRAM.TITLE\" />\n    </div>\n    <div className=\"kks-player__linear-end__message\" css={_css.message}>\n      <I18n.Message code=\"KKS.PROGRAM.MESSAGE\" />\n    </div>\n    <TextButton\n      name=\"kks-player__retry-button\"\n      text=\"KKS.TRYAGAIN\"\n      onClick={onRetry}\n    />\n    <Link\n      name=\"kks-player__leave-button\"\n      text=\"KKS.PLAYER.EXIT\"\n      onClick={onLeave}\n    />\n  </div>\n)\nLinearEnd.propTypes = {\n  onRetry: PropTypes.func,\n  onLeave: PropTypes.func,\n}\nexport default LinearEnd\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nimport {mask} from 'style'\nimport icon from 'style/icon'\nimport I18n from 'context/I18n'\nimport Button from 'component/Button/SquareButton'\nimport Icon from 'component/Icon'\n\nconst style = {\n  backgroundColor: '#000',\n  button: {\n    position: 'absolute',\n    top: '36px',\n    left: '36px',\n  },\n}\n\nconst iconStyle = {\n  width: '78px',\n  height: '78px',\n  filter: 'invert(100%)',\n}\n\nconst CastMask = ({onBack}) => (\n  <div className=\"kks-player__cast-mask\" css={[mask, style]}>\n    <Button name=\"kks-player__ctrlbtn kks-player__back-button\" onClick={onBack}>\n      <Icon src={icon.back} />\n    </Button>\n    <Icon src={icon.castConnected} style={iconStyle} />\n    <div className=\"kks-player__cast-mask__message\">\n      <I18n.Message code=\"KKS.CASTING\" />\n    </div>\n  </div>\n)\n\nCastMask.propTypes = {\n  onBack: PropTypes.func,\n}\n\nexport default CastMask\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\nimport Icon from 'component/Icon'\nimport Message from 'context/I18n/Message'\n\nconst styles = {\n  padding: '0.5rem',\n  border: '1px solid #fff',\n  color: '#fff',\n  background: 'rgba(0, 0, 0, 0.4)',\n  fontSize: '24px',\n  opacity: 0.8,\n  'span:last-of-type': {\n    marginLeft: '1rem',\n    width: '16px',\n    height: '16px',\n    display: 'inline-block',\n  },\n}\n\nconst SkipButton = ({remainingTime, onClick}) => (\n  <button css={styles} disabled={remainingTime > 0} onClick={onClick}>\n    {remainingTime > 0 ? (\n      <>\n        {Math.ceil(remainingTime)} <Message code=\"KKS.SSAI.SECONDS\" />\n        <Icon src={icon.nextEpisode} style={{opacity: 0.24}} />\n      </>\n    ) : (\n      <>\n        <Message code=\"KKS.SSAI.SKIP.AD\" />\n        <Icon src={icon.nextEpisode} />\n      </>\n    )}\n  </button>\n)\n\nSkipButton.propTypes = {\n  remainingTime: PropTypes.number,\n  onClick: PropTypes.func,\n}\n\nexport default SkipButton\n","/* eslint-disable indent */\n// Refactor is in progress, old player UI components will be imported from here temporarily\nimport {useState, useEffect, useContext} from 'react'\nimport shallow from 'zustand/shallow'\n\nimport useStore from './store/useStore'\nimport getPlaybackState from 'player/store/getPlaybackState'\nimport {useOptions} from './playerContext'\nimport PlayButton from 'player/container/Button/PlayButton'\nimport Seekbar from 'player/container/Seekbar'\nimport LiveSeekbar from 'player/container/LiveSeekbar'\nimport RewindButton from 'player/container/Button/RewindButton'\nimport ForwardButton from 'player/container/Button/ForwardButton'\nimport VolumeControl from 'player/container/VolumeControl'\nimport FunctionButtons from 'player/container/FunctionButtons'\nimport FullScreenButton from 'player/container/Button/FullScreenButton'\nimport PreviousEpisodeButton from 'player/container/Button/PreEpisodeButton'\nimport NextEpisodeButton from 'player/container/Button/NextEpisodeButton'\nimport BackButton from 'player/container/Button/BackButton'\nimport CastButton from 'player/container/Button/CastButton'\nimport Error from 'component/Mask/Error'\nimport Loading from 'component/Mask/Loading'\nimport PlayPanel from 'component/Panel/PlayPanel'\nimport LinearEnded from 'component/Mask/LinearEnd'\nimport Casting from 'component/Mask/Cast'\nimport SkipButton from 'component/Button/SkipButton'\nimport {Context} from 'player/store/index'\nimport Action from 'player/store/action/index'\nimport playAction from 'player/store/action/playAction'\nimport UiAction from 'player/store/action/UI'\nimport operator from 'player/store/operator'\n\nconst PlayPane = () => {\n  const {status} = useStore(getPlaybackState, shallow)\n  const type = useStore(({UI: state}) =>\n    state.activePanel === 'recommendation'\n      ? 'dismiss'\n      : state.autoplayDialogOpening || state.autoplayDialogOpening\n      ? 'none'\n      : 'play'\n  )\n  const adUrl = useStore(({UI: state}) => state.ad?.clickThroughUrl)\n  const {dispatch} = useContext(Context.PlayerState)\n\n  return type === 'dismiss' ? (\n    <div\n      style={{\n        height: '100%',\n        width: '100%',\n        background: 'rgba(0, 0, 0, 0.6)',\n      }}\n      onClick={() => dispatch(UiAction.hidePanel())}\n    />\n  ) : (\n    type === 'play' && (\n      <PlayPanel\n        isPlaying={/playing|loading/.test(status)}\n        href={adUrl}\n        onClick={() => dispatch(playAction(status))}\n      />\n    )\n  )\n}\n\nconst ErrorOverlay = () => {\n  const {dispatch} = useContext(Context.Module)\n  const {error} = useContext(Context.Module).state\n\n  return <Error error={error} onBack={() => dispatch(Action.back())} />\n}\n\nconst CastingOverlay = () => {\n  const {dispatch} = useContext(Context.Module)\n\n  return <Casting onBack={() => dispatch(Action.back())} />\n}\n\nconst LinearEndedOverlay = () => {\n  const {dispatch} = useContext(Context.Module)\n\n  return (\n    <LinearEnded\n      onRetry={() => dispatch(operator.retry)}\n      onLeave={() => dispatch(Action.back())}\n    />\n  )\n}\n\nconst getAdSkipTimeOffset = ({API, UI}) =>\n  API.content?.contentType === 'lives' ? -1 : UI.ad?.skipTimeOffset\n\nconst AdSkipButton = () => {\n  const {plugins} = useOptions()\n  const skipTimeOffset = useStore(getAdSkipTimeOffset)\n  const [streamTime, setStreamTime] = useState(0)\n\n  useEffect(() => {\n    const video = document.querySelector('video')\n    const upadteTime = () => setStreamTime(() => video.currentTime)\n    video.addEventListener('timeupdate', upadteTime)\n\n    return () => video.removeEventListener('timeupdate', upadteTime)\n  }, [])\n\n  return (\n    skipTimeOffset >= 0 && (\n      <SkipButton\n        remainingTime={skipTimeOffset - streamTime}\n        onClick={() => plugins.forEach(plugin => plugin.skipAd?.())}\n      />\n    )\n  )\n}\n\nconst getComponents = () => ({\n  PlayButton,\n  Seekbar,\n  LiveSeekbar,\n  RewindButton,\n  ForwardButton,\n  VolumeControl,\n  FunctionButtons,\n  FullScreenButton,\n  PreviousEpisodeButton,\n  NextEpisodeButton,\n  BackButton,\n  Loading,\n  PlayPane,\n  ErrorOverlay,\n  LinearEndedOverlay,\n  CastingOverlay,\n\n  AdSkipButton,\n  CastButton,\n})\n\nexport default getComponents\n","/* @jsxImportSource @emotion/react */\n/* eslint-disable react/prop-types */\nconst expand = {\n  margin: 0,\n  flex: '1',\n}\n\nconst containerStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%',\n  boxSizing: 'border-box',\n  display: 'flex',\n  flexDirection: 'column',\n  overflow: 'hidden',\n  color: 'white',\n  // prevent animation glich(afterimage) of descendant elements\n  transform: 'translateX(0)',\n  userSelect: 'none',\n  h1: {\n    margin: 0,\n    fontSize: '1em',\n    lineHeight: '1.5em',\n  },\n  'a, a:link, a:visited': {\n    color: '#fff',\n    opacity: 0.8,\n    textDecoration: 'none',\n  },\n  button: {\n    fontSize: 'inherit',\n  },\n}\n\nconst drop = {\n  backgroundImage: `linear-gradient(\n    0deg,\n    rgba(0,0,0,0.5) 0,\n    rgba(0,0,0,0) 8rem calc(100% - 8rem),\n    rgba(0,0,0,0.5) 100%\n  )`,\n}\n\nconst dropTop = {\n  backgroundImage: `linear-gradient(\n    0deg,\n    rgba(0,0,0,0) 0,\n    rgba(0,0,0,0) 8rem calc(100% - 8rem),\n    rgba(0,0,0,0.5) 100%\n  )`,\n}\n\nconst responsiveStyles = {\n  desktop: {\n    fontSize: '24px',\n  }, // add if necessary: big-desktop\n}\n\nconst rowStyle = {\n  boxSizing: 'border-box',\n  width: '100%',\n  padding: 'calc(2em - 16px)',\n  display: 'flex',\n  alignItems: 'center',\n  button: {\n    flex: '0 0 1.5em',\n    width: '1.5em',\n    height: '1.5em',\n  },\n  '> button:not(:disabled) ~ button:not(:disabled), div ~ button:last-of-type': {\n    marginLeft: '0.5rem',\n  },\n  '> button:not(:last-of-type)': {\n    marginRight: '0.5rem',\n  },\n}\n\nconst displayStyles = {\n  hidden: {\n    '> div:not(.pinned), > button:not(.pinned), > h1:not(.pinned)': {\n      opacity: 0,\n      transform: 'translate(-100vw)',\n      transition: 'opacity 0.5s ease-out, transform 0s 0.5s',\n    },\n  },\n  shown: {\n    '> div:not(.pinned), > button:not(.pinned), > h1:not(.pinned)': {\n      transition: 'opacity 0.5s ease-out',\n    },\n  },\n}\n\nconst controlsDisplayStyles = {\n  hidden: {\n    ...displayStyles.hidden,\n    '~ div:not(.pinned)': displayStyles.hidden,\n  },\n  shown: {\n    ...displayStyles.display,\n    '~ div': displayStyles.display,\n  },\n}\n\nconst controlsStyle = {\n  position: 'absolute',\n  zIndex: '2',\n  display: 'flex',\n  alignItems: 'center',\n  '> button': {\n    margin: '1em',\n    width: '1.75em',\n    height: '1.75em',\n    '&:disabled': {\n      opacity: 0.3,\n    },\n    '&.play-button': {\n      width: '3em',\n      height: '3em',\n    },\n  },\n}\n\nconst textEllipsis = {\n  overflow: 'hidden',\n  whiteSpace: 'nowrap',\n  textOverflow: 'ellipsis',\n}\n\nconst infoStyle = {\n  alignItems: 'flex-start',\n  overflow: 'visible',\n  h1: {\n    height: '3em',\n    fontWeight: '500',\n    ...textEllipsis,\n    '> div': textEllipsis,\n  },\n}\n\nconst backStyle = {\n  position: 'absolute',\n  zIndex: '-1',\n  width: '100%',\n  height: '100%',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n}\n\nconst skipStyle = {\n  position: 'absolute',\n  right: 0,\n  bottom: '9rem',\n  textAlign: 'right',\n  button: {\n    width: 'auto',\n    height: 'auto',\n  },\n}\n\nconst dekstopStyle = {\n  '> div': {\n    '> button:not(:disabled) ~ button:not(:disabled), button:last-of-type': {\n      marginLeft: '0.75em',\n    },\n    '> button:not(:last-of-type), > button:first-of-type, > button ~ div': {\n      marginRight: '0.75em',\n    },\n    '> button:first-of-type': {\n      marginLeft: '0',\n    },\n  },\n}\n\nconst desktopControls = {\n  flexWrap: 'wrap',\n  '> div:first-of-type': {\n    flex: '100%',\n    marginBottom: '0.88em',\n  },\n  'button[disabled]': {\n    display: 'none',\n  },\n}\n\nconst ControlsBlock = ({\n  order = 'mobile',\n  playButton,\n  rewindButton = '',\n  forwardButton = '',\n  previousEpisodeButton = '',\n  nextEpisodeButton = '',\n}) =>\n  order === 'desktop' ? (\n    <>\n      {previousEpisodeButton}\n      {playButton}\n      {nextEpisodeButton}\n      {rewindButton}\n      {forwardButton}\n    </>\n  ) : (\n    <>\n      {rewindButton}\n      {previousEpisodeButton}\n      {playButton}\n      {nextEpisodeButton}\n      {forwardButton}\n    </>\n  )\n\nconst DefaultLayout = ({\n  type = 'mobile',\n  display,\n  controlsDisplay,\n  size,\n  title = '',\n  channelTitle = '',\n  haveBottomItem,\n  seekbar = '',\n  controlButtons,\n  volumeControl,\n  functionButtons,\n  fullscreenButton,\n  backButton,\n  adStatus = '',\n  adLink = '',\n  adSkipButton,\n  backItems,\n  children,\n  containerRef,\n  backRef,\n  ...rest\n}) => (\n  <div\n    css={[\n      containerStyle,\n      responsiveStyles[size],\n      type === 'desktop' && dekstopStyle,\n      display === 'shown' && (haveBottomItem ? dropTop : drop),\n    ]}\n    ref={containerRef}\n    {...rest}\n  >\n    <div ref={backRef} css={backStyle}>\n      {type === 'mobile' ? (\n        <div css={[controlsStyle, displayStyles[controlsDisplay]]}>\n          <ControlsBlock order=\"mobile\" {...controlButtons} />\n        </div>\n      ) : (\n        backItems\n      )}\n      {adSkipButton && <div css={skipStyle}>{adSkipButton}</div>}\n    </div>\n    <div css={[rowStyle, infoStyle, displayStyles[display]]}>\n      {backButton}\n      <h1>\n        {title}\n        {channelTitle && <div css={{fontSize: '16px'}}>{channelTitle}</div>}\n      </h1>\n      <div css={expand} />\n      {type === 'mobile' && functionButtons}\n      {adLink && <div className=\"pinned\">{adLink}</div>}\n    </div>\n    <div\n      css={[\n        rowStyle,\n        {marginTop: 'auto'},\n        type === 'desktop' && desktopControls,\n        controlsDisplayStyles[controlsDisplay],\n      ]}\n    >\n      {seekbar || <div />}\n      {type === 'desktop' && (\n        <ControlsBlock order=\"desktop\" {...controlButtons} />\n      )}\n      {adStatus && (\n        <div className=\"pinned\" css={{flex: 1, textShadow: '2px 2px 1px #000'}}>\n          {adStatus}\n        </div>\n      )}\n      {type === 'desktop' && (\n        <>\n          <div css={expand} />\n          {volumeControl}\n          {functionButtons}\n        </>\n      )}\n      {fullscreenButton}\n    </div>\n    {children}\n  </div>\n)\n\nexport default DefaultLayout\n","/* @jsxImportSource @emotion/react */\n// eslint-disable-next-line no-unused-vars\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\n\nconst openIcon = {\n  width: '1rem',\n  height: '1rem',\n  margin: '0 0.5rem',\n  fontWeight: 'bold',\n  backgroundImage: `url(${icon.arrowTop})`,\n  transition: 'transform 0.5s',\n}\n\nconst closeIcon = {\n  ...openIcon,\n  transform: 'rotateX(180deg)',\n}\n\nconst titleStyle = {\n  padding: '0.5rem 2.5rem',\n  display: 'flex',\n  alignItems: 'center',\n  color: '#ccc',\n  fontSize: '20px',\n  cursor: 'pointer',\n}\n\nconst contentStyle = {\n  overflow: 'auto',\n}\n\nconst contentHiddenStyle = {\n  overflow: 'hidden',\n  pointerEvents: 'none',\n  touchAction: 'none',\n}\n\nconst RecommendationBox = ({opening, title, children = '', toggle}) => (\n  <>\n    <div css={titleStyle} onClick={opening && toggle}>\n      {title}\n      <div css={[opening ? closeIcon : openIcon]} />\n    </div>\n    <div css={[contentStyle, !opening && contentHiddenStyle]}>{children}</div>\n  </>\n)\n\nRecommendationBox.propTypes = {\n  opening: PropTypes.bool,\n  toggle: PropTypes.func,\n  title: PropTypes.node,\n  children: PropTypes.node,\n}\n\nconst foldedHeight = '5rem'\n\nconst style = {\n  container: {\n    position: 'absolute',\n    bottom: '0',\n    width: '100%',\n    overflow: 'hidden',\n    transition: 'transform 0.5s ease',\n    transform: 'translateY(0)',\n  },\n  folded: {\n    transform: `translateY(100%) translateY(-${foldedHeight})`,\n  },\n}\n\nconst RecommendationPanel = ({opening, toggle, title, children = null}) => {\n  return (\n    children && (\n      <div\n        className=\"kks-player__recommendation\"\n        css={[style.container, !opening && style.folded]}\n        onClick={() => {\n          if (!opening) {\n            toggle()\n          }\n        }}\n      >\n        <RecommendationBox opening={opening} title={title} toggle={toggle}>\n          {children}\n        </RecommendationBox>\n      </div>\n    )\n  )\n}\n\nRecommendationPanel.propTypes = {\n  opening: PropTypes.bool,\n  toggle: PropTypes.func,\n  title: PropTypes.node,\n  children: PropTypes.node,\n}\n\nexport default RecommendationPanel\n","/* @jsxImportSource @emotion/react */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport {cloneElement} from 'react'\nimport PropTypes from 'prop-types'\n\nimport RecommendationPanel from 'component/Panel/RecommendationPanel'\n\nconst panelStyle = {\n  alignSelf: 'center',\n  display: 'flex',\n  flexDirection: 'column',\n  overflow: 'visible',\n  maxWidth: '100%',\n  position: 'absolute',\n  bottom: '0',\n  transition: 'transform 0s 0.5s',\n  transform: 'translateY(100%)',\n  '> *:last-of-type': {\n    flex: '0 auto',\n    transition: 'transform 0.5s ease, opacity 0.5s ease',\n    transform: 'translateY(100%)',\n    opacity: '0',\n  },\n}\n\nconst panelOpenStyle = {\n  transition: 'transform 0s 0s',\n  transform: 'translateY(0)',\n  '> *:last-of-type': {\n    transform: 'translateY(0)',\n    opacity: '1',\n  },\n}\n\n// this is for replacing recommendation panel in future\nconst panelClosedStyle = height =>\n  height && {\n    '> *:last-of-type': {\n      // workaround IE 11 CSS calc() bug\n      transform: `translateY(100%) translateY(-${height})`,\n    },\n  }\n\nconst backdropStyle = {\n  height: '100%',\n  backgroundColor: 'rgba(0, 0, 0, 0)',\n  transition: 'background-color 0.5s ease, transform 0s 0.5s',\n}\n\nconst backdropOpenStyle = {\n  backgroundColor: 'rgba(0, 0, 0, 0.6)',\n  transition: 'background-color 0.5s ease',\n}\n\nconst BottomPanels = ({\n  type = 'mobile',\n  recommendation,\n  toolPanels,\n  activePanel,\n  hidePanel,\n  toggleRecommendationPanel,\n}) => (\n  <>\n    {recommendation && type === 'desktop' && (\n      <>\n        <div style={{height: '4rem'}} />\n        <RecommendationPanel\n          title={recommendation.title}\n          opening={activePanel === 'recommendation'}\n          toggle={toggleRecommendationPanel}\n        >\n          {recommendation.content}\n        </RecommendationPanel>\n      </>\n    )}\n    {toolPanels.map(\n      (\n        {\n          content,\n          open,\n          style,\n          hasBackdrop = true,\n          pinned = false,\n          foldedHeight = 0,\n        },\n        index\n      ) => {\n        const panelOpen = open || index === activePanel\n\n        return (\n          <div\n            css={[\n              panelStyle,\n              panelOpen ? panelOpenStyle : panelClosedStyle(foldedHeight),\n              hasBackdrop && [backdropStyle, panelOpen && backdropOpenStyle],\n              panelOpen && style,\n            ]}\n            className={pinned && 'pinned'}\n          >\n            {hasBackdrop && (\n              <div\n                style={{flex: 1}}\n                onClick={event => {\n                  event.stopPropagation()\n                  hidePanel(event)\n                }}\n              />\n            )}\n            {cloneElement(content[0] || content, {\n              active: panelOpen,\n              close: hidePanel,\n            })}\n          </div>\n        )\n      }\n    )}\n  </>\n)\n\nBottomPanels.propTypes = {\n  type: PropTypes.oneOf(['mobile', 'desktop']),\n  recommendation: PropTypes.object,\n  toolPanels: PropTypes.array,\n  activePanel: PropTypes.string,\n  hidePanel: PropTypes.func,\n  toggleRecommendationPanel: PropTypes.func,\n}\n\nexport default BottomPanels\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nconst subtitlesStyle = {\n  alignSelf: 'center',\n  display: 'flex',\n  flexDirection: 'column',\n  overflow: 'visible',\n  maxWidth: '100%',\n  position: 'absolute',\n  bottom: '6em',\n  color: '#e8e6e3',\n  textShadow: `#000 -1px -1px 0px, #000 1px -1px 0px, #000 -1px 1px 0px, #000 1px 1px 0px`,\n  whiteSpace: 'pre-line',\n  textAlign: 'center',\n}\n\nconst Subtitles = ({text}) => (\n  <div css={subtitlesStyle}>\n    <span>{text}</span>\n  </div>\n)\n\nSubtitles.propTypes = {\n  text: PropTypes.string,\n}\n\nexport default Subtitles\n","/* eslint-disable react/prop-types */\n/* @jsxImportSource @emotion/react */\n\nimport {ResizeObserver} from '@juggle/resize-observer'\nimport useDimensions from 'react-cool-dimensions'\n\nimport {useAutoHide} from 'Hooks'\nimport getComponents from 'player/getComponents'\nimport Message from 'context/I18n/Message'\nimport DefaultLayout from './DefaultLayout'\nimport BottomPanels from './BottomPanels'\nimport Subtitles from './Subtitles'\n\nconst sizes = {\n  'small-embed': 200,\n  embed: 400,\n  'tablet-portrait': 600,\n  'tablet-landscape': 900,\n  desktop: 1200,\n}\n\nconst PlayerUi = ({\n  type = 'mobile',\n  status,\n  ready,\n  seekable,\n  focused,\n  controlsDisplay,\n  title,\n  channelTitle,\n  adStatus,\n  subtitlesContent,\n  adUrl,\n  toolPanels,\n  recommendation,\n  activePanel,\n  haveBottomItem,\n  backRef,\n  hidePanel,\n  toggleRecommendationPanel,\n  Layout = DefaultLayout,\n  children,\n}) => {\n  const {mode, onClick, onMouseMove} = useAutoHide({\n    pinned: status !== 'playing' || focused,\n    tapToHide: type === 'mobile',\n  })\n  const {width, currentBreakpoint: size, ref: containerRef} = useDimensions({\n    polyfill: ResizeObserver,\n    breakpoints: sizes,\n  })\n  const {\n    PlayButton,\n    Seekbar,\n    LiveSeekbar,\n    RewindButton,\n    ForwardButton,\n    VolumeControl,\n    FunctionButtons,\n    FullScreenButton,\n    PreviousEpisodeButton,\n    NextEpisodeButton,\n    BackButton,\n    Loading,\n    PlayPane,\n    ErrorOverlay,\n    LinearEndedOverlay,\n    CastingOverlay,\n    AdSkipButton,\n  } = getComponents()\n  const controlButtons = {\n    playButton:\n      type === 'mobile' && status === 'buffering' ? (\n        <Loading\n          styles={{\n            position: 'static',\n            width: '3em',\n            margin: '1em',\n            backgroundColor: 'transparent',\n          }}\n        />\n      ) : (\n        <PlayButton />\n      ),\n    ...(!adStatus &&\n      seekable &&\n      ready &&\n      (type === 'mobile' || width >= sizes['tablet-portrait']) && {\n        previousEpisodeButton: <PreviousEpisodeButton />,\n        nextEpisodeButton: <NextEpisodeButton />,\n        rewindButton: <RewindButton />,\n        forwardButton: <ForwardButton />,\n      }),\n  }\n  const backItems =\n    status === 'buffering' ? (\n      <Loading styles={{backgroundColor: 'transparent'}} />\n    ) : (\n      <PlayPane />\n    )\n  const uiElements = adStatus\n    ? {\n        adLink: adUrl && (\n          <a href={adUrl} rel=\"noreferrer\" target=\"_blank\">\n            <Message code=\"KKS.SSAI.LEARN.MORE\" />\n          </a>\n        ),\n        adStatus,\n        adSkipButton: <AdSkipButton />,\n      }\n    : {\n        title,\n        channelTitle,\n        seekbar: seekable ? <Seekbar /> : <LiveSeekbar />,\n        functionButtons: ready &&\n          (type === 'mobile' || width >= sizes['small-embed']) && (\n            <FunctionButtons full={type === 'mobile' || width >= sizes.embed} />\n          ),\n      }\n\n  return (\n    <Layout\n      type={type}\n      display={mode}\n      controlsDisplay={controlsDisplay || mode}\n      size={size}\n      haveBottomItem={haveBottomItem && !adStatus}\n      {...uiElements}\n      controlButtons={controlButtons}\n      volumeControl={\n        width >= sizes['small-embed'] && (\n          <VolumeControl displaySlider={width >= 300} />\n        )\n      }\n      fullscreenButton={ready && <FullScreenButton />}\n      backButton={<BackButton />}\n      backItems={backItems}\n      containerRef={containerRef}\n      backRef={backRef}\n      {...{onClick, onMouseMove}}\n    >\n      <Subtitles text={subtitlesContent?.text} />\n      {!adStatus && (\n        <BottomPanels\n          type={type}\n          toolPanels={toolPanels}\n          recommendation={recommendation}\n          activePanel={activePanel}\n          hidePanel={hidePanel}\n          toggleRecommendationPanel={toggleRecommendationPanel}\n        />\n      )}\n      {status === 'error' ? (\n        <ErrorOverlay />\n      ) : status === 'casting' ? (\n        <CastingOverlay />\n      ) : status === 'loading' ? (\n        <Loading />\n      ) : status === 'linearEnded' ? (\n        <LinearEndedOverlay />\n      ) : (\n        ''\n      )}\n      {children}\n    </Layout>\n  )\n}\n\nexport default PlayerUi\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nimport icon from 'style/icon'\n\nconst sizes = {\n  normal: {\n    bottom: '1rem',\n    padding: '0.5rem',\n    width: '18.5rem',\n    height: '5.25rem',\n    fontSize: '12px',\n    '--spacing': '0rem',\n  },\n  big: {\n    bottom: '5rem',\n    padding: '0.75rem',\n    width: '32rem',\n    height: '10rem',\n    fontSize: '20px',\n    '--spacing': '0.5rem',\n  },\n}\n\nconst style = {\n  container: {\n    position: 'absolute',\n    zIndex: '-1',\n    right: '0',\n    display: 'flex',\n    borderRadius: '4px',\n    color: '#fff',\n    backgroundColor: 'rgba(20, 20, 20, 0.8)',\n    opacity: '0',\n    transition: 'opacity 1s ease',\n  },\n  opening: {\n    zIndex: 'inherit',\n    opacity: '1',\n  },\n  cover: imageUrl => ({\n    flex: '0 40%',\n    border: 'none',\n    borderRadius: '4px',\n    background: `\n      center / 33% no-repeat url(${icon.playCircleBorder}),\n      ${imageUrl ? `center / cover url(${imageUrl}),` : ''} \n      #ccc\n    `,\n  }),\n  info: {\n    marginLeft: '0.5rem',\n    flex: '1',\n  },\n  message: {\n    marginBottom: ['1rem', 'var(--spacing)'],\n    display: 'flex',\n  },\n  dismiss: {\n    marginLeft: 'auto',\n    width: ['2rem', 'calc(1.5rem + var(--spacing))'],\n    height: ['2rem', 'calc(1.5rem + var(--spacing))'],\n    border: 'none',\n    background: `center / 1rem no-repeat url(${icon.close}), transparent`,\n  },\n}\n\nconst PlayDialog = ({\n  opening,\n  coverImageUrl,\n  message,\n  title,\n  size,\n  containerRef,\n  play,\n  dismiss,\n  ...rest\n}) => (\n  <div\n    css={[style.container, sizes[size], opening && style.opening]}\n    ref={containerRef}\n    {...rest}\n  >\n    <button\n      css={style.cover(coverImageUrl)}\n      onClick={play}\n      className=\"kks-player__next-episode-button\"\n    />\n    <div css={style.info}>\n      <div css={style.message}>\n        {message}\n        <button\n          css={style.dismiss}\n          onClick={dismiss}\n          className=\"kks-player__cancel-autoplay-button\"\n        />\n      </div>\n      {title}\n    </div>\n  </div>\n)\n\nPlayDialog.propTypes = {\n  opening: PropTypes.bool,\n  coverImageUrl: PropTypes.string,\n  message: PropTypes.node,\n  title: PropTypes.node,\n  size: PropTypes.string,\n  containerRef: PropTypes.object,\n  play: PropTypes.func,\n  dismiss: PropTypes.func,\n}\n\nexport default PlayDialog\n","import _get from 'dlv'\nimport {useState, useEffect, useContext} from 'react'\nimport {ResizeObserver} from '@juggle/resize-observer'\nimport useDimensions from 'react-cool-dimensions'\n\nimport {useUiRef} from 'player/playerContext'\nimport PlayDialog from 'component/PlayDialog'\nimport {Context} from 'player/store'\nimport UIAction from 'player/store/action/UI'\nimport I18n from 'context/I18n'\nimport {ModuleState} from 'Enum'\n\nconst useCountdownSecond = ({time, enabled}) => {\n  const [timeLeft, setTimeLeft] = useState()\n\n  useEffect(() => {\n    if (!enabled) return\n\n    setTimeLeft(time)\n    const intervalId = setInterval(\n      () => setTimeLeft(current => current - 1),\n      1000\n    )\n\n    return () => clearInterval(intervalId)\n  }, [time, enabled])\n\n  return timeLeft\n}\n\nconst AutoplayDialog = () => {\n  const {currentBreakpoint} = useDimensions({\n    ref: useUiRef(),\n    polyfill: ResizeObserver,\n    breakpoints: {\n      normal: 0,\n      big: 600,\n    },\n  })\n  const {\n    state: {autoplayDialogOpening: opening},\n    dispatch,\n  } = useContext(Context.UI)\n  const {\n    state: {content},\n  } = useContext(Context.API)\n  const {\n    state: {state: moduleState},\n  } = useContext(Context.Module)\n  const {\n    id,\n    title,\n    images: [{url: coverImageUrl}],\n  } = _get(content, 'recommend.next') || {images: [{}]}\n  const playNext = () => {\n    dispatch(UIAction.changeNextEpisode(id))\n  }\n  const timeLeft = useCountdownSecond({time: 10, enabled: opening})\n\n  useEffect(() => {\n    if (timeLeft <= 0) playNext()\n  }, [timeLeft > 0])\n\n  return (\n    <PlayDialog\n      className=\"kks-player__autoplay pinned\"\n      opening={opening && moduleState !== ModuleState.ERROR}\n      message={\n        <I18n.Message code=\"KKS.ENDROLL.COUNTDOWN\" property={{timeLeft}} />\n      }\n      title={title}\n      coverImageUrl={coverImageUrl}\n      size={currentBreakpoint}\n      play={playNext}\n      dismiss={() => dispatch(UIAction.dismissAutoplay())}\n    />\n  )\n}\n\nexport default AutoplayDialog\n","/* @jsxImportSource @emotion/react */\nimport {useState, useEffect, useContext, useRef, Fragment} from 'react'\nimport PropTypes from 'prop-types'\nimport classnames from 'classnames'\nimport useOnclickOutside from 'react-cool-onclickoutside'\n\nimport {useChangeSettings, useSettings} from 'player/settings'\nimport {Context} from 'player/store'\nimport Action from 'player/store/action/UI'\nimport icon from 'style/icon'\nimport {FormattedMessage} from 'context/I18n'\n\nconst style = {\n  head: {\n    position: 'sticky',\n    zIndex: '1',\n    top: '0',\n    display: 'flex',\n    alignItems: 'center',\n    padding: '1rem 1.5rem',\n    color: 'white',\n    backgroundColor: 'inherit',\n    fontSize: '16px',\n    fontWeight: 'bold',\n    button: {\n      marginRight: '1rem',\n      padding: '0',\n      width: '1rem',\n      height: '1rem',\n      border: 'none',\n    },\n  },\n  overlay: {\n    position: 'absolute',\n    zIndex: '-2',\n    top: '0',\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'rgba(0, 0, 0, 0.6)',\n    opacity: '0',\n    transition: 'opacity 0.2s ease, transform 0s ease 0.2s',\n  },\n  container: {\n    flex: '0 18rem',\n    maxHeight: 'calc(100% - 2rem)',\n    color: '#ccc',\n    background: '#333333',\n    whiteSpace: 'nowrap',\n    borderRadius: '4px',\n    userSelect: 'none',\n    overflow: 'auto',\n  },\n  opening: {\n    zIndex: '0',\n    opacity: '1',\n    transform: 'translateY(0)',\n    transition: 'opacity 0.2s ease',\n  },\n  title: {\n    padding: '12px 18px',\n  },\n  dismiss: {\n    background: `center / 1rem no-repeat url(${icon.close}), transparent`,\n  },\n  back: {\n    background: `center / 1rem no-repeat url(${icon.back}), transparent`,\n  },\n  row: {\n    cursor: 'pointer',\n    display: 'flex',\n    padding: '1rem 1.5rem',\n    fontSize: '16px',\n    '::after': {\n      content: '\" \"',\n      marginLeft: '1rem',\n      width: '20px',\n      height: '20px',\n      display: 'inline-block',\n      color: 'white',\n      backgroundPosition: 'center',\n      backgroundSize: 'cover',\n    },\n  },\n  space: {\n    flex: '1',\n  },\n  hasOptions: {\n    '::after': {\n      backgroundImage: `url(${icon.arrowTop})`,\n      transform: 'rotate(90deg)',\n    },\n  },\n  selected: {\n    '::after': {\n      backgroundImage: `url(${icon.check})`,\n    },\n  },\n}\n\nconst dekstopStyle = {\n  overlay: {\n    position: 'absolute',\n    bottom: '5em',\n    right: '3rem',\n    display: 'flex',\n    alignItems: 'flex-end',\n    width: '15rem',\n    height: 'calc(100% - 8rem)',\n    opacity: '0',\n    transform: 'translateY(-100vh)',\n  },\n  container: {\n    ...style.container,\n    maxHeight: '100%',\n    background: 'rgba(0, 0, 0, 0.7)',\n  },\n  head: {\n    ...style.head,\n    background: '#000',\n  },\n  row: {\n    ...style.row,\n    '::after': {},\n    '::before': {\n      ...style.row['::after'],\n      marginLeft: '0',\n      marginRight: '4px',\n    },\n  },\n  hasOptions: {\n    '::before': {\n      backgroundImage: `url(${icon.arrowTop})`,\n      transform: 'rotate(90deg)',\n    },\n  },\n  selected: {\n    '::before': {\n      backgroundImage: `url(${icon.check})`,\n    },\n  },\n}\n\nconst MenuItemText = ({text}) => (\n  <FormattedMessage id={`KKS.SETTING.${text}`} getDefault={() => text} />\n)\n\nMenuItemText.propTypes = {\n  text: PropTypes.string,\n}\n\nconst MenuSection = ({sharedStyle, items = [], selectedValue, onSelect}) => (\n  <div className=\"kks-player__menu-content\">\n    {items.map(({value, label}) => (\n      <div\n        key={value}\n        className={classnames('kks-player__menu-item', {\n          'kks-player__menu-item--selected': selectedValue === value,\n        })}\n        css={[sharedStyle.row, selectedValue === value && sharedStyle.selected]}\n        onClick={() => onSelect(value)}\n      >\n        <MenuItemText text={label || value} />\n        <div css={[style.space]} />\n      </div>\n    ))}\n  </div>\n)\n\nMenuSection.propTypes = {\n  sharedStyle: PropTypes.object,\n  items: PropTypes.array,\n  selectedValue: PropTypes.string,\n  MenuItem: PropTypes.elementType,\n  onSelect: PropTypes.func,\n}\n\nconst PlayerSettings = ({desktop, hasBottomPanel}) => {\n  const sharedStyle = desktop ? dekstopStyle : style\n  const {\n    state: {isSettingsOpen},\n    dispatch,\n  } = useContext(Context.UI)\n  const [path, setPath] = useState('/')\n  const menuSections = useSettings()\n  const changeSettings = useChangeSettings()\n\n  useEffect(() => {\n    if (!isSettingsOpen) {\n      setPath('/')\n    }\n  }, [isSettingsOpen])\n\n  const ref = useRef()\n  useOnclickOutside(\n    () => {\n      if (isSettingsOpen) {\n        dispatch(Action.hideMenu())\n      }\n    },\n    {\n      refs: [ref],\n      eventTypes: ['click'],\n    }\n  )\n\n  return (\n    <div\n      css={[\n        sharedStyle.overlay,\n        isSettingsOpen && style.opening,\n        hasBottomPanel && {\n          bottom: '8em',\n        },\n      ]}\n    >\n      <div ref={ref} className=\"kks-player__menu\" css={sharedStyle.container}>\n        {path === '/' && (\n          <Fragment>\n            <div className=\"kks-player__menu-head\" css={sharedStyle.head}>\n              {!desktop && (\n                <button\n                  css={style.dismiss}\n                  onClick={() => dispatch(Action.hideMenu())}\n                />\n              )}\n              <FormattedMessage id=\"KKS.SETTING\" />\n            </div>\n            {menuSections.map(({section, title, items, selectedValue}) => {\n              const selectedName =\n                items.find(item => item.value === selectedValue)?.label ||\n                selectedValue\n\n              return (\n                <div\n                  css={[style.row, style.hasOptions]}\n                  key={section}\n                  onClick={() => setTimeout(() => setPath(`/${section}`), 1)}\n                >\n                  <FormattedMessage id={title} />\n                  <div css={[style.space]} />\n                  <MenuItemText text={selectedName} />\n                </div>\n              )\n            })}\n          </Fragment>\n        )}\n        {menuSections.map(\n          ({section, title, items, selectedValue}) =>\n            path === `/${section}` && (\n              <Fragment key={section}>\n                <div className=\"kks-player__menu-head\" css={sharedStyle.head}>\n                  <button\n                    css={style.back}\n                    onClick={() => setTimeout(() => setPath('/'), 1)}\n                  />\n                  <FormattedMessage id={title} />\n                </div>\n                <MenuSection\n                  key={section}\n                  sharedStyle={sharedStyle}\n                  {...{items, selectedValue}}\n                  onSelect={value => {\n                    dispatch(Action.hideMenu())\n                    if (value !== selectedValue) {\n                      changeSettings({section, value})\n                    }\n                  }}\n                />\n              </Fragment>\n            )\n        )}\n      </div>\n    </div>\n  )\n}\n\nPlayerSettings.propTypes = {\n  desktop: PropTypes.bool,\n  hasBottomPanel: PropTypes.bool,\n}\n\nexport default PlayerSettings\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\nimport shallow from 'zustand/shallow'\n\nimport useStore from 'player/store/useStore'\nimport {useOptions} from 'player/playerContext'\nimport getPlaybackInfo from 'player/store/getPlaybackInfo'\nimport useUiActions from 'player/store/useUiActions'\nimport {isDesktop} from 'util/environment'\nimport CoverImageWrap from 'player/container/CoverImageWrap'\nimport SimplePlayerUi from 'playerUi/index'\nimport AutoplayDialog from './AutoplayDialog'\nimport PlayerSettings from './PlayerSettings'\n\nconst PlayerUi = ({coverImageUrl, backRef}) => {\n  const {recommendation, toolPanels} = useOptions()\n\n  return (\n    <CoverImageWrap url={coverImageUrl}>\n      <SimplePlayerUi\n        type={isDesktop() ? 'desktop' : 'mobile'}\n        {...useStore(getPlaybackInfo, shallow)}\n        backRef={backRef}\n        toolPanels={toolPanels}\n        recommendation={recommendation}\n        {...useUiActions()}\n        haveBottomItem={Boolean(recommendation)}\n      >\n        <PlayerSettings\n          desktop={isDesktop()}\n          hasBottomPanel={Boolean(recommendation)}\n        />\n      </SimplePlayerUi>\n      <AutoplayDialog />\n    </CoverImageWrap>\n  )\n}\n\nPlayerUi.propTypes = {\n  coverImageUrl: PropTypes.string,\n  backRef: PropTypes.object,\n}\n\nexport default PlayerUi\n","import {useContext, useEffect} from 'react'\nimport _get from 'dlv'\n\nimport {Context} from 'player/store/index'\nimport PlayerAction from 'player/store/action/Player'\nimport APIAction from 'player/store/action/API'\nimport {useTimeout} from 'Hooks'\nimport {APIState} from 'Enum'\n\nconst SYNC_INTERVAL = 10000\n\nconst useSyncLinearInfo = () => {\n  const {\n    state: {apiState, content},\n    dispatch,\n  } = useContext(Context.API)\n  const [setTimeout, clearTimer] = useTimeout()\n\n  useEffect(() => {\n    if (apiState === APIState.READY && content.contentType === 'lives') {\n      if (_get(content, 'end')) {\n        dispatch(PlayerAction.pause())\n      } else {\n        setTimeout(() => dispatch(APIAction.refreshContent()), SYNC_INTERVAL)\n        return clearTimer\n      }\n    }\n  }, [content, apiState])\n}\n\nexport {useSyncLinearInfo}\n","import {useEffect, useContext} from 'react'\n\nimport useStore from 'player/store/useStore'\nimport {Context} from 'player/store/index'\nimport APIAction from 'player/store/action/API'\nimport UIAction from 'player/store/action/UI'\n\nconst getEndedStatus = ({Player, API}) => {\n  if (Player.ended) {\n    return 'ended'\n  }\n  const endStartSeconds =\n    API.content?.time?.endStart || Player.process?.duration - 10\n\n  return Player.progress?.progressTime >= endStartSeconds ? 'end-start' : 'none'\n}\n\nconst getAutoplayNextActive = state => {\n  const endStatus = getEndedStatus(state)\n  const {API, UI} = state\n\n  return (\n    Boolean(API.content?.recommend?.next) &&\n    ((endStatus === 'end-start' && UI.streamEvents.length === 0) ||\n      endStatus === 'ended')\n  )\n}\n\nconst getCurrentTime = ({Player}) => Player.progress?.progressTime\n\nconst useUpdateLastPlayed = () => {\n  const playStatus = useStore(({Player}) =>\n    Player.seeking ? 'seeking' : Player.isPlaying ? 'playing' : 'paused'\n  )\n  const progressTime = useStore(state => Math.floor(getCurrentTime(state) / 10))\n  const isVod = useStore(({API}) => API.content?.contentType === 'videos')\n  const store = useContext(Context.Adapter)\n\n  useEffect(() => {\n    if (isVod && playStatus !== 'seeking') {\n      store.dispatch(\n        APIAction.updateLastPlayedTime(\n          getCurrentTime(store.useStore.getState())\n        )\n      )\n    }\n  }, [playStatus, progressTime])\n}\n\nconst useUpdateEnded = () => {\n  const endStatus = useStore(getEndedStatus)\n  const store = useContext(Context.Adapter)\n\n  useEffect(() => {\n    if (endStatus === 'ended') {\n      store.dispatch(APIAction.updatePlayedEnd())\n    }\n  }, [endStatus === 'ended'])\n}\n\nconst useAutoPlayNext = ({enabled}) => {\n  const active = useStore(state => enabled && getAutoplayNextActive(state))\n  const store = useContext(Context.Adapter)\n\n  useEffect(() => {\n    if (active) {\n      store.dispatch(UIAction.offerAutoplay())\n    }\n  }, [active])\n}\n\nconst useVodHandlers = ({autoPlayNext}) => {\n  useUpdateLastPlayed()\n  useUpdateEnded()\n  useAutoPlayNext({enabled: autoPlayNext})\n}\n\nexport {useVodHandlers}\n","/* eslint-disable react/prop-types */\n/* @jsxImportSource @emotion/react */\nimport {\n  useRef,\n  forwardRef,\n  Fragment,\n  useEffect,\n  useContext,\n  useMemo,\n} from 'react'\nimport PropTypes from 'prop-types'\n\nimport Types from 'Types'\nimport {LanguageCode, CastState} from 'Enum'\nimport defaultConfig from 'config'\n\nimport StoreProvider, {Context} from 'player/store/index'\nimport UiAction from 'player/store/action/UI'\n\nimport CastAdapter from 'player/store/adapter/Cast'\nimport LimitOnePlaybackAdapter from 'player/store/adapter/LimitOnePlayback'\nimport LocalStorageAdapter from 'player/store/adapter/LocalStorage'\nimport APIAdapter from 'player/store/adapter/API/Service'\nimport EventAdapter from 'player/store/adapter/Event'\nimport Agent from 'player/store/adapter/Agent'\nimport EnvironmentValidator from 'player/store/adapter/EnvironmentValidator'\nimport MobileSafariPlugin from 'player/store/adapter/MobileSafariPlugin'\nimport OTP_1878 from 'player/store/adapter/OTP_1878'\nimport I18n from 'context/I18n'\nimport {useCastContext} from 'cast/context'\n\nimport DeviceDetecter from 'component/DeviceDetecter'\nimport PlayerVideo from './PlayerVideo'\nimport PlayerUi from './container/PlayerUi'\nimport {PlayerProvider} from './playerContext'\nimport {useSyncLinearInfo} from './linear'\nimport {useVodHandlers} from './vod'\nimport createStore from './store/createStore'\n\nconst containerStyle = {\n  userSelect: 'none',\n  position: 'relative',\n  display: 'block',\n  width: '100%',\n  height: '100%',\n  fontSize: '16px',\n}\n\n// TODO: these are totally nothing to do with UI structures\n// and should be refactored into custom hooks\nconst PlaybackHooks = ({\n  host,\n  accessToken,\n  deviceId,\n  content,\n  customHeader,\n  customQuery,\n  preload,\n  autoPlayNext,\n  mediaSource,\n  thumbnailSeeking,\n  supportEnvironmentList,\n  limitOnePlaybackAtSameTime,\n  recommendation,\n\n  playerRef,\n  containerRef,\n  onError,\n  onBack,\n  onVideoQualityChanged,\n  onMediaSourceChanged,\n  onViewModeChange,\n  onEnterFullscreen,\n  onExitFullscreen,\n  onReplay,\n  onChangeVideo,\n  onChangeToNextVideo,\n  onChangeToPreviousVideo,\n  onSectionChange,\n}) => {\n  const {castState} = useCastContext().state\n  const {dispatch} = useContext(Context.Module)\n  useSyncLinearInfo()\n  useVodHandlers({autoPlayNext})\n\n  useEffect(() => {\n    if (recommendation) {\n      dispatch(UiAction.enableRecommendationPanel())\n    } else {\n      dispatch(UiAction.disableRecommendationPanel())\n    }\n  }, [Boolean(recommendation)])\n\n  useEffect(() => {\n    if (thumbnailSeeking) {\n      dispatch(UiAction.enableThumbnailSeeking())\n    } else {\n      dispatch(UiAction.disableThumbnailSeeking())\n    }\n  }, [Boolean(thumbnailSeeking)])\n\n  return (\n    <Fragment>\n      {castState !== CastState.CONNECTED && (\n        <APIAdapter\n          host={host}\n          accessToken={accessToken}\n          deviceId={deviceId}\n          content={content}\n          customHeader={customHeader}\n          customQuery={customQuery}\n          preferredConfig={{\n            needThumbnailSeeking: thumbnailSeeking,\n            preferredMediaSource: mediaSource,\n          }}\n        />\n      )}\n      <LocalStorageAdapter />\n      <LimitOnePlaybackAdapter enabled={limitOnePlaybackAtSameTime} />\n\n      <EventAdapter\n        content={content}\n        onError={onError}\n        onBack={onBack}\n        onReplay={onReplay}\n        onVideoQualityChanged={onVideoQualityChanged}\n        onMediaSourceChanged={onMediaSourceChanged}\n        onChangeVideo={onChangeVideo}\n        onChangeToNextVideo={onChangeToNextVideo}\n        onChangeToPreviousVideo={onChangeToPreviousVideo}\n        onSectionChange={onSectionChange}\n      />\n      {castState !== CastState.CONNECTED && (\n        <Agent preload={preload} playerRef={playerRef} />\n      )}\n      <EnvironmentValidator supportEnvironmentList={supportEnvironmentList} />\n      <CastAdapter\n        content={content}\n        mediaSource={mediaSource}\n        customQuery={customQuery}\n      />\n      <DeviceDetecter>\n        {({os: {name}}) =>\n          name === 'iOS' && (\n            <MobileSafariPlugin\n              containerRef={containerRef}\n              onViewModeChange={onViewModeChange}\n              onEnterFullscreen={onEnterFullscreen}\n              onExitFullscreen={onExitFullscreen}\n            />\n          )\n        }\n      </DeviceDetecter>\n      <DeviceDetecter>\n        {({os: {name}, touchable}) =>\n          name === 'Mac OS' && touchable && <OTP_1878 />\n        }\n      </DeviceDetecter>\n    </Fragment>\n  )\n}\n\n// eslint-disable-next-line react/display-name\nconst Player = forwardRef(\n  (\n    {\n      licenseKey,\n      config = defaultConfig.BitmovinConfig,\n      host,\n      accessToken,\n      deviceId,\n      content,\n      customHeader = {},\n      customQuery = {},\n      lang = LanguageCode.EN,\n      langCustomCode = {},\n      preload = 'auto',\n      autoPlay,\n      autoPlayNext,\n      startTime,\n      quality,\n      mediaSource,\n      thumbnailSeeking,\n      supportEnvironmentList,\n      limitOnePlaybackAtSameTime,\n      recommendation,\n      toolPanels = [],\n      coverImageUrl,\n      widevine,\n      plugins = [],\n      drm,\n\n      onSourceLoaded,\n      onReady,\n      onPlay,\n      onPaused,\n      onPlaying,\n      onEnded,\n      onError,\n      onBack,\n      onTimeChanged,\n      onSeek,\n      onSeeked,\n      onVolumeChanged,\n      onMuted,\n      onUnmuted,\n      onVideoQualityChanged,\n      onMediaSourceChanged,\n      onViewModeChange,\n      onEnterFullscreen,\n      onExitFullscreen,\n      onStallStarted,\n      onStallEnded,\n      onReplay,\n      onChangeVideo,\n      onChangeToNextVideo,\n      onChangeToPreviousVideo,\n      onLogging,\n      onSectionChange,\n    },\n    ref\n  ) => {\n    const videoRef = useRef()\n    const containerRef = useRef()\n    const adContainerRef = useRef()\n    const options = {\n      host,\n      accessToken,\n      deviceId,\n      content,\n      customHeader,\n      customQuery,\n      lang,\n      langCustomCode,\n      preload,\n      autoPlay,\n      autoPlayNext,\n      quality,\n      mediaSource,\n      thumbnailSeeking,\n      supportEnvironmentList,\n      limitOnePlaybackAtSameTime,\n      recommendation,\n      toolPanels,\n      plugins,\n    }\n    const store = useMemo(() => createStore(), [])\n\n    return (\n      <div className=\"kks-player\" css={containerStyle} ref={containerRef}>\n        <PlayerProvider\n          videoRef={videoRef}\n          content={content}\n          options={options}\n          uiRef={containerRef}\n          sendLog={onLogging}\n        >\n          <StoreProvider store={store} options={options}>\n            <PlayerVideo\n              licenseKey={licenseKey}\n              config={config}\n              autoPlay={autoPlay || preload === 'none'}\n              startTime={startTime}\n              quality={quality}\n              containerRef={containerRef}\n              widevine={widevine}\n              drm={drm}\n              plugins={plugins}\n              onSourceLoaded={onSourceLoaded}\n              onReady={onReady}\n              onPlay={onPlay}\n              onPaused={onPaused}\n              onPlaying={onPlaying}\n              onEnded={onEnded}\n              onTimeChanged={onTimeChanged}\n              onSeek={onSeek}\n              onSeeked={onSeeked}\n              onVolumeChanged={onVolumeChanged}\n              onMuted={onMuted}\n              onUnmuted={onUnmuted}\n              onViewModeChange={onViewModeChange}\n              onEnterFullscreen={onEnterFullscreen}\n              onExitFullscreen={onExitFullscreen}\n              onStallStarted={onStallStarted}\n              onStallEnded={onStallEnded}\n              adContainerRef={adContainerRef}\n            />\n            <I18n.Provider lang={lang} langCustomCode={langCustomCode}>\n              <PlayerUi\n                coverImageUrl={coverImageUrl}\n                backRef={adContainerRef}\n              />\n            </I18n.Provider>\n            <PlaybackHooks\n              {...{\n                ...options,\n                playerRef: ref,\n                containerRef,\n                onError,\n                onBack,\n                onVideoQualityChanged,\n                onMediaSourceChanged,\n                onViewModeChange,\n                onEnterFullscreen,\n                onExitFullscreen,\n                onReplay,\n                onChangeVideo,\n                onChangeToNextVideo,\n                onChangeToPreviousVideo,\n                onSectionChange,\n              }}\n            />\n          </StoreProvider>\n        </PlayerProvider>\n      </div>\n    )\n  }\n)\n\nPlayer.propTypes = {\n  licenseKey: PropTypes.string.isRequired,\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n  deviceId: PropTypes.string,\n  content: Types.VideoInfo,\n  lang: Types.LanguageCode,\n  langCustomCode: PropTypes.object,\n  customHeader: PropTypes.object,\n  customQuery: PropTypes.object,\n  thumbnailSeeking: PropTypes.bool,\n  limitOnePlaybackAtSameTime: PropTypes.bool,\n  preload: PropTypes.oneOf(['auto', 'none']),\n  autoPlay: PropTypes.bool,\n  autoPlayNext: PropTypes.bool,\n  startTime: PropTypes.number,\n  quality: PropTypes.object,\n  mediaSource: PropTypes.string,\n  supportEnvironmentList: PropTypes.arrayOf(Types.SupportEnvironmentItem),\n  config: PropTypes.object,\n  toolPanels: PropTypes.array,\n  recommendation: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n  coverImageUrl: PropTypes.string,\n  widevine: PropTypes.string,\n  plugins: PropTypes.array,\n\n  onError: PropTypes.func,\n  onSourceLoaded: PropTypes.func,\n  onReady: PropTypes.func,\n  onPlay: PropTypes.func,\n  onPlaying: PropTypes.func,\n  onSeek: PropTypes.func,\n  onSeeked: PropTypes.func,\n  onPaused: PropTypes.func,\n  onTimeChanged: PropTypes.func,\n  onVolumeChanged: PropTypes.func,\n  onMuted: PropTypes.func,\n  onUnmuted: PropTypes.func,\n  onStallStarted: PropTypes.func,\n  onStallEnded: PropTypes.func,\n  onReplay: PropTypes.func,\n  onVideoQualityChanged: PropTypes.func,\n  onMediaSourceChanged: PropTypes.func,\n  onEnded: PropTypes.func,\n  onEnterFullscreen: PropTypes.func,\n  onExitFullscreen: PropTypes.func,\n  onViewModeChange: PropTypes.func,\n  onChangeVideo: PropTypes.func,\n  onChangeToNextVideo: PropTypes.func,\n  onChangeToPreviousVideo: PropTypes.func,\n  onBack: PropTypes.func,\n  onSectionChange: PropTypes.func,\n  onSourceUnloaded: PropTypes.func,\n  onLogging: PropTypes.func,\n}\n\nexport default Player\n","import {forwardRef} from 'react'\nimport {getEnterpriseDrmConfig} from 'playerCore/drm'\nimport DefaultPlayer from 'player'\n\nconst EnterprisePlayer = forwardRef((props, ref) => (\n  <DefaultPlayer\n    {...{\n      drm: getEnterpriseDrmConfig,\n      ...props,\n    }}\n    ref={ref}\n  />\n))\n\nexport {EnterprisePlayer as Player}\n","/** @param {string} m3u8Manifest */\nconst getManifestUrl = ({url, data}) => {\n  const lines = data.split('\\n')\n  const i = lines.findIndex(line => line.startsWith('#EXT-X-STREAM-INF'))\n  return i >= 0 ? new URL(lines[i + 1], url) : ''\n}\n\n/** @param {string} url */\nconst fetchManifests = async url => {\n  if (!url.toString().split('?')[0].endsWith('.m3u8')) {\n    return fetch(url)\n  }\n  const data = await fetch(url).then(result => result.text())\n  const innerUrl = getManifestUrl({url, data})\n  return innerUrl && fetchManifests(innerUrl)\n}\n\nexport default fetchManifests\n","/* eslint-disable class-methods-use-this */\n/* eslint-disable no-underscore-dangle */\nconst _IsNumber = value => typeof value === 'number' && value >= 0\n\nconst AD_TIME_EVENT_TYPE = [\n  'impression',\n  'start',\n  'firstQuartile',\n  'midpoint',\n  'thirdQuartile',\n  'complete',\n]\n\nconst doNothing = () => {}\n\nconst getSkipTimeOffset = ad => {\n  if (!ad.skipOffset) {\n    return\n  }\n  const percentageOffset = (ad.skipOffset?.match(/\\d+/)?.[0] || 0) / 100\n  // 00:01:07 -> 67\n  const timeOffset = (ad.skipOffset?.match(/(\\d+):(\\d+):(\\d+)/) || [])\n    .slice(1, 4)\n    .reduce((last, time) => last * 60 + +time, 0)\n  return (\n    ad.startTimeInSeconds + timeOffset + ad.durationInSeconds * percentageOffset\n  )\n}\n\nconst inRange = ({startTimeInSeconds, durationInSeconds}, time) =>\n  startTimeInSeconds <= time && time <= startTimeInSeconds + durationInSeconds\n\nconst getCurrentAd = (adBreak, streamTime) =>\n  (adBreak?.ads || []).find(ad => inRange(ad, streamTime)) || {}\n\nconst adEventData = (instance, ad) => {\n  const streamTime = instance._common.currentPosition\n  const currentAd = getCurrentAd(ad, streamTime)\n\n  return {\n    getAd: () => ({\n      getSkipTimeOffset: () => getSkipTimeOffset(currentAd),\n    }),\n    getStreamData: () => {\n      const adItems = [].concat(\n        ...instance.waitingForPlayAds.map(avail => avail.ads)\n      )\n      const adPosition =\n        1 + adItems.findIndex(item => inRange(item, streamTime))\n      const adProgressData = {\n        adPosition,\n        totalAds: adItems.length,\n        currentTime: streamTime - currentAd.startTimeInSeconds,\n        duration: currentAd.durationInSeconds,\n        clickThroughUrl: currentAd.trackingEvents?.find(\n          event => event.eventType === 'clickThrough'\n        )?.beaconUrls[0],\n      }\n\n      return {adProgressData}\n    },\n  }\n}\n\nexport default class Impression {\n  constructor({\n    seek,\n    onAdBreakStarted = doNothing,\n    onAdProgress = doNothing,\n    onAdBreakEnded = doNothing,\n    onSkippableStateChanged = doNothing,\n  } = {}) {\n    this._common = {\n      adBreaks: [],\n      currentPosition: -1,\n      seek,\n      onAdBreakStarted,\n      onAdProgress,\n      onSkippableStateChanged,\n      onAdBreakEnded,\n    }\n\n    this.currentAd = null\n    this.waitingForPlayAds = []\n    this.waitingForPlayAdIndex = null\n    this.resumeUserSeekTime = null\n    this.resumeAdStartTime = null\n    this.isResumed = null\n    this.checkAdEventProcess = null\n  }\n\n  /**\n   * @description\n   * @param {object[]} value\n   */\n  set adBreaks(value) {\n    this._common.adBreaks = value\n\n    if (_IsNumber(value.length)) this.checkAdCueTone()\n  }\n\n  /**\n   * @description when position is updated, check if ad is started or ended\n   * @param {number} value current position in seconds\n   */\n  set currentPosition(value) {\n    this._common.currentPosition = value\n\n    if (_IsNumber(this._common.adBreaks.length)) this.checkAdCueTone()\n  }\n\n  // TODO: send ad status (current ad index, count, total duration)\n\n  getAdIndex(target) {\n    if (!target) return null\n\n    return this._common.adBreaks.findIndex(ad => ad.availId === target.availId)\n  }\n\n  // 取得播放時間是在哪個廣告區間\n  getActiveAdIndex(time) {\n    const {adBreaks = []} = this._common\n    const index = adBreaks.findIndex(ad => {\n      const {startTime, endTime} = this.getAdTimingInfo(ad)\n\n      return time >= startTime && time <= endTime\n    })\n    const position = (adBreaks[index]?.ads || []).findIndex(ad =>\n      inRange(ad, time)\n    )\n\n    return {index, position}\n  }\n\n  // 檢查播放時間是否在所提供的區間\n  isWithinTimeRange(target, startTime, endTime) {\n    return target >= startTime && target <= endTime\n  }\n\n  // 取得該廣告的起始/結束時間\n  getAdTimingInfo(adInfo = {}) {\n    const adStartTime = adInfo.startTimeInSeconds || 0\n    const adDuration = adInfo.durationInSeconds || 0\n\n    return {\n      startTime: adStartTime,\n      endTime: adStartTime + adDuration,\n    }\n  }\n\n  // 取得跳過的廣告\n  getSkippedAds(time) {\n    return this._common.adBreaks.filter(\n      ad =>\n        this._common.currentPosition <= ad.startTimeInSeconds &&\n        ad.startTimeInSeconds <= time &&\n        !ad.isFired\n    )\n  }\n\n  setAdIsFiredByIndex() {}\n\n  checkAdCueTone() {\n    const {adBreaks, currentPosition, seek} = this._common\n    const {index: activeAdIndex, position} = this.getActiveAdIndex(\n      currentPosition\n    )\n\n    if (this.currentAd) {\n      if (!this.checkAdEventProcess) {\n        this.checkAdEventProcess = this.checkAdEvent()\n      }\n      this.checkAdEventProcess({index: activeAdIndex, position})\n    }\n\n    if (this.waitingForPlayAds.length > 0) {\n      const {\n        startTime: currentAdStartTime,\n        endTime: currentAdEndTime,\n      } = this.getAdTimingInfo(this.currentAd)\n      const isAdStillPlaying = this.isWithinTimeRange(\n        currentPosition,\n        currentAdStartTime,\n        currentAdEndTime\n      )\n\n      if (!isAdStillPlaying) {\n        // Ad finished\n        const nextAd = this.waitingForPlayAds[\n          `${this.waitingForPlayAdIndex + 1}`\n        ]\n\n        if (\n          currentPosition <\n          this.currentAd.startTimeInSeconds + this.currentAd.durationInSeconds\n        )\n          return\n\n        if (nextAd) {\n          // have non-played & skipped Ad\n          const adIndex = this.getAdIndex(this.currentAd)\n          const {startTime: nextAdStartTime} = this.getAdTimingInfo(nextAd)\n\n          this.setAdIsFiredByIndex(adIndex)\n          this.updateWaitingForPlayIndex(this.waitingForPlayAdIndex + 1)\n          this.updateCurrentAd(nextAd)\n          seek?.(nextAdStartTime)\n        } else {\n          // don't have non-played Ad\n          const adIndex = this.getAdIndex(this.currentAd)\n          this.setAdIsFiredByIndex(adIndex)\n          this.updateWaitingForPlayAds([])\n          this.updateWaitingForPlayIndex(null)\n          this.updateCurrentAd(null)\n          _IsNumber(this.resumeUserSeekTime) && seek?.(this.resumeUserSeekTime)\n          this.resumeUserSeekTime = null\n        }\n      }\n    } else if (activeAdIndex !== -1) {\n      if (!adBreaks[activeAdIndex].isFired) {\n        this.updateWaitingForPlayIndex(0)\n        this.updateWaitingForPlayAds(\n          adBreaks.slice(activeAdIndex, activeAdIndex + 1)\n        )\n        this.updateCurrentAd(adBreaks[activeAdIndex])\n      } else {\n        // in Ad duration but Ad was played\n        this.updateCurrentAd(adBreaks[`${activeAdIndex}`] || {})\n      }\n    } else {\n      // not in Ad duration\n      this.updateCurrentAd(null)\n    }\n  }\n\n  checkAdEvent() {\n    const state = {\n      lastPosition: undefined,\n      isSkippableEventFired: false,\n    }\n\n    return ({index, position}) => {\n      const streamTime = this._common.currentPosition\n      const currentBreak = this._common.adBreaks[index]\n      const currentAd = currentBreak?.ads[position]\n      if (!currentAd) {\n        return\n      }\n      if (position !== state.lastPosition) {\n        this._common.onAdProgress?.(adEventData(this, currentBreak))\n        Object.assign(state, {\n          lastPosition: position,\n          isSkippableEventFired: false,\n          trackingTypes: AD_TIME_EVENT_TYPE.slice(),\n        })\n      }\n      if (\n        !state.isSkippableEventFired &&\n        streamTime >= getSkipTimeOffset(currentAd)\n      ) {\n        state.isSkippableEventFired = true\n        this._common.onSkippableStateChanged({\n          getAd: () => ({isSkippable: () => true}),\n        })\n      }\n      if (!_IsNumber(streamTime) || currentAd.trackingEvents?.length <= 0)\n        return\n\n      currentAd.trackingEvents?.forEach(e => {\n        const {\n          eventType = '',\n          beaconUrls = [],\n          startTimeInSeconds = 0,\n          isFired,\n        } = e\n        const adEventIndex = state.trackingTypes.findIndex(\n          type => type === eventType\n        )\n\n        if (\n          !isFired &&\n          beaconUrls.length > 0 &&\n          streamTime >= startTimeInSeconds &&\n          adEventIndex !== -1\n        ) {\n          beaconUrls.forEach(url => {\n            fetch(url)\n          })\n          state.trackingTypes.splice(adEventIndex, 1)\n        }\n      })\n    }\n  }\n\n  /**\n   * @description To snapback if seeking over some ads\n   * @param {number} to\n   */\n  onSeek(to) {\n    const {adBreaks} = this._common\n    const skippedAds = this.getSkippedAds(to)\n    const seekTargetAdIndex = this.getActiveAdIndex(to)\n\n    if (!adBreaks || adBreaks.length <= 0) return\n\n    if (this.currentAd) {\n      // it's resume seek for seek to adStartTime\n    } else if (skippedAds.length > 0) {\n      this.updateWaitingForPlayAds(skippedAds)\n      this.updateWaitingForPlayIndex(0)\n      this.resumeUserSeekTime = seekTargetAdIndex === -1 ? to : null\n    } else if (\n      seekTargetAdIndex !== -1 &&\n      !_IsNumber(this.resumeAdStartTime) &&\n      !this.isResumed\n    ) {\n      const {startTime} = this.getAdTimingInfo(adBreaks[seekTargetAdIndex])\n      this.resumeAdStartTime = startTime\n    }\n  }\n\n  /** @description to seek to next ad after snapback */\n  onSeeked() {\n    const {adBreaks, seek} = this._common\n\n    if (!adBreaks || adBreaks.length <= 0) return\n\n    if (this.waitingForPlayAds.length > 0 && !this.currentAd) {\n      const nextAd =\n        this.waitingForPlayAds[`${this.waitingForPlayAdIndex}`] || {}\n      const {startTime: nextAdStartTime} = this.getAdTimingInfo(nextAd)\n\n      seek?.(nextAdStartTime)\n      this.updateCurrentAd(nextAd)\n    } else if (this.currentAd) {\n      // seek ended, playing skipped ad\n    } else if (_IsNumber(this.resumeAdStartTime)) {\n      _IsNumber(this.resumeAdStartTime) && seek?.(this.resumeAdStartTime)\n      this.resumeAdStartTime = null\n      this.isResumed = true\n    } else {\n      this.isResumed = false\n    }\n  }\n\n  updateCurrentAd(ad) {\n    if (!this.currentAd && ad) {\n      this._common.onAdBreakStarted?.(adEventData(this, ad))\n    } else if (this.currentAd && !ad) {\n      this._common.onAdBreakEnded?.({\n        getStreamData: () => this.getStreamData(),\n      })\n    }\n    this.currentAd = ad\n\n    if (!ad) {\n      this.checkAdEventProcess = null\n    }\n  }\n\n  updateWaitingForPlayAds(ads) {\n    this.waitingForPlayAds = ads.slice()\n  }\n\n  updateWaitingForPlayIndex(index) {\n    this.waitingForPlayAdIndex = index\n  }\n\n  /** @description mark all ads as played */\n  setAllAdsFired() {\n    this._common.adBreaks = this._common.adBreaks.map(ad => ({\n      ...ad,\n      isFired: true,\n    }))\n\n    this.updateWaitingForPlayAds([])\n    this.updateWaitingForPlayIndex(null)\n    this.updateCurrentAd(null)\n  }\n\n  /** @description clear data */\n  reset() {\n    this._common = {\n      adBreaks: [],\n      currentPosition: -1,\n      seek: null,\n    }\n\n    this.currentAd = null\n    this.waitingForPlayAds = []\n    this.waitingForPlayAdIndex = null\n    this.resumeUserSeekTime = null\n    this.resumeAdStartTime = null\n    this.isResumed = null\n    this.checkAdEventProcess = null\n  }\n\n  /** @description clear ad status */\n  resetSession() {\n    this._common = {\n      ...this._common,\n      currentPosition: 0,\n    }\n    this.resumeUserSeekTime = null\n    this.resumeAdStartTime = null\n    this.isResumed = null\n\n    this.updateWaitingForPlayAds([])\n    this.updateWaitingForPlayIndex(null)\n    this.updateCurrentAd(null)\n  }\n}\n","const getLastAd = (avails, streamTime) =>\n  avails.reduce(\n    (current, item) =>\n      current.startTimeInSeconds <= item.startTimeInSeconds &&\n      item.startTimeInSeconds <= streamTime\n        ? item\n        : current,\n    {startTimeInSeconds: 0, durationInSeconds: 0}\n  )\n\nconst getStreamTime = (avails, contentTime) =>\n  avails.reduce(\n    (time, item) =>\n      time + (time > item.startTimeInSeconds ? item.durationInSeconds : 0),\n    contentTime\n  )\n\nconst getContentTime = (avails, streamTime) =>\n  streamTime -\n  avails\n    .filter(item => item.startTimeInSeconds <= streamTime)\n    .map(item =>\n      Math.min(streamTime - item.startTimeInSeconds, item.durationInSeconds)\n    )\n    .reduce((a, b) => a + b, 0)\n\nexport {getLastAd, getStreamTime, getContentTime}\n","const seekingHandler = handleSeeking => {\n  const ref = {}\n  return video => {\n    if (\n      !(Math.abs(video.currentTime - ref.originTime) > 0.5) ||\n      video.webkitPresentationMode !== 'fullscreen'\n    ) {\n      ref.originTime = video.currentTime\n      return\n    }\n    handleSeeking({\n      originTime: ref.originTime,\n      seekTime: video.currentTime,\n    })\n    ref.originTime = video.currentTime\n  }\n}\n\nexport default seekingHandler\n","import mitt from 'mitt'\nimport axios from 'axios'\nimport fetchManifests from 'playerCore/fetchManifests'\nimport Impression from 'ad/impression'\nimport {getLastAd, getStreamTime, getContentTime} from 'ad/vast'\nimport seekingHandler from 'ad/seekingHandler'\n\nconst addFetchPolyfill = () => {\n  window.fetch = async (url, {method} = {}) => {\n    const result = await axios(url, {method})\n    return Promise.resolve({json: () => result.data})\n  }\n}\n\nconst fetchStreamInfo = async url =>\n  fetch(url, {method: 'POST'}).then(result => result.json())\n\nconst on = (eventTarget, eventName, handler) => {\n  eventTarget.addEventListener(eventName, handler)\n  return () => eventTarget.removeEventListener(eventName, handler)\n}\n\nconst once = (eventTarget, eventName, handler) => {\n  const listener = (...args) => {\n    eventTarget.removeEventListener(eventName, listener)\n    return handler(...args)\n  }\n  eventTarget.addEventListener(eventName, listener)\n}\n\nconst seekVideo = (videoElement, streamTime) => {\n  // eslint-disable-next-line no-param-reassign\n  videoElement.currentTime = streamTime\n}\n\nconst initialState = {\n  currentTime: 0,\n  adBreaks: [],\n  mpdStartTime: 0,\n  isUserSkipAd: false,\n  skipAdEndTime: 0,\n}\n\nconst getAdEndTime = (streamData, videoElement) => {\n  const {currentTime, duration} = streamData.adProgressData\n  return videoElement.currentTime + duration - currentTime\n}\n\nconst pipeEvent = (emitter, type) => event =>\n  emitter.emit(type, {\n    type,\n    getAd: () => event.getAd(),\n    getStreamData: () => event.getStreamData(),\n  })\n\nconst getMpdStartTime = manifest => {\n  const mpdDocument = new DOMParser().parseFromString(manifest, 'text/xml')\n  const availabilityStartTime = mpdDocument.firstChild.getAttribute(\n    'availabilityStartTime'\n  )\n  return new Date(availabilityStartTime).getTime() / 1000\n}\n\nconst snapback = ({streamManager, originTime, seekTime, seek}) => {\n  const cuePoint = streamManager?.previousCuePointForStreamTime(seekTime)\n  if (seekTime > cuePoint?.end && seekTime > originTime) {\n    once(streamManager, 'adBreakEnded', async () => {\n      // wait for ad playing flag to clear before resuming, TODO seek earlier\n      await new Promise(resolve => setTimeout(resolve, 20))\n      seek(seekTime)\n    })\n  }\n  seek(cuePoint?.start > originTime ? cuePoint.start : seekTime)\n}\n\n// Align to Google DAI StreamManager\nconst createStreamManager = (videoElement, {player, emitter}) => {\n  let state = initialState\n  const streamData = {}\n\n  const impression = new Impression({\n    seek: streamTime => seekVideo(videoElement, streamTime),\n    onAdBreakStarted: pipeEvent(emitter, 'adBreakStarted'),\n    onAdProgress: event => {\n      state.adEndTime = getAdEndTime(event.getStreamData(), videoElement)\n      pipeEvent(emitter, 'adProgress')(event)\n    },\n    onSkippableStateChanged: pipeEvent(emitter, 'skippableStateChanged'),\n    onAdBreakEnded: pipeEvent(emitter, 'adBreakEnded'),\n  })\n\n  const previousCuePointForStreamTime = streamTime => {\n    const ad = getLastAd(state.adBreaks, streamTime - 0.1 - state.mpdStartTime)\n    if (ad.durationInSeconds > 0) {\n      const start = ad.startTimeInSeconds\n      const end = start + ad.durationInSeconds\n      return {start, end, played: state.played[ad.availId]}\n    }\n    return undefined\n  }\n\n  emitter.on('adBreakEnded', () => {\n    state.adEndTime = -1\n    const ad = getLastAd(state.adBreaks, videoElement.currentTime)\n    state.played[ad.availId] = true\n  })\n\n  const refreshTrackingData = async () => {\n    if (!streamData.trackingUrl) {\n      return\n    }\n    const trackingData = (await fetch(streamData.trackingUrl).then(result =>\n      result.json()\n    )) || {avails: []}\n    state.adBreaks = trackingData.avails || []\n    if (trackingData.avails.length > 0) {\n      impression.adBreaks = state.adBreaks\n      emitter.emit('cuepointsChanged', {\n        getStreamData: () => ({\n          cuepoints: state.adBreaks.map(item => ({\n            start: getContentTime(state.adBreaks, item.startTimeInSeconds),\n          })),\n        }),\n      })\n    }\n  }\n\n  const handleTimeUpdate = streamTime => {\n    // TODO get tracking events with actual buffer length\n    if (player.isLive() && streamTime > state.currentTime + 5) {\n      state.currentTime = streamTime\n      refreshTrackingData()\n    }\n\n    // workaround_OTP_2813\n    if (state.isUserSkipAd) {\n      // 0.1 is magic number for float-point\n      if (state.skipAdEndTime + 0.1 >= streamTime) {\n        return\n      }\n      state.isUserSkipAd = false\n      state.skipAdEndTime = -1\n    }\n    impression.currentPosition = streamTime - state.mpdStartTime\n  }\n\n  const streamManager = {\n    requestStream: async (options = {}) => {\n      const reportingUrl = options.client_side_reporting_url\n      const info = await fetchStreamInfo(reportingUrl).catch(error => ({error}))\n      if (!info || info.error) {\n        return\n      }\n      streamData.trackingUrl = new URL(\n        info.trackingUrl,\n        reportingUrl\n      ).toString()\n      streamData.url = new URL(info.manifestUrl, reportingUrl).toString()\n      // tracking events are available only after manifests are requested\n      await fetchManifests(streamData.url)\n      await refreshTrackingData()\n      emitter.emit('loaded', {getStreamData: () => streamData})\n      state.played = {}\n    },\n    addEventListener: (eventName, handler) => emitter.on(eventName, handler),\n    removeEventListener: (eventName, handler) =>\n      emitter.off(eventName, handler),\n    streamTimeForContentTime: contentTime =>\n      getStreamTime(state.adBreaks, contentTime),\n    contentTimeForStreamTime: streamTime =>\n      getContentTime(state.adBreaks, streamTime),\n    previousCuePointForStreamTime,\n    skipAd: () => {\n      if (state.adEndTime > 0) {\n        // workaround_OTP_2813\n        const seekTime = state.adEndTime\n        handleTimeUpdate(state.adEndTime)\n        state.isUserSkipAd = true\n        state.skipAdEndTime = seekTime\n\n        player?.seek(seekTime, 'internal')\n      }\n    },\n    setMpdStartTime: time => {\n      state.mpdStartTime = time\n    },\n    getVastAvails: () => state.adBreaks,\n    reset: () => {\n      state.registered.forEach(removeListener => removeListener())\n      impression.reset()\n      state = initialState\n      streamData.trackingUrl = ''\n    },\n  }\n\n  const handleSeeking = seekingHandler(({originTime, seekTime}) => {\n    if (state.adEndTime > 0) {\n      seekVideo(videoElement, originTime)\n      return\n    }\n    const diff = seekTime - originTime\n    if (Math.abs(diff + 15) <= 0.25) {\n      seekVideo(\n        videoElement,\n        getStreamTime(\n          state.adBreaks,\n          getContentTime(state.adBreaks, originTime) + diff\n        )\n      )\n      return\n    }\n    snapback({\n      streamManager,\n      originTime,\n      seekTime,\n      seek: streamTime => {\n        if (Math.abs(videoElement.currentTime - streamTime) > 0.5) {\n          seekVideo(videoElement, streamTime)\n        }\n      },\n    })\n  })\n\n  state.registered = [\n    on(videoElement, 'timeupdate', () => {\n      handleSeeking(videoElement)\n      if (!videoElement.paused) {\n        handleTimeUpdate(videoElement.currentTime)\n      }\n    }),\n    on(videoElement, 'ended', () => handleTimeUpdate(Infinity)),\n  ]\n\n  return streamManager\n}\n\nconst init = (options, {skipWatched}) => {\n  const {player, video, streamManager} = options\n  const ref = {player, video, streamManager}\n  streamManager.addEventListener('adProgress', event => {\n    ref.adEndTime = getAdEndTime(event.getStreamData(), ref.video)\n  })\n  streamManager.addEventListener('adBreakEnded', () => {\n    ref.adEndTime = -1\n  })\n  player?.on?.('sourceloaded', () => {\n    if (player.manifest.dash && player.isLive()) {\n      // ad start / end time is based on availabilityStartTime in MPD manifest\n      streamManager.setMpdStartTime(getMpdStartTime(player.getManifest()))\n    }\n  })\n  if (skipWatched) {\n    video.addEventListener('timeupdate', () => {\n      const streamTime = video.currentTime\n      const cuePoint = streamManager.previousCuePointForStreamTime(\n        streamTime + 0.5\n      )\n      if (cuePoint?.end > streamTime && cuePoint.played) {\n        player?.seek(cuePoint.end, 'internal')\n      }\n    })\n  }\n  return ref\n}\n\nconst MediaTailorPlugin = ({skipWatched} = {}) => {\n  const emitter = mitt()\n  let ref = {}\n\n  return {\n    load: async (manifestItem, {player, video} = {}) => {\n      if (typeof fetch !== 'function') {\n        addFetchPolyfill()\n      }\n      ref.streamManager?.reset()\n      const mediaTailorOptions = manifestItem.ssai?.media_tailor\n      if (!mediaTailorOptions) {\n        return manifestItem\n      }\n      const streamManager = createStreamManager(video, {player, emitter})\n      ref = init({player, video, streamManager}, {skipWatched})\n      streamManager.requestStream(mediaTailorOptions)\n      const {url} = await new Promise(resolve =>\n        once(streamManager, 'loaded', event => resolve(event.getStreamData()))\n      )\n      if (!url) {\n        console.warn('Ad stream is not available, use fallback stream instead')\n        return manifestItem\n      }\n\n      return {\n        ...manifestItem,\n        ssaiProvider: 'AWS',\n        url,\n        vastAvails: streamManager.getVastAvails(),\n        startTime: streamManager.streamTimeForContentTime(\n          manifestItem.startTime\n        ),\n      }\n    },\n    handleSeek: (contentTime, seek) => {\n      if (!ref.streamManager) {\n        return seek(contentTime)\n      }\n      snapback({\n        streamManager: ref.streamManager,\n        originTime: ref.video.currentTime,\n        seekTime: ref.streamManager.streamTimeForContentTime(contentTime),\n        seek,\n      })\n    },\n    skipAd: () => ref.streamManager.skipAd(),\n    getPlaybackStatus: () =>\n      ref.streamManager && {\n        currentTime: ref.streamManager.contentTimeForStreamTime(\n          ref.video.currentTime\n        ),\n        duration: ref.streamManager.contentTimeForStreamTime(\n          ref.video.duration\n        ),\n        ...(ref.adEndTime > 0 && {\n          adRemainingTime: ref.adEndTime - ref.video.currentTime,\n        }),\n      },\n    on: (name, listener) => emitter.on(name, listener),\n    reset: () => {\n      ref.streamManager?.reset()\n      ref.streamManager = undefined\n    },\n  }\n}\n\nexport default MediaTailorPlugin\n","/* @jsxImportSource @emotion/react */\nimport PropTypes from 'prop-types'\n\nimport {button} from 'style'\n\nconst barStyle = {\n  padding: '36px 18px',\n  // Prevent overflow when content text is too long\n  minWidth: 0,\n  display: 'flex',\n  flexWrap: 'wrap',\n  alignItems: 'center',\n  '> *': {\n    // margin: '0 18px' might override seekbar margin\n    marginLeft: '18px',\n    marginRight: '18px',\n  },\n  opacity: '1',\n  transition: 'opacity 0.5s ease',\n}\n\nconst fadeStyle = {\n  opacity: '0',\n  // disable all UI interactions while hidden\n  pointerEvents: 'none',\n  touchAction: 'none',\n}\n\nconst FunctionBar = ({style, fade, children}) => (\n  <div\n    className=\"kks-player__function-bar\"\n    css={[barStyle, fade && fadeStyle, style, {button}]}\n  >\n    {children}\n  </div>\n)\n\nFunctionBar.propTypes = {\n  style: PropTypes.object,\n  fade: PropTypes.bool,\n  children: PropTypes.node,\n}\nFunctionBar.defaultProps = {\n  style: {},\n}\n\nexport const style = {\n  top: {\n    flexWrap: 'nowrap',\n    backgroundImage: `\n      linear-gradient(\n        to top,\n        rgba(0, 0, 0, 0),\n        rgba(0, 0, 0, 0.8)\n      )\n    `,\n  },\n  bottom: {\n    padding: '0 18px 36px',\n  },\n}\n\nexport default FunctionBar\n","/* @jsxImportSource @emotion/react */\nimport {Fragment} from 'react'\nimport PropTypes from 'prop-types'\n\nconst _css = {\n  userSelect: 'none',\n  color: 'white',\n  fontSize: 20,\n  whiteSpace: 'nowrap',\n  display: 'inline-flex',\n  alignItems: 'center',\n  part: {\n    width: 26,\n    display: 'inline-block',\n    textAlign: 'center',\n  },\n}\n\nconst FormattedTime = ({time, showHour, style}) => {\n  time = Math.floor(time)\n  const second = time % 60\n  const minute = ((time - second) / 60) % 60\n  const hour = (time - second - minute * 60) / 60 / 60\n  return (\n    <span className=\"kks-player__formatted-time\" css={[_css, style]}>\n      {(showHour || hour !== 0) && (\n        <Fragment>\n          <span\n            className=\"kks-player__formatted-time__part\"\n            css={[_css.part, style.part]}\n          >\n            {String(hour).padStart(2, '0')}\n          </span>\n          :\n        </Fragment>\n      )}\n      <span\n        className=\"kks-player__formatted-time__part\"\n        css={[_css.part, style.part]}\n      >\n        {String(minute).padStart(2, '0')}\n      </span>\n      :\n      <span\n        className=\"kks-player__formatted-time__part\"\n        css={[_css.part, style.part]}\n      >\n        {String(second).padStart(2, '0')}\n      </span>\n    </span>\n  )\n}\nFormattedTime.propTypes = {\n  time: PropTypes.number,\n  showHour: PropTypes.bool,\n  style: PropTypes.shape({\n    part: PropTypes.object,\n  }),\n}\nFormattedTime.defaultProps = {\n  style: {},\n}\n\nexport default FormattedTime\n","/* @jsxImportSource @emotion/react */\nimport _get from 'dlv'\n\nimport FormattedTime from 'component/FormattedTime'\nimport SimpleSlider from 'component/SimpleSlider'\nimport {useCastContext} from 'cast/context'\nimport {getLiveTime} from 'util/index'\nimport {SeekOrigin} from 'Enum'\n\nconst sliderStyle = {\n  flex: 1,\n  margin: '0 0.5rem',\n  height: '4px',\n  backgroundColor: 'red',\n}\n\nconst Seekbar = () => {\n  const {\n    state,\n    actions: {seek},\n  } = useCastContext()\n  const {currentTime, progressTime = currentTime, duration} =\n    state.streamType === 'LIVE'\n      ? getLiveTime(_get(state, 'customData') || {})\n      : state\n\n  return (\n    <div\n      className=\"kks-player__seek-bar\"\n      css={{\n        flex: '100%',\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: '18px',\n      }}\n    >\n      <FormattedTime time={progressTime} />\n      {state.streamType === 'LIVE' ? (\n        <div css={sliderStyle} />\n      ) : (\n        <SimpleSlider\n          css={{margin: '0 1rem', flex: 1}}\n          value={progressTime}\n          max={duration}\n          onChangeCommitted={(_, {value}) =>\n            seek({origin: SeekOrigin.START, seconds: value})\n          }\n        />\n      )}\n      <FormattedTime time={Math.max(duration, progressTime)} />\n    </div>\n  )\n}\n\nexport default Seekbar\n","/* @jsxImportSource @emotion/react */\nimport {useContext} from 'react'\nimport PropTypes from 'prop-types'\n\nimport Button from 'component/Button/SquareButton'\nimport Icon from 'component/Icon'\nimport Tooltip from 'component/Tooltip'\nimport I18n from 'context/I18n'\n\nconst IconButton = ({name, src, tooltip, onClick}) => {\n  const {translate} = useContext(I18n.Context)\n\n  return (\n    <Tooltip title={translate(tooltip)} bottom=\"24px\">\n      <Button name={name} onClick={onClick}>\n        <Icon src={src} />\n      </Button>\n    </Tooltip>\n  )\n}\n\nIconButton.propTypes = {\n  name: PropTypes.string,\n  src: PropTypes.string,\n  tooltip: PropTypes.string,\n  onClick: PropTypes.func,\n}\n\nexport default IconButton\n","import icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst PlayButton = () => {\n  const {\n    state: {playerState},\n    actions: {play, pause},\n  } = useCastContext()\n  const action = playerState !== 'PLAYING' ? 'play' : 'pause'\n  const tooltip =\n    playerState !== 'PLAYING' ? 'KKS.PLAYER.PLAY' : 'KKS.PLAYER.PAUSE'\n\n  return (\n    <IconButton\n      src={icon[action]}\n      tooltip={tooltip}\n      onClick={action === 'play' ? play : pause}\n    />\n  )\n}\n\nexport default PlayButton\n","import {SeekOrigin} from 'Enum'\nimport icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst RewindButton = () => {\n  const {\n    actions: {seek},\n  } = useCastContext()\n\n  return (\n    <IconButton\n      src={icon.rewind10}\n      tooltip=\"KKS.PLAYER.REWIND\"\n      onClick={() => seek({origin: SeekOrigin.CURRENT, seconds: -10})}\n    />\n  )\n}\n\nexport default RewindButton\n","import {SeekOrigin} from 'Enum'\nimport icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst ForwardButton = () => {\n  const {\n    actions: {seek},\n  } = useCastContext()\n\n  return (\n    <IconButton\n      src={icon.forward10}\n      tooltip=\"KKS.PLAYER.FORWARD\"\n      onClick={() => seek({origin: SeekOrigin.CURRENT, seconds: 10})}\n    />\n  )\n}\n\nexport default ForwardButton\n","import icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst PreviousEpisodeButton = () => {\n  const {\n    actions: {hasPrevious, changePreviousEpisode},\n  } = useCastContext()\n\n  return (\n    hasPrevious() && (\n      <IconButton\n        src={icon.previousEpisode}\n        tooltip=\"KKS.PLAYER.PREVIOUS\"\n        onClick={changePreviousEpisode}\n      />\n    )\n  )\n}\n\nexport default PreviousEpisodeButton\n","import icon from 'style/icon'\nimport {useCastContext} from 'cast/context'\nimport IconButton from './IconButton'\n\nconst NextEpisodeButton = () => {\n  const {\n    actions: {hasNext, changeNextEpisode},\n  } = useCastContext()\n\n  return (\n    hasNext() && (\n      <IconButton\n        src={icon.nextEpisode}\n        tooltip=\"KKS.PLAYER.NEXT\"\n        onClick={changeNextEpisode}\n      />\n    )\n  )\n}\n\nexport default NextEpisodeButton\n","/* eslint-disable react/jsx-no-target-blank */\n/* @jsxImportSource @emotion/react */\nimport {useContext} from 'react'\nimport classnames from 'classnames'\n\nimport {CastState} from 'Enum'\nimport {useCastContext, useCastVolume} from 'cast/context'\nimport FunctionBar from 'component/Panel/FunctionBar'\nimport Tooltip from 'component/Tooltip'\nimport VolumeControl from 'component/VolumeControl'\nimport SkipButton from 'component/Button/SkipButton'\nimport CastButton from 'player/container/Button/CastButton'\nimport I18n from 'context/I18n'\nimport Seekbar from './Seekbar'\nimport PlayButton from './PlayButton'\nimport RewindButton from './RewindButton'\nimport ForwardButton from './ForwardButton'\nimport PreviousEpisodeButton from './PreEpisodeButton'\nimport NextVideoButton from './NextVideoButton'\n\nconst style = {\n  position: 'fixed',\n  bottom: '0',\n  zIndex: '3',\n  width: '100%',\n  height: '72px',\n  alignItems: 'center',\n  backgroundColor: 'rgba(34, 34, 34, 0.75)',\n  color: '#fff',\n  '> *': {\n    flex: '1',\n  },\n}\n\nconst controlStyle = {\n  padding: '0 18px 6px',\n  '> *': {\n    margin: '0 8px',\n  },\n  '> div:first-child': {\n    // seekbar\n    margin: '0 0 6px',\n  },\n}\n\nconst messageStyle = {\n  flex: '1',\n  minWidth: '0',\n  textAlign: 'center',\n  whiteSpace: 'nowrap',\n  overflow: 'hidden',\n  textOverflow: 'ellipsis',\n}\n\nconst adStatusStyle = {\n  flex: '1',\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'flex-end',\n  a: {\n    display: 'block',\n    textDecoration: 'underline',\n    '&:visited': {\n      color: 'inherit',\n    },\n  },\n  button: {\n    margin: '0 1.5rem',\n    padding: '0.2rem 0.5rem',\n    width: 'auto',\n    border: '2px solid rgba(255, 255, 255, 0.7)',\n    fontSize: '120%',\n  },\n}\n\nconst castButtonTooltip = {\n  [CastState.CONNECTED]: 'KKS.PLAYER.CAST.DISCONNECT',\n  [CastState.NOT_CONNECTED]: 'KKS.PLAYER.CAST',\n}\n\nconst MiniControl = () => {\n  const {translate} = useContext(I18n.Context)\n  const {\n    state: {\n      castState,\n      deviceName,\n      mediaTitle,\n      playerState,\n      streamType,\n      isPlayingBreak,\n      currentBreakTime,\n      whenSkippable,\n      clickThroughUrl,\n    },\n    actions: {skipAd},\n  } = useCastContext()\n  const secondsToSkip = Math.ceil(whenSkippable - currentBreakTime)\n  const isIdle =\n    castState === 'CONNECTED' && (!playerState || playerState === 'IDLE')\n  const showIfConnected = {\n    display: castState === 'CONNECTED' ? 'flex' : 'none',\n  }\n  const messageProperties = {\n    VIDEO: mediaTitle,\n    CHROMECAST: deviceName,\n  }\n  const connectedMessage = translate('KKS.CAST.CONNTECTED', messageProperties)\n  const castingMessage = translate('KKS.CAST.STATUS', messageProperties)\n\n  return (\n    <div\n      className={classnames('kks-player__minictrl', {\n        'kks-player__minictrl--show': castState === 'CONNECTED',\n      })}\n      css={[showIfConnected, style]}\n    >\n      {isIdle ? (\n        <Tooltip overflowOnly title={connectedMessage}>\n          <div className=\"kks-player__minictrl__cast-name\" css={messageStyle}>\n            {connectedMessage}\n          </div>\n        </Tooltip>\n      ) : (\n        <FunctionBar style={controlStyle}>\n          {!isPlayingBreak && <Seekbar />}\n          <PreviousEpisodeButton />\n          <PlayButton />\n          <NextVideoButton />\n          {isPlayingBreak ? (\n            <div css={adStatusStyle}>\n              <a href={clickThroughUrl} rel=\"noopener\" target=\"_blank\">\n                <I18n.Message code=\"KKS.SSAI.LEARN.MORE\" wrap={false} />\n              </a>\n              {whenSkippable > 0 && (\n                <SkipButton remainingTime={secondsToSkip} onClick={skipAd} />\n              )}\n            </div>\n          ) : (\n            <>\n              {streamType !== 'LIVE' && <RewindButton />}\n              {streamType !== 'LIVE' && <ForwardButton />}\n              <Tooltip overflowOnly title={castingMessage}>\n                <div css={messageStyle}>{castingMessage}</div>\n              </Tooltip>\n            </>\n          )}\n          <VolumeControl displaySlider useVolumeState={useCastVolume} />\n          <Tooltip\n            title={translate(castButtonTooltip[castState])}\n            bottom=\"24px\"\n          >\n            <CastButton />\n          </Tooltip>\n        </FunctionBar>\n      )}\n    </div>\n  )\n}\n\nexport default MiniControl\n","import PropTypes from 'prop-types'\nimport Types from 'Types'\nimport I18n from 'context/I18n'\nimport {CastProvider} from './context'\nimport MiniControl from './container/MiniControl'\n\nconst CastSender = ({lang, langCustomCode, children, ...other}) => (\n  <CastProvider lang={lang} {...other}>\n    <I18n.Provider lang={lang} langCustomCode={langCustomCode}>\n      {children}\n      <MiniControl />\n    </I18n.Provider>\n  </CastProvider>\n)\n\nCastSender.propTypes = {\n  appId: PropTypes.string,\n  host: PropTypes.string,\n  accessToken: PropTypes.string,\n  deviceId: PropTypes.string,\n  lang: Types.LanguageCode,\n  langCustomCode: PropTypes.object,\n  customHeaders: PropTypes.object,\n  onConnected: PropTypes.func,\n  onCasting: PropTypes.func,\n  onError: PropTypes.func,\n  children: PropTypes.node,\n}\n\nexport default CastSender\n","import {getOS} from 'util/environment'\n\n/**\n * @description Unplugging / disconnecting headphones will pause video in iOS,\n * and in some iOS versions, video is paused without firing a pause event.\n * Pause the video if paused by iOS in this case.\n * @param {HTMLMediaElement} video\n */\nconst handleIOSHeadphonesDisconnection = ({maxStuckSeconds = 1} = {}) => {\n  const video = document.querySelector('video')\n  if (video && getOS().name === 'iOS') {\n    let playState = {playing: false}\n    const saveState = ({playing = playState.playing} = {}) => {\n      playState = {\n        playing,\n        ...(playing && {lastTimeUpdate: Date.now()}),\n      }\n    }\n    video.addEventListener('pause', () => {\n      playState = {playing: false}\n    })\n    video.addEventListener('seeking', () => {\n      playState = {playing: false}\n    })\n    video.addEventListener('waiting', () => {\n      playState = {playing: false}\n    })\n    video.addEventListener('webkitpresentationmodechanged', () => {\n      playState = {\n        playing: false,\n        pauseDetection: Date.now() + 5000,\n      }\n    })\n    video.addEventListener('timeupdate', () => {\n      if (!video.paused) {\n        const delta = Date.now() - playState.lastTimeUpdate\n        playState.lastTimeUpdate = Date.now()\n        if (delta > 0 && delta < 1000) {\n          playState.playing = true\n        }\n      }\n      saveState({playing: !video.paused})\n    })\n    video.addEventListener('ratechange', saveState)\n    setInterval(() => {\n      if (\n        video.paused ||\n        !playState.playing ||\n        playState.pauseDetection >= Date.now()\n      ) {\n        return\n      }\n      const secondsStuck = (Date.now() - playState.lastTimeUpdate) / 1000\n      if (secondsStuck >= maxStuckSeconds) {\n        console.log(\n          'Video is not playing, pause to workaround iOS unpluging headphones'\n        )\n        video.pause()\n      }\n    }, 200)\n  }\n}\n\nexport default handleIOSHeadphonesDisconnection\n","import config from 'config/index'\nimport {Player} from 'enterprise'\n\nexport {Player}\nexport {default as MediaTailorPlugin} from 'plugins/MediaTailor'\n\nexport {default as CastSender} from 'cast'\nexport {default as CastButton} from 'player/container/Button/CastButton'\n// v3 interface, to be deprecated ?\nexport {CastConsumer} from 'cast/context'\n\nexport {getVersion} from 'util/index'\n\nexport const {SupportEnvironment} = config\nexport {default as handleIOSHeadphonesDisconnection} from 'player/handleIOSHeadphonesDisconnection'\nexport {getEnterpriseDrmConfig, getDefaultDrmConfig} from 'playerCore/drm'\n"],"names":["BitmovinConfig","SupportEnvironment","desktop","mobile","combineReducer","structure","props","Object","keys","state","action","newState","reduce","res","name","isChange","some","queryString","object","getOwnPropertyNames","map","encodeURIComponent","join","catchBy","error","func","args","apply","this","e","scope","min","value","max","getLiveTime","detail","startTime","_get","endTime","duration","nowSecond","Math","floor","Date","now","currentTime","convertToTimeString","date","fmt","replace","getFullYear","slice","getMonth","getDate","getHours","getMinutes","getSeconds","convertToSeconds","timeString","hours","minutes","seconds","split","parseFloat","isInScope","getVersion","undefined","getPopoverPosition","rect","target","boundary","rectX","x","left","boundaryX","maxLeft","width","targetCenter","right","center","alignLeft","top","height","debounce","callback","ms","lastTouchEnd","event","getTime","preventDefault","FairplayKeySystem","prepareContentId","contentUri","uriParts","contentId","toLowerCase","prepareCertificate","cert","Uint8Array","prepareMessage","keyMessageEvent","keySession","spc","messageBase64Encoded","assetId","prepareLicense","license","substr","getWidevineLevel","levels","keySystem","navigator","requestMediaKeySystemAccess","robustness","videoCapabilities","contentType","getConfiguration","getDeviceLevel","level","startsWith","getRobustness","widevine","deviceLevel","policy","blocked","blockedDevices","userAgent","includes","getDrmConfig","config","host","fairplay","videoRobustness","widevineHeaders","headers","fairplayHeaders","LA_URL","certificateURL","certificateHeaders","playready","getEnterpriseDrmConfig","token","withCredentials","widevine_security_level","getDefaultDrmConfig","Authorization","ReactPropTypesSecret","printWarning","require$$0","has","ReactIs","assign","checkPropTypes","require$$1","require$$2","en","ja","zhTW","LanguageCode","EN","JA","ZHTW","ModuleState","UNINITIALIZATION","INITIALIZING","INITIALIZED","LOADING_CONTENT","LOADING","READY","ERROR","Infinity","StorageKey","VOLUME","LIMIT_ONE_PLAYBACK","PlayerState","UNMOUNTED","MOUNTING","MOUNTED","LOADED","STALLING","PLAYING","PAUSED","ENDED","PlayerViewMode","FULLSCREEN","INLINE","PICTURE_IN_PICTURE","APIState","DISABLE","ENABLE","AgentCommand","AUTO","PLAY","PAUSE","UNMOUNT","EnvironmentErrorName","NOT_SUPPORT_DEVICE","NOT_SUPPORT_OS","NOT_SUPPORT_OS_VERSION","NOT_SUPPORT_BROWSER","NOT_SUPPORT_BROWSER_VERSION","SeekOrigin","START","CURRENT","CastState","NO_DEVICES_AVAILABLE","CONNECTED","CONNECTING","NOT_CONNECTED","ItemType","VIDEOS","LIVES","ID","PropTypes","oneOfType","number","string","oneOf","values","LanguageCodeEnum","SupportEnvironmentItem","shape","device","type","os","version","browser","ItemTypeEnum","VideoInfo","licenseId","PlayerStateEnum","TextCode","Array","from","Set","entries","lang","langItem","concat","AgentCommandEnum","linkPluginEvents","plugins","handlers","registered","plugin","eventName","handler","on","forEach","removeListener","getPlaycraftErrorMessage","code","getErrorInfo","test","message","filter","Boolean","data","response","httpStatus","status","INITIALIZE","LOAD_CONTENT","READY_TO_PLAY","BACK","CAST_STATE_CHAGNE","REPLAY","initialize","initialized","loadContent","readyToPlay","back","castStateChange","castState","replay","console","CHANGE_NEXT_EPISODE","CHANGE_PREVIOUS_EPISODE","SELECT_QUALITY","SET_QUALITY_ITEMS","SELECT_MEDIA_SOURCE","SET_MEDIA_SOURCES","CHANGE_THUMBNAIL_SEEKING","CHANGE_RECOMMENDATION_PANEL","TOGGLE_RECOMMENDATION_PANEL","OPEN_PANEL","HIDE_PANEL","OFFER_AUTOPLAY","DISMISS_AUTOPLAY","SHOW_MENU","HIDE_MENU","CHANGE_SETTINGS","DRAG","DROP","FOCUS_SEEK_BAR","DRAG_SEEK_BAR","DROP_SEEK_BAR","LEAVE_SEEK_BAR","SET_AUTO_PLAY","RESET_END_ROLL","STREAM_EVENTS_CHANGED","AD_BREAK_STARTED","AD_BREAK_ENDED","VISIBILITY_CHANGE","UPDATE_SUBTITLES_CONTENT","changeNextEpisode","videoId","changePreviousEpisode","selectQuality","to","setQualityItems","items","selectMediaSource","mediaSource","setMediaSources","enableRecommendationPanel","enabled","disableRecommendationPanel","toggleRecommendationPanel","openPanel","panel","hidePanel","enableThumbnailSeeking","disableThumbnailSeeking","offerAutoplay","dismissAutoplay","showTooltip","id","border","SHOW_TOOLTIP","updateTooltip","UPDATE_TOOLTIP","showMenu","hideMenu","changeSettings","section","showThumbnail","thumbnailTime","SHOW_THUMBNAIL","focusSeekBar","seekTime","dragSeekBar","dropSeekBar","leaveSeekBar","drag","drop","setAutoPlay","autoPlay","resetEndRoll","streamEventsChanged","streamEvents","playbackStatus","adBreakStarted","adProgressData","skipTimeOffset","adBreakEnded","visibilityChange","updateSubtitlesContent","content","Action","useTimeout","timer","useRef","useEffect","clearTimeout","current","setTimeout","useInterval","clearInterval","setInterval","useCache","setState","useState","shallowCompare","useDebounce","delay","dispatch","waiting","useAutoHide","hideTimeMs","pinned","tapToHide","onHide","mode","setMode","interact","hide","show","onClick","tagName","onMouseMove","window","addEventListener","removeEventListener","once","oneTime","uuidv4","crypto","msCrypto","c","getRandomValues","toString","modes","videos","lives","mapLogEvents","session","video","playerName","getPlaybackStatus","emitter","mitt","seeking","playerStartTime","moduleStartTime","getContent","commonPropties","player_name","playback_module_version","playback_mode","playback_session_id","sessionId","title","current_position","video_total_duration","section_id","name_2","channelName","SSAI","ssaiProvider","dispatchStart","lastStartTime","isPlayingAd","emit","dispatchStop","played","adPlayedDuration","playedDuration","ad_played_duration","module_error_code","player_startup_time","video_startup_time","seekingFrom","seeking_from","seeking_to","video_playback_ended_at_percentage","video_total_played_duration","ad_total_played_duration","all","reset","off","createSession","dispatchEvent","end","playerContext","createContext","logEventNames","playbackBegan","playbackStarted","playbackStopped","playbackEnded","seeked","adPlaybackStarted","adPlaybackStopped","PlayerProvider","options","videoRef","uiRef","children","sendLog","instance","logTarget","_jsx","propTypes","node","useSetPlayer","ref","useContext","player","usePlayer","useUiContainer","useUiRef","useVideoRef","useOptions","useDispatchSessionEvent","Context","Adapter","React","Full","Module","LocalStorage","Player","PlayerProgress","PlayerVolume","API","UI","StoreProvider","store","addChangedListener","getState","dispatchSessionEvent","handleStart","uiAction","getStreamData","getAd","getSkipTimeOffset","cuepointsChanged","cuepoints","adProgress","playerState","viewMode","progress","volume","array","loadScript","url","Promise","resolve","script","document","createElement","async","src","body","appendChild","SENDER_URL","getContext","cast","framework","CastContext","getInstance","ensureSenderFramework","reject","chrome","__onGCastApiAvailable","isAvailable","getMediaSession","context","currentSession","getCurrentSession","ensureSession","requestSession","then","requestLoad","mediaInfo","request","media","LoadRequest","MediaInfo","metadata","GenericMediaMetadata","loadMedia","castContext","initState","castingMedia","deviceName","mediaTitle","progressTime","customData","muted","streamType","defaultCastContext","actions","hasPrevious","hasNext","CastProvider","appId","accessToken","deviceId","customHeader","onConnected","onCasting","onError","customHeaders","setCastState","setOptions","receiverApplicationId","resumeSavedSession","autoJoinPolicy","AutoJoinPolicy","ORIGIN_SCOPED","CastContextEventType","CAST_STATE_CHANGED","getCastDevice","friendlyName","getVolume","isMute","RemotePlayer","controller","RemotePlayerController","RemotePlayerEventType","PLAYER_STATE_CHANGED","TITLE_CHANGED","MEDIA_INFO_CHANGED","DURATION_CHANGED","CURRENT_TIME_CHANGED","VOLUME_LEVEL_CHANGED","IS_MUTED_CHANGED","IS_PLAYING_BREAK_CHANGED","isPlayingBreak","BREAK_CLIP_ID_CHANGED","breakClipId","clickThroughUrl","breakClips","find","item","CURRENT_BREAK_TIME_CHANGED","currentBreakTime","whenSkippable","getItem","index","length","connect","customQuery","contentID","itemType","catch","stopCasting","endCurrentSession","play","PlayRequest","pause","PauseRequest","seek","origin","getEstimatedTime","SeekRequest","skipAd","currentItemId","itemId","queuePrev","queueNext","setVolume","setMute","mute","result","Types","useCastContext","CastConsumer","Consumer","useCastVolume","changeVolume","toggleMuted","getMediaSource","defaultMediaSource","selectedMediaSource","mediaSourcePrecedence","MOUNT","LOAD","UNLOAD","UNLOADED","FETCH_STATE","SET_STATE","UPDATE_CURRENT_TIME","SEEK","SEEKED","UPDATE_VOLUME","SET_VOLUME","MUTE","MUTED","UNMUTE","UNMUTED","ENTER_FULL_SCREEN","LEAVE_FULL_SCREEN","UPDATE_VIEW_MODE","UPDATE_BUFFER_TIME","STALLED","CHANGE_DASH_QUALITY","mount","mounted","load","loaded","payload","unload","unloaded","ready","fetchState","unmount","playing","paused","ended","updateCurrentTime","time","adRemainingTime","updateVolume","unmute","unmuted","enterFullScreen","leaveFullScreen","updateViewMode","updateBufferTime","stalling","stalled","changeDashQuality","SAVE","key","save","getLocalStorageValue","defaultValue","source","localStorage","JSON","parse","setLocalStorageValue","setItem","stringify","_localStorage","next","CLEAN","PREVIEW_CONTENT","PREPARE_PLAYBACK","PREPARE_THUMBNAIL","SET_PLAYBACK","SET_THUMBNAILS","REFRESH_PLAYBACK_TOKEN","UPDATE_LAST_PLAYED_TIME","UPDATE_PLAYED_END","REFRESH_CONTENT","SET_CONTENT","END_PROGRAM","CHANGE_PROGRAM","END_SECTION","CHANGE_SECTION","CONTENT_CHANGE","END_LIVE_TYPE","contentChange","clean","disable","enable","previewContent","preparePlayback","prepareThumbnail","setPlayback","playbackInfo","setThumbnails","thumbnails","refreshPlaybackToken","sessionData","updateLastPlayedTime","updatePlayedEnd","refreshContent","setContent","endProgram","changeProgram","oldId","newId","endSection","changeSection","endLiveType","waitStateChange","check","waitActionDispatch","addDispatchedListener","waitChainReaction","trigger","_result","operator","LocalStorageAction","PlayerAction","PlayerType","getModuleState","apiState","APIAction","APIType","manifests","availableSources","UIAction","resolutions","Error","changeQuality","changeMediaSource","retry","prepareCast","abs","contentEqual","useDebounced","timeMs","CastAdapter","lastState","contentIsLoaded","defaultProps","bytesToUuid","v4","v1","LIMIT_INFO_LIFE_MS","CHECK_INTERVAL_MS","getSavedAuthId","limitInfo","expiresAt","authId","LimitOnePlayback","authRef","moduleState","startInterval","stopInterval","checkOnePlayback","savedAuthId","clearKey","addUnloadListeners","removeUnloadListeners","uuid","parseVTT","lines","line","text","replaceLast","path","parseThumbnails","imagePath","y","image","position","axios","get","responseType","req","resp","URL","createObjectURL","blobUrls","mapSrcToBlobUrl","blobUrl","getHeader","retry3","PromiseRejectFilter","condition","filterNetworkError","method","query","params","sessionPath","last_played","last_position","endStart","end_start_position","recommend","previous","prev_video","images","image_url","next_video","playbackStart","playback_token","heartbeat","playbackEnd","playbackTokenInfo","Session","constructor","resource","resourceInfo","playbackToken","_startPromise","_endPromise","start","tokenInfo","info","restart","HEARTBEAT_INTERVAL","preferredConfig","preferredMediaSource","isActivatable","Resource","fetchContent","fetchFullPlayback","targetSourceType","contentInfo","sources","drm","drm__fairplay","drm_portal_url","drm__playready","drm__widevine","playingSourceType","thumbnailSeekingsURL","thumbnail_seeking_url","thumbnailUrl","heartbeatInProgress","newContent","oldSectionId","newSectionId","Event","onBack","onReplay","onVideoQualityChanged","onMediaSourceChanged","onChangeVideo","onChangeToNextVideo","onChangeToPreviousVideo","onSectionChange","UIType","Agent","command","preload","playerRef","useImperativeHandle","autoPlayByUI","parser","UAParser","getOS","getDevice","osName","getBrowser","isDesktop","compareVersion","v2","v1parts","p","Number","v2parts","i","I","checkEnvironment","supportEnvironmentList","toUnique","list","validators","errorName","getErrorProps","allowDevices","env","allowOSs","minVersion","allowBrowsers","scopes","validator","newScopes","havePointerQuery","EnvironmentValidator","arrayOf","MobileSafariPlugin","containerRef","onViewModeChange","onEnterFullscreen","onExitFullscreen","videoEle","querySelector","syncToStore","webkitPresentationMode","webkitExitFullScreen","abortMultiTouch","element","isRequired","OTP_1878","isMuted","Provider","langCustomCode","translations","LANGS","getMessage","property","substring","translate","Message","wrap","Wrap","elementType","useTranslations","getDefault","_","FormattedMessage","DeviceDetector","setDevice","touchable","blurPause","shouldPause","getVideoElement","layer","display","justifyContent","alignItems","mask","backgroundColor","flexDirection","whiteSpace","textAlign","color","userSelect","button","outline","cursor","padding","flexShrink","pointerEvents","touchAction","getTargetQuality","suggested","sorted","sort","a","b","filterHlsManifestQualities","sourceUrl","maxHeight","RegExp","match","part1","part2","fileName","part","activationTriggeringEvents","isSafariVideo","videoElement","canPlayType","eventNames","autoUnlockAutoplay","unlock","setUnlocked","cleanup","capture","log","removeListeners","preventLeaveFullscreenPause","lastLeave","minInteractionDelay","resumeSystemPause","lastPause","setUserPause","ISSUER","getMaxQuality","manifestType","quality","selectedQualityName","qualityItems","qualityPrecedence","parseInt","default","getLoadOptions","mostRobustLevel","drmHost","dash","hls","widevine_blacklist","applyLoadPlugins","manifest","last","handleSeek","seekHandler","realPosition","getCurrentTime","getDuration","loadStream","self","preferredManifestFormat","getSupportedTech","streaming","baseOptions","contentChangedTimes","manifestUrl","streamInfo","adContainer","adContainerRef","loadOptions","getFilteredManifest","maxQuality","filtered","Blob","handleSafariStalledTooLong","getStreamType","isStalled","timeout","BitmovinPlayer","Component","createRef","componentDidMount","container","convertToPlayerState","ApiType","requestFullscreen","navigationUI","setViewMode","fullscreenElement","hasEnded","componentWillUnmount","removeBlurListener","destroy","PlayerEvent","licenseKey","playback","autoplay","tweaks","stop_download_on_pause","native_hls_parsing","adaptation","onVideoAdaptation","qualities","getAvailableVideoQualities","currentQuality","qualityBoundary","cur","bitrate","setPlayer","setVideoElement","preferredStreaming","withErrorHandling","SourceLoaded","setAttribute","workaround_ST_3009","workaround_ST_4489","isLive","onSourceLoaded","Ready","onReady","Play","onPlay","Playing","onPlaying","Paused","onPaused","PlaybackFinished","onEnded","TimeChanged","workaround_OTP_1783","onTimeChanged","lastSeekEventIssuer","Seek","seekTarget","issuer","onSeek","Seeked","onSeeked","VolumeChanged","targetVolume","sourceVolume","onVolumeChanged","Muted","onMuted","Unmuted","onUnmuted","ViewModeChanged","viewModeEvent","getContainer","SegmentRequestFinished","getBufferLength","getVideoBufferLength","getAudioBufferLength","StallStarted","onStallStarted","StallEnded","onStallEnded","CueEnter","CueExit","getViewMode","isFinite","bufferTime","getSource","timerId","lastTime","startDetect","isPlaying","stopDetect","Destroy","videoElem","_play","fromExternalPlay","render","bool","PlayerVideo","useStore","selector","formattedTime","sourceTime","padStart","getPlaybackInfo","subtitle","start_time","end_time","seekbarFocused","isSettingsOpen","activePanel","ad","focused","controlsDisplay","autoplayDialogOpening","programTime","channelTitle","ceil","adStatus","total","adUrl","adSkipTimeOffset","seekable","subtitlesContent","useUiActions","imageStyle","objectFit","transform","CoverImageWrap","getPlaybackState","loading","forward10","rewind10","volumeHight","volumeLow","setting","previousEpisode","nextEpisode","pauseCircle","playCircle","playCircleBorder","arrowTop","close","castNotConnected","castConnected","castConntecting0","castConntecting1","castConntecting2","warning","cancel","style","zIndex","borderRadius","isOverflowing","scrollWidth","clientWidth","Tooltip","bottom","overflowOnly","tooltipRef","boxes","open","setOpen","setPosition","childProps","onMouseEnter","currentTarget","getBoundingClientRect","onMouseLeave","targetPosition","matchMedia","matches","_jsxs","cloneElement","createPortal","ControlsTooltip","uiContainer","playAction","_style","SquareButton","others","classnames","Icon","backgroundPosition","backgroundSize","backgroundImage","IconButton","Button","icon","tooltip","PlayButton","playbackState","disabled","buttonProps","cx","railStyle","flex","overflow","background","markStyle","thumbStyle","boxShadow","getPointerData","pageX","pageY","touches","changedTouches","getSliderValue","debouncedPointerHandlers","onMove","onLeave","scheduled","schedule","requestAnimationFrame","onPointerMove","buttons","onPointerLeave","eventHandlers","onPointerDown","onPointerUp","onTouchStart","onTouchMove","onTouchEnd","SimpleSlider","marks","className","classes","onChange","onChangeCommitted","pointerState","focusValue","setFocusValue","currentPosition","pointerHandlers","pointerValue","handlePointerUp","pointerId","releasePointerCapture","stopPropagation","setPointerCapture","rail","track","marked","thumb","containerStyle","VideoThumbnail","memo","useThumbnail","thumbnailSeekings","t","seekbarStyle","fontSize","letterSpacing","sliderStyle","margin","opacity","transition","thumbnailStyle","getSliderStyle","css","getThumbailOffset","pointerX","leftOffset","offsetLeft","rightOffset","offsetWidth","reducePointer","hover","Seekbar","thumbnailSeeking","dispatchPointer","useReducer","pointerActive","displayTime","thumbnail","displayThumbnail","ClassNames","_css","LiveSeekbar","slider","RewindButton","ForwardButton","VolumeControl","useVolumeState","displaySlider","TooltipComponent","iconName","usePlayerVolume","BaseVolumeControl","logger","flag","process","NODE_ENV","debug","groupEnd","thunk","createGate","internalSync","updateTime","convertDRMToNameMap","convertManifestToNameMap","protocol","userAction","playingQuality","mergePlayerState","other","mergeProgress","mergeVolume","mergeViewMode","uiType","mediaSources","recommendationPanel","opening","hadShownEndRoll","getAdStatus","adPosition","totalAds","openRecommendationAfterEnd","playerType","reducer","changeListeners","dispatchListeners","errorGate","middlewares","applyMiddlewares","middleware","reduceRight","createRegister","listeners","push","indexOf","splice","zustand","create","devtools","redux","createHook","oldState","finalAction","useMenu","shouldShowVersions","shouldShowQuality","shouldShowSubtitles","subtitlesMenu","shouldShowAudio","audioMenu","defaultQualityName","targetHeight","it","speedItems","label","getSettingSections","subtitleItems","selectedSubtitleName","audioItems","selectedAudioName","playbackRate","selectedValue","useSettings","defaultQuality","subtitles","getAvailableAudio","getQualityText","getAudio","getPlaybackSpeed","useChangeSettings","setPlaybackSpeed","setter","setAudio","SettingButton","haveSettings","connectingAnimation","keyframes","styles","animation","CastButton","toLocaleLowerCase","CastVideoButton","handleCast","FunctionButtons","full","toolPanels","FullScreenButton","PreEpisodeButton","preEpisode","keep","NextEpisodeButton","BackButton","ErrorMessage","errorAction","I18n","CODE","errorMessage","TextButton","rotateInfinite","borderRightColor","Loading","fadeout","animating","animationName","backgroundRepeat","animationFillMode","animationDelay","animationDuration","PlayPanel","href","setAnimating","Link","maxWidth","fontWeight","LinearEnd","onRetry","iconStyle","CastMask","marginLeft","SkipButton","remainingTime","PlayPane","UiAction","ErrorOverlay","CastingOverlay","Casting","LinearEndedOverlay","LinearEnded","getAdSkipTimeOffset","AdSkipButton","streamTime","setStreamTime","upadteTime","getComponents","PreviousEpisodeButton","expand","boxSizing","h1","lineHeight","textDecoration","dropTop","responsiveStyles","rowStyle","marginRight","displayStyles","hidden","shown","controlsDisplayStyles","controlsStyle","textEllipsis","textOverflow","infoStyle","backStyle","skipStyle","dekstopStyle","desktopControls","flexWrap","marginBottom","ControlsBlock","order","playButton","rewindButton","forwardButton","previousEpisodeButton","nextEpisodeButton","DefaultLayout","size","haveBottomItem","seekbar","controlButtons","volumeControl","functionButtons","fullscreenButton","backButton","adLink","adSkipButton","backItems","backRef","rest","openIcon","closeIcon","titleStyle","contentStyle","contentHiddenStyle","RecommendationBox","toggle","foldedHeight","folded","RecommendationPanel","panelStyle","alignSelf","panelOpenStyle","panelClosedStyle","backdropStyle","backdropOpenStyle","BottomPanels","recommendation","hasBackdrop","panelOpen","active","subtitlesStyle","textShadow","Subtitles","sizes","embed","PlayerUi","Layout","currentBreakpoint","useDimensions","polyfill","ResizeObserver","breakpoints","uiElements","normal","big","cover","imageUrl","dismiss","PlayDialog","coverImageUrl","useCountdownSecond","timeLeft","setTimeLeft","intervalId","AutoplayDialog","playNext","head","overlay","row","space","hasOptions","selected","MenuItemText","MenuSection","sharedStyle","onSelect","MenuItem","PlayerSettings","hasBottomPanel","setPath","menuSections","useOnclickOutside","refs","eventTypes","Fragment","selectedName","SimplePlayerUi","SYNC_INTERVAL","useSyncLinearInfo","clearTimer","getEndedStatus","endStartSeconds","getAutoplayNextActive","endStatus","useUpdateLastPlayed","playStatus","isVod","useUpdateEnded","useAutoPlayNext","useVodHandlers","autoPlayNext","PlaybackHooks","limitOnePlaybackAtSameTime","APIAdapter","needThumbnailSeeking","LocalStorageAdapter","LimitOnePlaybackAdapter","EventAdapter","DeviceDetecter","forwardRef","defaultConfig","onLogging","useMemo","createStore","onSourceUnloaded","EnterprisePlayer","DefaultPlayer","getManifestUrl","findIndex","fetchManifests","endsWith","fetch","innerUrl","_IsNumber","AD_TIME_EVENT_TYPE","doNothing","skipOffset","percentageOffset","timeOffset","startTimeInSeconds","durationInSeconds","inRange","getCurrentAd","adBreak","ads","adEventData","_common","currentAd","adItems","waitingForPlayAds","avail","trackingEvents","eventType","beaconUrls","Impression","onAdBreakStarted","onAdProgress","onAdBreakEnded","onSkippableStateChanged","adBreaks","waitingForPlayAdIndex","resumeUserSeekTime","resumeAdStartTime","isResumed","checkAdEventProcess","checkAdCueTone","getAdIndex","availId","getActiveAdIndex","getAdTimingInfo","isWithinTimeRange","adInfo","adStartTime","adDuration","getSkippedAds","isFired","setAdIsFiredByIndex","activeAdIndex","checkAdEvent","currentAdStartTime","currentAdEndTime","isAdStillPlaying","nextAd","adIndex","nextAdStartTime","updateWaitingForPlayIndex","updateCurrentAd","updateWaitingForPlayAds","lastPosition","isSkippableEventFired","currentBreak","trackingTypes","isSkippable","adEventIndex","skippedAds","seekTargetAdIndex","setAllAdsFired","resetSession","getLastAd","avails","getStreamTime","contentTime","getContentTime","seekingHandler","handleSeeking","originTime","addFetchPolyfill","json","fetchStreamInfo","eventTarget","listener","seekVideo","initialState","mpdStartTime","isUserSkipAd","skipAdEndTime","getAdEndTime","streamData","pipeEvent","getMpdStartTime","mpdDocument","DOMParser","parseFromString","availabilityStartTime","firstChild","getAttribute","snapback","streamManager","cuePoint","previousCuePointForStreamTime","createStreamManager","impression","adEndTime","refreshTrackingData","trackingUrl","trackingData","handleTimeUpdate","requestStream","reportingUrl","client_side_reporting_url","streamTimeForContentTime","contentTimeForStreamTime","setMpdStartTime","getVastAvails","diff","init","skipWatched","getManifest","MediaTailorPlugin","manifestItem","mediaTailorOptions","ssai","media_tailor","warn","vastAvails","barStyle","minWidth","fadeStyle","FunctionBar","fade","FormattedTime","showHour","second","minute","hour","String","controlStyle","messageStyle","adStatusStyle","castButtonTooltip","MiniControl","secondsToSkip","isIdle","showIfConnected","messageProperties","VIDEO","CHROMECAST","connectedMessage","castingMessage","NextVideoButton","CastSender","handleIOSHeadphonesDisconnection","maxStuckSeconds","playState","saveState","lastTimeUpdate","pauseDetection","delta","secondsStuck"],"mappings":"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"}